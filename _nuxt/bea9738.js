(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{484:function(t,o,n){var e,r,h;h=function(t){function o(t,o,n,e){t.hasOwnProperty(o)||(t[o]=e.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:t[o]}})))}o(t=t?t._modules:{},"Extensions/Annotations/AnnotationChart.js",[t["Core/Utilities.js"]],(function(t){function o(b,a){return b=this.initAnnotation(b),this.options.annotations.push(b.options),g(a,!0)&&(b.redraw(),b.graphic.attr({opacity:1})),b}function n(){var b=this;b.plotBoxClip=this.renderer.clipRect(this.plotBox),b.controlPointsGroup=b.renderer.g("control-points").attr({zIndex:99}).clip(b.plotBoxClip).add(),b.options.annotations.forEach((function(a,t){if(!b.annotations.some((function(b){return b.options===a}))){var o=b.initAnnotation(a);b.options.annotations[t]=o.options}})),b.drawAnnotations(),a(b,"redraw",b.drawAnnotations),a(b,"destroy",(function(){b.plotBoxClip.destroy(),b.controlPointsGroup.destroy()})),a(b,"exportData",(function(a){var t=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,o=!a.dataRows[1].xValues,n=b.options.lang&&b.options.lang.exportData&&b.options.lang.exportData.annotationHeader,g=function(b){if(t){var a=t(b);if(!1!==a)return a}return a=n+" "+b,o?{columnTitle:a,topLevelColumnTitle:a}:a},q=a.dataRows[0].length,u=b.options.exporting&&b.options.exporting.csv&&b.options.exporting.csv.annotations&&b.options.exporting.csv.annotations.itemDelimiter,e=b.options.exporting&&b.options.exporting.csv&&b.options.exporting.csv.annotations&&b.options.exporting.csv.annotations.join;b.annotations.forEach((function(b){b.options.labelOptions&&b.options.labelOptions.includeInDataExport&&b.labels.forEach((function(b){if(b.options.text){var t=b.options.text;b.points.forEach((function(b){var o=b.x,n=b.series.xAxis?b.series.xAxis.options.index:-1,g=!1;if(-1===n){b=a.dataRows[0].length;for(var p=Array(b),r=0;r<b;++r)p[r]="";p.push(t),p.xValues=[],p.xValues[n]=o,a.dataRows.push(p),g=!0}if(g||a.dataRows.forEach((function(b){!g&&b.xValues&&void 0!==n&&o===b.xValues[n]&&(e&&b.length>q?b[b.length-1]+=u+t:b.push(t),g=!0)})),!g){for(b=a.dataRows[0].length,p=Array(b),r=0;r<b;++r)p[r]="";p[0]=o,p.push(t),p.xValues=[],void 0!==n&&(p.xValues[n]=o),a.dataRows.push(p)}}))}}))}));var p=0;a.dataRows.forEach((function(b){p=Math.max(p,b.length)}));for(var r=p-a.dataRows[0].length,h=0;h<r;h++){var l=g(h+1);o?(a.dataRows[0].push(l.topLevelColumnTitle),a.dataRows[1].push(l.columnTitle)):a.dataRows[0].push(l)}}))}function e(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((function(b){b.redraw(),b.graphic.animate({opacity:1},b.animationConfig)}))}function r(a){var t=this.annotations,g="annotations"===a.coll?a:b(t,(function(b){return b.options.id===a}));g&&(d(g,"remove"),c(this.options.annotations,g.options),c(t,g),g.destroy())}function h(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function l(b){this.chart.hasDraggedAnnotation||b.apply(this,Array.prototype.slice.call(arguments,1))}var p,a=t.addEvent,c=t.erase,b=t.find,d=t.fireEvent,g=t.pick,q=t.wrap,f=[];return function(b){b.compose=function(b,t,c){-1===f.indexOf(t)&&(f.push(t),a(t,"afterInit",h),(t=t.prototype).addAnnotation=o,t.callbacks.push(n),t.collectionsWithInit.annotations=[o],t.collectionsWithUpdate.push("annotations"),t.drawAnnotations=e,t.removeAnnotation=r,t.initAnnotation=function(a){return a=new(b.types[a.type]||b)(this,a),this.annotations.push(a),a}),-1===f.indexOf(c)&&(f.push(c),q(c.prototype,"onContainerMouseDown",l))}}(p||(p={})),p})),o(t,"Extensions/Annotations/AnnotationDefaults.js",[t["Core/Utilities.js"]],(function(t){var o=t.defined;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return o(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}})),o(t,"Extensions/Annotations/EventEmitter.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,o){var n=t.doc,e=t.isTouchDevice,r=o.addEvent,h=o.fireEvent,l=o.objectEach,a=o.pick,c=o.removeEvent;return function(){function b(){}return b.prototype.addEvents=function(){var b=this,a=function(a){r(a,e?"touchstart":"mousedown",(function(a){b.onMouseDown(a)}),{passive:!1})};if(a(this.graphic.element),(b.labels||[]).forEach((function(b){b.options.useHTML&&b.graphic.text&&a(b.graphic.text.element)})),l(b.options.events,(function(a,t){var o=function(o){"click"===t&&b.cancelClick||a.call(b,b.chart.pointer.normalize(o),b.target)};-1===(b.nonDOMEvents||[]).indexOf(t)?b.graphic.on(t,o):r(b,t,o,{passive:!1})})),b.options.draggable&&(r(b,"drag",b.onDrag),!b.graphic.renderer.styledMode)){var t={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[b.options.draggable]};b.graphic.css(t),(b.labels||[]).forEach((function(b){b.options.useHTML&&b.graphic.text&&b.graphic.text.css(t)}))}b.isUpdating||h(b,"add")},b.prototype.destroy=function(){this.removeDocEvents(),c(this),this.hcEvents=null},b.prototype.mouseMoveToRadians=function(b,a,t){var o=b.prevChartY-t,n=b.prevChartX-a;return t=b.chartY-t,b=b.chartX-a,this.chart.inverted&&(a=n,n=o,o=a,a=b,b=t,t=a),Math.atan2(t,b)-Math.atan2(o,n)},b.prototype.mouseMoveToScale=function(b,a,t){return a=(b.chartX-a||1)/(b.prevChartX-a||1),b=(b.chartY-t||1)/(b.prevChartY-t||1),this.chart.inverted&&(t=b,b=a,a=t),{x:a,y:b}},b.prototype.mouseMoveToTranslation=function(b){var a=b.chartX-b.prevChartX;if(b=b.chartY-b.prevChartY,this.chart.inverted){var t=b;b=a,a=t}return{x:a,y:b}},b.prototype.onDrag=function(b){if(this.chart.isInsidePlot(b.chartX-this.chart.plotLeft,b.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var a=this.mouseMoveToTranslation(b);"x"===this.options.draggable&&(a.y=0),"y"===this.options.draggable&&(a.x=0),this.points.length?this.translate(a.x,a.y):(this.shapes.forEach((function(b){return b.translate(a.x,a.y)})),this.labels.forEach((function(b){return b.translate(a.x,a.y)}))),this.redraw(!1)}},b.prototype.onMouseDown=function(b){if(b.preventDefault&&b.preventDefault(),2!==b.button){var t=this,o=t.chart.pointer,l=(b=o.normalize(b)).chartX,p=b.chartY;t.cancelClick=!1,t.chart.hasDraggedAnnotation=!0,t.removeDrag=r(n,e?"touchmove":"mousemove",(function(b){t.hasDragged=!0,(b=o.normalize(b)).prevChartX=l,b.prevChartY=p,h(t,"drag",b),l=b.chartX,p=b.chartY}),e?{passive:!1}:void 0),t.removeMouseUp=r(n,e?"touchend":"mouseup",(function(b){var o=a(t.target&&t.target.annotation,t.target);o&&(o.cancelClick=t.hasDragged),t.cancelClick=t.hasDragged,t.hasDragged=!1,t.chart.hasDraggedAnnotation=!1,h(a(o,t),"afterUpdate"),t.onMouseUp(b)}),e?{passive:!1}:void 0)}},b.prototype.onMouseUp=function(b){var a=this.chart;b=this.target||this;var t=a.options.annotations;a=a.annotations.indexOf(b),this.removeDocEvents(),t[a]=b.options},b.prototype.removeDocEvents=function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},b}()})),o(t,"Extensions/Annotations/ControlPoint.js",[t["Extensions/Annotations/EventEmitter.js"],t["Core/Utilities.js"]],(function(t,o){var n,e=this&&this.__extends||(n=function(t,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},n(t,a)},function(t,a){function o(){this.constructor=t}n(t,a),t.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}),r=o.merge,h=o.pick;return t=function(t){function o(a,o,b,n){var e=t.call(this)||this;return e.graphic=void 0,e.nonDOMEvents=["drag"],e.chart=a,e.target=o,e.options=b,e.index=h(b.index,n),e}return e(o,t),o.prototype.destroy=function(){t.prototype.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},o.prototype.redraw=function(a){this.graphic[a?"animate":"attr"](this.options.positioner.call(this,this.target))},o.prototype.render=function(){var a=this.chart,t=this.options;this.graphic=a.renderer.symbol(t.symbol,0,0,t.width,t.height).add(a.controlPointsGroup).css(t.style),this.setVisibility(t.visible),this.addEvents()},o.prototype.setVisibility=function(a){this.graphic[a?"show":"hide"](),this.options.visible=a},o.prototype.update=function(a){var t=this.chart,b=this.target,o=this.index;a=r(!0,this.options,a),this.destroy(),this.constructor(t,b,a,o),this.render(t.controlPointsGroup),this.redraw()},o}(t),t})),o(t,"Extensions/Annotations/MockPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,o){var n=t.series.prototype,e=o.defined,r=o.fireEvent;return t=function(){function t(t,a,o){this.plotY=this.plotX=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:n.getPlotBox},this.target=a||null,this.options=o,this.applyOptions(this.getOptions())}return t.fromPoint=function(o){return new t(o.series.chart,null,{x:o.x,y:o.y,xAxis:o.series.xAxis,yAxis:o.series.yAxis})},t.pointToPixels=function(t,a){var o=t.series,b=o.chart,n=t.plotX||0,g=t.plotY||0;return b.inverted&&(t.mock?(n=t.plotY,g=t.plotX):(n=b.plotWidth-(t.plotY||0),g=b.plotHeight-(t.plotX||0))),o&&!a&&(n+=(t=o.getPlotBox()).translateX,g+=t.translateY),{x:n,y:g}},t.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},t.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},t.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},t.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},t.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},t.prototype.isInsidePlot=function(){var t=this.plotX,a=this.plotY,o=this.series.xAxis,b=this.series.yAxis,n={x:t,y:a,isInsidePlot:!0,options:{}};return o&&(n.isInsidePlot=e(t)&&0<=t&&t<=o.len),b&&(n.isInsidePlot=n.isInsidePlot&&e(a)&&0<=a&&a<=b.len),r(this.series.chart,"afterIsInsidePlot",n),n.isInsidePlot},t.prototype.refresh=function(){var t=this.series,a=t.xAxis;t=t.yAxis;var o=this.getOptions();a?(this.x=o.x,this.plotX=a.toPixels(o.x,!0)):(this.x=void 0,this.plotX=o.x),t?(this.y=o.y,this.plotY=t.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},t.prototype.refreshOptions=function(){var t=this.series,a=t.xAxis;t=t.yAxis,this.x=this.options.x=a?this.options.x=a.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY},t.prototype.rotate=function(t,a,o){if(!this.hasDynamicOptions()){var b=Math.cos(o);o=Math.sin(o);var n=this.plotX-t,g=this.plotY-a;this.plotX=n*b-g*o+t,this.plotY=n*o+g*b+a,this.refreshOptions()}},t.prototype.scale=function(t,a,o,b){if(!this.hasDynamicOptions()){var n=this.plotY*b;this.plotX=(1-o)*t+this.plotX*o,this.plotY=(1-b)*a+n,this.refreshOptions()}},t.prototype.setAxis=function(t,a){t=t[a+="Axis"];var o=this.series.chart;this.series[a]="object"==typeof t?t:e(t)?o[a][t]||o.get(t):null},t.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},t.prototype.translate=function(t,a,o,b){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=b,this.refreshOptions())},t}()})),o(t,"Extensions/Annotations/Controllables/Controllable.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,o,n,e){var r=e.isObject,h=e.isString,l=e.merge,a=e.splat;return e=function(){function e(b,a,t,o){this.graphic=void 0,this.annotation=b,this.chart=b.chart,this.collection="label"===o?"labels":"shapes",this.options=a,this.points=[],this.controlPoints=[],this.index=t,this.itemType=o,this.init(b,a,t)}return e.prototype.addControlPoints=function(){var b=this,a=this.controlPoints,o=this.options.controlPoints||[];o.forEach((function(n,g){(n=l(b.options.controlPointOptions,n)).index||(n.index=g),o[g]=n,a.push(new t(b.chart,b,n))}))},e.prototype.anchor=function(b){var a=b.series.getPlotBox(),t=b.series.chart,q=b.mock?b.toAnchor():n.prototype.getAnchor.call({chart:b.series.chart},b);return{relativePosition:q={x:q[0]+(this.options.x||0),y:q[1]+(this.options.y||0),height:q[2]||0,width:q[3]||0},absolutePosition:l(q,{x:q.x+(b.mock?a.translateX:t.plotLeft),y:q.y+(b.mock?a.translateY:t.plotTop)})}},e.prototype.attr=function(){for(var b=0;b<arguments.length;b++);this.graphic.attr.apply(this.graphic,arguments)},e.prototype.attrsFromOptions=function(b){var t,a=this.constructor.attrsMap,o={},n=this.chart.styledMode;for(t in b){var e=a[t];void 0===a[t]||n&&-1!==["fill","stroke","stroke-width"].indexOf(e)||(o[e]=b[t])}return o},e.prototype.destroy=function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach((function(b){return b.destroy()})),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},e.prototype.getPointsOptions=function(){var b=this.options;return b.points||b.point&&a(b.point)},e.prototype.init=function(b,a,t){this.annotation=b,this.chart=b.chart,this.options=a,this.points=[],this.controlPoints=[],this.index=t,this.linkPoints(),this.addControlPoints()},e.prototype.linkPoints=function(){var t,b=this.getPointsOptions(),a=this.points,o=b&&b.length||0;for(t=0;t<o;t++){var n=this.point(b[t],a[t]);if(!n)return void(a.length=0);n.mock&&n.refresh(),a[t]=n}return a},e.prototype.point=function(b,a){return b&&b.series?b:(a&&null!==a.series||(r(b)?a=new o(this.chart,this,b):h(b)?a=this.chart.get(b)||null:"function"==typeof b&&(a=(a=b.call(a,this)).series?a:new o(this.chart,this,b))),a)},e.prototype.render=function(b){this.controlPoints.forEach((function(b){return b.render()}))},e.prototype.redraw=function(b){this.controlPoints.forEach((function(a){return a.redraw(b)}))},e.prototype.rotate=function(b,a,t){this.transform("rotate",b,a,t)},e.prototype.scale=function(b,a,t,o){this.transform("scale",b,a,t,o)},e.prototype.setControlPointsVisibility=function(b){this.controlPoints.forEach((function(a){a.setVisibility(b)}))},e.prototype.shouldBeDrawn=function(){return!!this.points.length},e.prototype.transform=function(b,a,t,o,n){var e=this;if(this.chart.inverted){var g=a;a=t,t=g}this.points.forEach((function(g,q){return e.transformPoint(b,a,t,o,n,q)}),this)},e.prototype.transformPoint=function(b,a,t,n,e,r){var h=this.points[r];h.mock||(h=this.points[r]=o.fromPoint(h)),h[b](a,t,n,e)},e.prototype.translate=function(b,a){this.transform("translate",null,null,b,a)},e.prototype.translatePoint=function(b,a,t){this.transformPoint("translate",null,null,b,a,t)},e.prototype.translateShape=function(b,a,t){var o=this.annotation.chart,n=this.annotation.userOptions,g=o.annotations.indexOf(this.annotation);o=o.options.annotations[g],this.translatePoint(b,a,0),t&&this.translatePoint(b,a,1),o[this.collection][this.index].point=this.options.point,n[this.collection][this.index].point=this.options.point},e.prototype.update=function(b){var a=this.annotation;b=l(!0,this.options,b);var t=this.graphic.parentGroup;this.destroy(),this.constructor(a,b,this.index,this.itemType),this.render(t),this.redraw()},e}(),e})),o(t,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],(function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}})),o(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,o,n,e){function r(b){return function(a){this.attr(b,"url(#"+a+")")}}function h(){this.options.defs=q(c,this.options.defs||{})}function l(b,a){var t={attributes:{id:b}},o={stroke:a.color||"none",fill:a.color||"rgba(0, 0, 0, 0.75)"};return t.children=a.children&&a.children.map((function(b){return q(o,b)})),a=q(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},a,t),(a=this.definition(a)).id=b,a}var a=this&&this.__extends||function(){var b=function(a,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var t in a)a.hasOwnProperty(t)&&(b[t]=a[t])},b(a,t)};return function(a,t){function o(){this.constructor=a}b(a,t),a.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),c=o.defaultMarkers,b=e.addEvent,d=e.defined,g=e.extend,q=e.merge,f=e.uniqueKey,p=[],u=r("marker-end"),y=r("marker-start"),x="rgba(192,192,192,"+(n.svg?1e-4:.002)+")";return function(t){function o(b,a,o){return(b=t.call(this,b,a,o,"shape")||this).type="path",b}return a(o,t),o.compose=function(a,t){-1===p.indexOf(a)&&(p.push(a),b(a,"afterGetContainer",h)),-1===p.indexOf(t)&&(p.push(t),t.prototype.addMarker=l)},o.prototype.toD=function(){var b=this.options.d;if(b)return"function"==typeof b?b.call(this):b;var a=(b=this.points).length,t=[],o=a,n=b[0],g=o&&this.anchor(n).absolutePosition,e=0;if(g)for(t.push(["M",g.x,g.y]);++e<a&&o;)o=(n=b[e]).command||"L",g=this.anchor(n).absolutePosition,"M"===o||"L"===o?t.push([o,g.x,g.y]):"Z"===o&&t.push([o]),o=n.series.visible;return o&&this.graphic?this.chart.renderer.crispLine(t,this.graphic.strokeWidth()):null},o.prototype.shouldBeDrawn=function(){return t.prototype.shouldBeDrawn.call(this)||!!this.options.d},o.prototype.render=function(b){var a=this.options,o=this.attrsFromOptions(a);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(o).add(b),a.className&&this.graphic.addClass(a.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(b),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:x,fill:x,"stroke-width":this.graphic.strokeWidth()+2*a.snap}),t.prototype.render.call(this),g(this.graphic,{markerStartSetter:y,markerEndSetter:u}),this.setMarkers(this)},o.prototype.redraw=function(b){if(this.graphic){var a=this.toD(),o=b?"animate":"attr";a?(this.graphic[o]({d:a}),this.tracker[o]({d:a})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!a}t.prototype.redraw.call(this,b)},o.prototype.setMarkers=function(b){var a=b.options,t=b.chart,o=t.options.defs,g=a.fill,n=d(g)&&"none"!==g?g:a.stroke;["markerStart","markerEnd"].forEach((function(e){var r,g=a[e];if(g){for(r in o){var p=o[r];if((g===(p.attributes&&p.attributes.id)||g===p.id)&&"marker"===p.tagName){var u=p;break}}u&&(g=b[e]=t.renderer.addMarker((a.id||f())+"-"+g,q(u,{color:n})),b.attr(e,g.getAttribute("id")))}}))},o.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},o}(t)})),o(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},e(t,a)},function(t,a){function o(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}),h=n.merge;return function(t){function n(a,o,b){return(a=t.call(this,a,o,b,"shape")||this).type="rect",a.translate=t.prototype.translateShape,a}return r(n,t),n.prototype.render=function(a){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(o).add(a),t.prototype.render.call(this)},n.prototype.redraw=function(a){if(this.graphic){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[a?"animate":"attr"]({x:o.x,y:o.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!o}t.prototype.redraw.call(this,a)},n.attrsMap=h(o.attrsMap,{width:"width",height:"height"}),n}(t)})),o(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},e(t,a)},function(t,a){function o(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}),h=n.merge;return function(t){function n(a,o,b){return(a=t.call(this,a,o,b,"shape")||this).type="circle",a.translate=t.prototype.translateShape,a}return r(n,t),n.prototype.redraw=function(a){if(this.graphic){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[a?"animate":"attr"]({x:o.x,y:o.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!o}t.prototype.redraw.call(this,a)},n.prototype.render=function(a){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(o).add(a),t.prototype.render.call(this)},n.prototype.setRadius=function(a){this.options.r=a},n.attrsMap=h(o.attrsMap,{r:"r"}),n}(t)})),o(t,"Extensions/Annotations/Controllables/ControllableEllipse.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(a,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var t in a)a.hasOwnProperty(t)&&(b[t]=a[t])},e(a,t)},function(a,t){function b(){this.constructor=a}e(a,t),a.prototype=null===t?Object.create(t):(b.prototype=t.prototype,new b)}),h=n.merge,l=n.defined;return function(t){function a(a,b,o){return(a=t.call(this,a,b,o,"shape")||this).type="ellipse",a}return r(a,t),a.prototype.init=function(a,b,o){l(b.yAxis)&&b.points.forEach((function(a){a.yAxis=b.yAxis})),l(b.xAxis)&&b.points.forEach((function(a){a.xAxis=b.xAxis})),t.prototype.init.call(this,a,b,o)},a.prototype.render=function(a){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(a),t.prototype.render.call(this)},a.prototype.translate=function(a,b){t.prototype.translateShape.call(this,a,b,!0)},a.prototype.getDistanceFromLine=function(a,b,t,g){return Math.abs((b.y-a.y)*t-(b.x-a.x)*g+b.x*a.y-b.y*a.x)/Math.sqrt((b.y-a.y)*(b.y-a.y)+(b.x-a.x)*(b.x-a.x))},a.prototype.getAttrs=function(a,b){var t=a.x,o=a.y,n=b.x,e=b.y;b=(t+n)/2,a=(o+e)/2;var p=Math.sqrt((t-n)*(t-n)/4+(o-e)*(o-e)/4);return o=180*Math.atan((e-o)/(n-t))/Math.PI,b<t&&(o+=180),{cx:b,cy:a,rx:p,ry:t=this.getRY(),angle:o}},a.prototype.getRY=function(){var a=this.getYAxis();return l(a)?Math.abs(a.toPixels(this.options.ry)-a.toPixels(0)):this.options.ry},a.prototype.getYAxis=function(){return this.chart.yAxis[this.options.yAxis]},a.prototype.getAbsolutePosition=function(a){return this.anchor(a).absolutePosition},a.prototype.redraw=function(a){if(this.graphic){var b=this.getAbsolutePosition(this.points[0]),o=this.getAbsolutePosition(this.points[1]);o=this.getAttrs(b,o),b?this.graphic[a?"animate":"attr"]({cx:o.cx,cy:o.cy,rx:o.rx,ry:o.ry,rotation:o.angle,rotationOriginX:o.cx,rotationOriginY:o.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!b}t.prototype.redraw.call(this,a)},a.prototype.setYRadius=function(a){var b=this.annotation.userOptions.shapes;this.options.ry=a,b&&b[0]&&(b[0].ry=a,b[0].ry=a)},a.attrsMap=h(o.attrsMap,{ry:"ry"}),a}(t)})),o(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Core/FormatUtilities.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r){function h(a,t,o,n,g){var e=g&&g.anchorX;g=g&&g.anchorY;var r=o/2;if(b(e)&&b(g)){var q=[["M",e,g]],p=t-g;0>p&&(p=-n-p),p<o&&(r=e<a+o/2?p:o-p),g>t+n?q.push(["L",a+r,t+n]):g<t?q.push(["L",a+r,t]):e<a?q.push(["L",a,t+n/2]):e>a+o&&q.push(["L",a+o,t+n/2])}return q||[]}var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function o(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),a=o.format,c=r.extend,b=r.isNumber,d=r.pick,g=[];return function(b){function t(a,t,o){return b.call(this,a,t,o,"label")||this}return l(t,b),t.alignedPosition=function(b,a){var t,o,n=b.align,e=b.verticalAlign,r=(a.x||0)+(b.x||0),g=(a.y||0)+(b.y||0);return"right"===n?t=1:"center"===n&&(t=2),t&&(r+=(a.width-(b.width||0))/t),"bottom"===e?o=1:"middle"===e&&(o=2),o&&(g+=(a.height-(b.height||0))/o),{x:Math.round(r),y:Math.round(g)}},t.compose=function(b){-1===g.indexOf(b)&&(g.push(b),b.prototype.symbols.connector=h)},t.justifiedOptions=function(b,a,t,o){var n=t.align,g=t.verticalAlign,e=a.box?0:a.padding||0,r=a.getBBox();a={align:n,verticalAlign:g,x:t.x,y:t.y,width:a.width,height:a.height},t=(o.x||0)-b.plotLeft,o=(o.y||0)-b.plotTop;var q=t+e;return 0>q&&("right"===n?a.align="left":a.x=(a.x||0)-q),(q=t+r.width-e)>b.plotWidth&&("left"===n?a.align="right":a.x=(a.x||0)+b.plotWidth-q),0>(q=o+e)&&("bottom"===g?a.verticalAlign="top":a.y=(a.y||0)-q),(q=o+r.height-e)>b.plotHeight&&("top"===g?a.verticalAlign="bottom":a.y=(a.y||0)+b.plotHeight-q),a},t.prototype.translatePoint=function(a,t){b.prototype.translatePoint.call(this,a,t,0)},t.prototype.translate=function(a,b){var t=this.annotation.chart,o=this.annotation.userOptions,n=t.annotations.indexOf(this.annotation);n=t.options.annotations[n],t.inverted&&(t=a,a=b,b=t),this.options.x+=a,this.options.y+=b,n[this.collection][this.index].x=this.options.x,n[this.collection][this.index].y=this.options.y,o[this.collection][this.index].x=this.options.x,o[this.collection][this.index].y=this.options.y},t.prototype.render=function(a){var o=this.options,n=this.attrsFromOptions(o),e=o.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,o.shape,null,null,o.useHTML,null,"annotation-label").attr(n).add(a),this.annotation.chart.styledMode||("contrast"===e.color&&(e.color=this.annotation.chart.renderer.getContrast(-1<t.shapesWithoutBackground.indexOf(o.shape)?"#FFFFFF":o.backgroundColor)),this.graphic.css(o.style).shadow(o.shadow)),o.className&&this.graphic.addClass(o.className),this.graphic.labelrank=o.labelrank,b.prototype.render.call(this)},t.prototype.redraw=function(t){var o=this.options,n=this.text||o.format||o.text,g=this.graphic,e=this.points[0];g?(g.attr({text:n?a(String(n),e.getLabelConfig(),this.annotation.chart):o.formatter.call(e,this)}),o=this.anchor(e),(n=this.position(o))?(g.alignAttr=n,n.anchorX=o.absolutePosition.x,n.anchorY=o.absolutePosition.y,g[t?"animate":"attr"](n)):g.attr({x:0,y:-9999}),g.placed=!!n,b.prototype.redraw.call(this,t)):this.redraw(t)},t.prototype.anchor=function(a){var t=b.prototype.anchor.apply(this,arguments),o=this.options.x||0,n=this.options.y||0;return t.absolutePosition.x-=o,t.absolutePosition.y-=n,t.relativePosition.x-=o,t.relativePosition.y-=n,t},t.prototype.position=function(a){var b=this.graphic,o=this.annotation.chart,g=this.points[0],r=this.options,q=a.absolutePosition,p=a.relativePosition,h=g.series.visible&&n.prototype.isInsidePlot.call(g);if(b&&h){var l=b.width;a=void 0===l?0:l;var f=void 0===(l=b.height)?0:l;r.distance?l=e.prototype.getPosition.call({chart:o,distance:d(r.distance,16)},a,f,{plotX:p.x,plotY:p.y,negative:g.negative,ttBelow:g.ttBelow,h:p.height||p.width}):r.positioner?l=r.positioner.call(this):(g={x:q.x,y:q.y,width:0,height:0},l=t.alignedPosition(c(r,{width:a,height:f}),g),"justify"===this.options.overflow&&(l=t.alignedPosition(t.justifiedOptions(o,b,r,l),g))),r.crop&&(b=l.x-o.plotLeft,r=l.y-o.plotTop,h=o.isInsidePlot(b,r)&&o.isInsidePlot(b+a,r+f))}return h?l:null},t.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},t.shapesWithoutBackground=["connector"],t}(t)})),o(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"]],(function(t,o){var n=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();return function(t){function e(o,n,a){return(o=t.call(this,o,n,a,"shape")||this).type="image",o.translate=t.prototype.translateShape,o}return n(e,t),e.prototype.render=function(o){var n=this.attrsFromOptions(this.options),a=this.options;this.graphic=this.annotation.chart.renderer.image(a.src,0,-9e9,a.width,a.height).attr(n).add(o),this.graphic.width=a.width,this.graphic.height=a.height,t.prototype.render.call(this)},e.prototype.redraw=function(n){if(this.graphic){var e=this.anchor(this.points[0]);(e=o.prototype.position.call(this,e))?this.graphic[n?"animate":"attr"]({x:e.x,y:e.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!e}t.prototype.redraw.call(this,n)},e.attrsMap={width:"width",height:"height",zIndex:"zIndex"},e}(t)})),o(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new o(t)),t};var o=function(){function t(t){this.updates=[],this.chart=t}return t.prototype.addUpdate=function(t){this.chart.navigation.updates.push(t)},t.prototype.update=function(t,o){var n=this;this.updates.forEach((function(a){a.call(n.chart,t,o)}))},t}();t.Additions=o}(t||(t={})),t})),o(t,"Extensions/Annotations/NavigationBindingsUtilities.js",[t["Core/Utilities.js"]],(function(t){var o=t.defined,n=t.isNumber,e=t.pick,r={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:r,getAssignedAxis:function(t){return t.filter((function(t){var a=t.axis.getExtremes(),o=a.min;a=a.max;var b=e(t.axis.minPointOffset,0);return n(o)&&n(a)&&t.value>=o-b&&t.value<=a+b&&!t.axis.options.isInternal}))[0]},getFieldType:function(t,n){return n=typeof n,o(t=r[t])&&(n=t),{string:"text",number:"number",boolean:"checkbox"}[n]}}})),o(t,"Extensions/Annotations/NavigationBindingsDefaults.js",[t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Utilities.js"]],(function(t,o){var n=t.getAssignedAxis,e=o.isNumber,r=o.merge;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t);t=n(o.xAxis),o=n(o.yAxis);var a=this.chart.options.navigation;if(t&&o)return this.chart.addAnnotation(r({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:o.value,xAxis:t.axis.options.index,yAxis:o.axis.options.index},r:5}]},a.annotationsOptions,a.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,o){var a=o.options.shapes;if(a=a&&a[0]&&a[0].point||{},e(a.xAxis)&&e(a.yAxis)){var n=this.chart.inverted,b=this.chart.xAxis[a.xAxis].toPixels(a.x);a=this.chart.yAxis[a.yAxis].toPixels(a.y),n=Math.max(Math.sqrt(Math.pow(n?a-t.chartX:b-t.chartX,2)+Math.pow(n?b-t.chartY:a-t.chartY,2)),5)}o.update({shapes:[{r:n}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t);t=n(o.xAxis),o=n(o.yAxis);var a=this.chart.options.navigation;if(t&&o)return this.chart.addAnnotation(r({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.options.index,yAxis:o.axis.options.index,points:[{x:t.value,y:o.value},{x:t.value,y:o.value}],ry:1}]},a.annotationsOptions,a.bindings.ellipseAnnotation.annotationOptions))},steps:[function(t,o){var a=(o=o.shapes[0]).getAbsolutePosition(o.points[1]);o.translatePoint(t.chartX-a.x,t.chartY-a.y,1),o.redraw(!1)},function(t,o){var a=(o=o.shapes[0]).getAbsolutePosition(o.points[0]),n=o.getAbsolutePosition(o.points[1]);t=o.getDistanceFromLine(a,n,t.chartX,t.chartY),a=o.getYAxis(),t=Math.abs(a.toValue(0)-a.toValue(t)),o.setYRadius(t),o.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var o=n(t.xAxis),a=n(t.yAxis);if(o&&a){t=o.value;var e=a.value;o=o.axis.options.index,a=a.axis.options.index;var b=this.chart.options.navigation;return this.chart.addAnnotation(r({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:o,yAxis:a,x:t,y:e},{xAxis:o,yAxis:a,x:t,y:e},{xAxis:o,yAxis:a,x:t,y:e},{xAxis:o,yAxis:a,x:t,y:e},{command:"Z"}]}]},b.annotationsOptions,b.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(t,o){var a=o.options.shapes;a=a&&a[0]&&a[0].points||[];var e=this.chart.pointer.getCoordinates(t);t=n(e.xAxis),e=n(e.yAxis),t&&e&&(t=t.value,e=e.value,a[1].x=t,a[2].x=t,a[2].y=e,a[3].y=e,o.update({shapes:[{points:a}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t);t=n(o.xAxis),o=n(o.yAxis);var a=this.chart.options.navigation;if(t&&o)return this.chart.addAnnotation(r({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:t.axis.options.index,yAxis:o.axis.options.index,x:t.value,y:o.value},overflow:"none",crop:!0}]},a.annotationsOptions,a.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}})),o(t,"Extensions/Annotations/NavigationBindings.js",[t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindingsDefaults.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r,h,l){function c(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function b(){this.navigationBindings&&this.navigationBindings.destroy()}function d(){var a=this.options;a&&a.navigation&&a.navigation.bindings&&(this.navigationBindings=new L(this,a.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function g(){var a=this.navigationBindings;if(this&&a){var b=!1;if(this.series.forEach((function(a){!a.options.isInternal&&a.visible&&(b=!0)})),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){var t=this.navigationBindings.container[0];j(a.boundClassNames,(function(a,o){if(o=t.querySelectorAll("."+o))for(var n=0;n<o.length;n++){var e=o[n],g=e.className;"normal"===a.noDataState||b?-1!==g.indexOf("highcharts-disabled-btn")&&e.classList.remove("highcharts-disabled-btn"):-1===g.indexOf("highcharts-disabled-btn")&&(e.className+=" highcharts-disabled-btn")}}))}}}function q(){this.deselectAnnotation()}function f(){this.selectedButtonElement=null}function p(a){var b=a.prototype.defaultOptions.events&&a.prototype.defaultOptions.events.click;k(!0,a.prototype.defaultOptions.events,{click:function(a){var t=this,o=t.chart.navigationBindings,n=o.activeAnnotation;b&&b.call(t,a),n!==t?(o.deselectAnnotation(),o.activeAnnotation=t,t.setControlPointsVisibility(!0),O(o,"showPopup",{annotation:t,formType:"annotation-toolbar",options:o.annotationToFields(t),onSubmit:function(a){if("remove"===a.actionType)o.activeAnnotation=!1,o.chart.removeAnnotation(t);else{var b={};o.fieldsToOptions(a.fields,b),o.deselectAnnotation(),a=b.typeOptions,"measure"===t.options.type&&(a.crosshairY.enabled=0!==a.crosshairY.strokeWidth,a.crosshairX.enabled=0!==a.crosshairX.strokeWidth),t.update(b)}}})):O(o,"closePopup"),a.activeAnnotation=!0}})}var u=o.setOptions,y=n.format,x=e.doc,v=e.win,m=h.getFieldType,A=l.addEvent,P=l.attr,O=l.fireEvent,C=l.isArray,E=l.isFunction,w=l.isNumber,M=l.isObject,k=l.merge,j=l.objectEach,_=l.pick,T=[],L=function(){function o(a,b){this.selectedButton=this.boundClassNames=void 0,this.chart=a,this.options=b,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=x.getElementsByClassName(this.options.bindingsClassName||""))}return o.compose=function(a,t){-1===T.indexOf(a)&&(T.push(a),A(a,"remove",c),p(a),j(a.types,(function(a){p(a)}))),-1===T.indexOf(t)&&(T.push(t),A(t,"destroy",b),A(t,"load",d),A(t,"render",g)),-1===T.indexOf(o)&&(T.push(o),A(o,"closePopup",q),A(o,"deselectButton",f)),-1===T.indexOf(u)&&(T.push(u),u(r))},o.prototype.initEvents=function(){var a=this,b=a.chart,t=a.container,o=a.options;a.boundClassNames={},j(o.bindings||{},(function(b){a.boundClassNames[b.className]=b})),[].forEach.call(t,(function(b){a.eventsToUnbind.push(A(b,"click",(function(t){var o=a.getButtonEvents(b,t);o&&-1===o.button.className.indexOf("highcharts-disabled-btn")&&a.bindingsButtonClick(o.button,o.events,t)})))})),j(o.events||{},(function(b,t){E(b)&&a.eventsToUnbind.push(A(a,t,b,{passive:!1}))})),a.eventsToUnbind.push(A(b.container,"click",(function(t){!b.cancelClick&&b.isInsidePlot(t.chartX-b.plotLeft,t.chartY-b.plotTop,{visiblePlotOnly:!0})&&a.bindingsChartClick(this,t)}))),a.eventsToUnbind.push(A(b.container,e.isTouchDevice?"touchmove":"mousemove",(function(b){a.bindingsContainerMouseMove(this,b)}),e.isTouchDevice?{passive:!1}:void 0))},o.prototype.initUpdate=function(){var a=this;t.compose(this.chart).navigation.addUpdate((function(b){a.update(b)}))},o.prototype.bindingsButtonClick=function(a,b,t){var o=this.chart,n=o.renderer.boxWrapper,e=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===a.classList&&(e=!1),O(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&o.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),e?(this.selectedButton=b,this.selectedButtonElement=a,O(this,"selectButton",{button:a}),b.init&&b.init.call(this,a,t),(b.start||b.steps)&&o.renderer.boxWrapper.addClass("highcharts-draw-mode")):(o.stockTools&&o.stockTools.toggleButtonActiveClass(a),n.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)},o.prototype.bindingsChartClick=function(b,t){b=this.chart;var o=this.activeAnnotation,n=this.selectedButton;b=b.renderer.boxWrapper,o&&(o.cancelClick||t.activeAnnotation||!t.target.parentNode||function(a,b){var t=v.Element.prototype,o=t.matches||t.msMatchesSelector||t.webkitMatchesSelector,n=null;if(t.closest)n=t.closest.call(a,b);else do{if(o.call(a,b))return a;a=a.parentElement||a.parentNode}while(null!==a&&1===a.nodeType);return n}(t.target,".highcharts-popup")?o.cancelClick&&setTimeout((function(){o.cancelClick=!1}),0):O(this,"closePopup")),n&&n.start&&(this.nextEvent?(this.nextEvent(t,this.currentUserDetails),this.steps&&(this.stepIndex++,n.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]:(O(this,"deselectButton",{button:this.selectedButtonElement}),b.removeClass("highcharts-draw-mode"),n.end&&n.end.call(this,t,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=n.start.call(this,t))&&n.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]):(O(this,"deselectButton",{button:this.selectedButtonElement}),b.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,n.end&&n.end.call(this,t,this.currentUserDetails)))},o.prototype.bindingsContainerMouseMove=function(a,b){this.mouseMoveEvent&&this.mouseMoveEvent(b,this.currentUserDetails)},o.prototype.fieldsToOptions=function(a,b){return j(a,(function(a,t){var o=parseFloat(a),n=t.split("."),e=n.length-1;if(!w(o)||a.match(/px/g)||t.match(/format/g)||(a=o),"undefined"!==a){var g=b;n.forEach((function(b,t){var o=_(n[t+1],"");e===t?g[b]=a:(g[b]||(g[b]=o.match(/\d/g)?[]:{}),g=g[b])}))}})),b},o.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},o.prototype.annotationToFields=function(a){function b(t,o,n,g,r){if(n&&t&&-1===q.indexOf(o)&&(0<=(n.indexOf&&n.indexOf(o))||n[o]||!0===n))if(C(t))g[o]=[],t.forEach((function(a,t){M(a)?(g[o][t]={},j(a,(function(a,n){b(a,n,e[o],g[o][t],o)}))):b(a,0,e[o],g[o],o)}));else if(M(t)){var p={};C(g)?(g.push(p),p[o]={},p=p[o]):g[o]=p,j(t,(function(a,t){b(a,t,0===o?n:e[o],p,o)}))}else"format"===o?g[o]=[y(t,a.labels[0].points[0]).toString(),"text"]:C(g)?g.push([t,m(r,t)]):g[o]=[t,m(o,t)]}var t=a.options,n=o.annotationsEditable,e=n.nestedOptions,g=_(t.type,t.shapes&&t.shapes[0]&&t.shapes[0].type,t.labels&&t.labels[0]&&t.labels[0].type,"label"),q=o.annotationsNonEditable[t.langKey]||[],r={langKey:t.langKey,type:g};return j(t,(function(a,o){"typeOptions"===o?(r[o]={},j(t[o],(function(a,t){b(a,t,e,r[o],t)}))):b(a,o,n[g],r,o)})),r},o.prototype.getClickedClassNames=function(a,b){var t,o=b.target;for(b=[];o&&((t=P(o,"class"))&&(b=b.concat(t.split(" ").map((function(a){return[a,o]})))),(o=o.parentNode)!==a););return b},o.prototype.getButtonEvents=function(a,b){var t,o=this;return this.getClickedClassNames(a,b).forEach((function(a){o.boundClassNames[a[0]]&&!t&&(t={events:o.boundClassNames[a[0]],button:a[1]})})),t},o.prototype.update=function(a){this.options=k(!0,this.options,a),this.removeEvents(),this.initEvents()},o.prototype.removeEvents=function(){this.eventsToUnbind.forEach((function(a){return a()}))},o.prototype.destroy=function(){this.removeEvents()},o.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},o.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},o}();return L})),o(t,"Extensions/Annotations/Popup/PopupAnnotations.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,o){function n(b,t,o,p,u,f){var g=this;if(t){var y,x,q=this.addInput,v=this.lang;c(p,(function(e,r){y=""!==o?o+"."+r:r,a(e)&&(!l(e)||l(e)&&a(e[0])?((x=v[r]||r).match(/\d/g)||u.push([!0,x,b]),n.call(g,b,t,y,e,u,!1)):u.push([g,y,"annotation",b,e]))})),f&&(d(u,(function(a){return a[1].match(/format/g)?-1:1})),r&&u.reverse(),u.forEach((function(a){!0===a[0]?h("span",{className:"highcharts-annotation-title"},void 0,a[2]).appendChild(e.createTextNode(a[1])):(a[4]={value:a[4][0],type:a[4][1]},q.apply(a[0],a.splice(1)))})))}}var e=t.doc,r=t.isFirefox,h=o.createElement,l=o.isArray,a=o.isObject,c=o.objectEach,b=o.pick,d=o.stableSort;return{addForm:function(a,b,t,o){if(a){var r=this.container,l=this.lang,g=h("h2",{className:"highcharts-popup-main-title"},void 0,r);g.appendChild(e.createTextNode(l[b.langKey]||b.langKey||"")),g=h("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,r);var q=h("div",{className:"highcharts-popup-bottom-row"},void 0,r);n.call(this,g,a,"",b,[],!0),this.addButton(q,o?l.addButton||"Add":l.saveButton||"Save",o?"add":"save",r,t)}},addToolbar:function(a,t,o){var n=this,r=this.lang,g=this.container,q=this.showForm;-1===g.className.indexOf("highcharts-annotation-toolbar")&&(g.className+=" highcharts-annotation-toolbar"),a&&(g.style.top=a.plotTop+10+"px"),h("span",void 0,void 0,g).appendChild(e.createTextNode(b(r[t.langKey]||t.langKey,t.shapes&&t.shapes[0].type,"")));var l=this.addButton(g,r.removeButton||"Remove","remove",g,o);l.className+=" highcharts-annotation-remove-button",l.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(l=this.addButton(g,r.editButton||"Edit","edit",g,(function(){q.call(n,"annotation-edit",a,t,o)}))).className+=" highcharts-annotation-edit-button",l.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}})),o(t,"Extensions/Annotations/Popup/PopupIndicators.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r){function h(a){var b=m("div",{className:"highcharts-popup-lhs-col"},void 0,a);return a=m("div",{className:"highcharts-popup-rhs-col"},void 0,a),m("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,a),{lhsCol:b,rhsCol:a}}function l(b,o,n,e){var r=this,h=r.lang,l=o.querySelectorAll(".highcharts-popup-lhs-col")[0];o=o.querySelectorAll(".highcharts-popup-rhs-col")[0];var c="edit"===n;if(n=c?b.series:b.options.plotOptions||{},b||!n){var d,y=[];c||P(n)?P(n)&&(y=q.call(this,n)):y=g.call(this,n,e),E(y,(function(a,b){return(a=a.indicatorFullName.toLowerCase())<(b=b.indicatorFullName.toLowerCase())?-1:a>b?1:0})),l.children[1]&&l.children[1].remove();var x=m("ul",{className:"highcharts-indicator-list"},void 0,l),A=o.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];y.forEach((function(o){var n=o.indicatorFullName,e=o.indicatorType,g=o.series;(d=m("li",{className:"highcharts-indicator-list"},void 0,x)).appendChild(u.createTextNode(n)),["click","touchstart"].forEach((function(o){v(d,o,(function(){var o=A.parentNode.children[1],n=g.params||g.options.params;A.innerHTML=t.emptyHTML,m("h3",{className:"highcharts-indicator-title"},void 0,A).appendChild(u.createTextNode(f(g,e).indicatorFullName)),m("input",{type:"hidden",name:"highcharts-type-"+e,value:e},void 0,A),p.call(r,e,"series",b,A,g,g.linkedParent&&g.linkedParent.options.id),n.volumeSeriesID&&p.call(r,e,"volume",b,A,g,g.linkedParent&&n.volumeSeriesID),a.call(r,b,"params",n,e,A),o&&(o.style.display="block"),c&&g.options&&m("input",{type:"hidden",name:"highcharts-id-"+e,value:g.options.id},void 0,A).setAttribute("highcharts-data-series-id",g.options.id)}))}))})),0<x.childNodes.length?x.childNodes[0].click():c||(t.setElementHTML(A.parentNode.children[0],h.noFilterMatch||""),A.parentNode.children[1].style.display="none")}}function a(t,o,n,g,e){var q=this;if(t){var p=this.addInput;C(n,(function(n,r){var h=o+"."+r;A(n)&&h&&(O(n)&&(p.call(q,h,g,e,{}),a.call(q,t,h,n,g,e)),h in y?(h=b.call(q,g,h,e),d.call(q,t,o,h,g,r,n)):"params.volumeSeriesID"===h||P(n)||p.call(q,h,g,e,{value:n,type:"number"}))}))}}function c(a,b){var t=this,o=b.querySelectorAll(".highcharts-popup-lhs-col")[0];b=this.lang.clearFilter,o=m("div",{className:"highcharts-input-wrapper"},void 0,o);var n=this.addInput("searchIndicators","input",o,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),g=m("a",{textContent:b},void 0,o);n.classList.add("highcharts-input-search-indicators"),g.classList.add("clear-filter-button"),v(n,"input",(function(b){l.call(t,a,t.container,"add",this.value),g.style.display=this.value.length?"inline-block":"none"})),["click","touchstart"].forEach((function(b){v(g,b,(function(){n.value="",l.call(t,a,t.container,"add",""),g.style.display="none"}))}))}function b(a,b,t){var o=b.split(".");o=o[o.length-1],a="highcharts-"+b+"-type-"+a;var n=this.lang;return m("label",{htmlFor:a},null,t).appendChild(u.createTextNode(n[o]||b)),(t=m("select",{name:a,className:"highcharts-popup-field",id:"highcharts-select-"+b},null,t)).setAttribute("id","highcharts-select-"+b),t}function d(a,b,t,o,n,e,g){"series"===b||"volume"===b?a.series.forEach((function(a){var o=a.options,n=o.name||o.params?a.name:o.id||"";"highcharts-navigator-series"!==o.id&&o.id!==(g&&g.options&&g.options.id)&&(A(e)||"volume"!==b||"column"!==a.type||(e=o.id),m("option",{value:o.id},void 0,t).appendChild(u.createTextNode(n)))})):o&&n&&w[n+"-"+o].forEach((function(a){m("option",{value:a},void 0,t).appendChild(u.createTextNode(a))})),A(e)&&(t.value=e)}function g(a,b){var t,o=this.chart&&this.chart.options.lang,n=o&&o.navigation&&o.navigation.popup&&o.navigation.popup.indicatorAliases,e=[];return C(a,(function(a,o){var g=a&&a.options;if(a.params||g&&g.params)if(o=(g=f(a,o)).indicatorFullName,g=g.indicatorType,b){var r=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=new RegExp(r,"i");var q=n&&n[g]&&n[g].join(" ")||"";(o.match(r)||q.match(r))&&(t={indicatorFullName:o,indicatorType:g,series:a},e.push(t))}else t={indicatorFullName:o,indicatorType:g,series:a},e.push(t)})),e}function q(a){var b=[];return a.forEach((function(a){a.is("sma")&&b.push({indicatorFullName:a.name,indicatorType:a.type,series:a})})),b}function f(a,b){var t=a.options,o=x[b]&&x[b].prototype.nameBase||b.toUpperCase();return t&&t.type&&(b=a.options.type,o=a.name),{indicatorFullName:o,indicatorType:b}}function p(a,t,o,n,g,e){o&&(a=b.call(this,a,t,n),d.call(this,o,t,a,void 0,void 0,void 0,g),A(e)&&(a.value=e))}var y,u=o.doc,x=e.seriesTypes,v=r.addEvent,m=r.createElement,A=r.defined,P=r.isArray,O=r.isObject,C=r.objectEach,E=r.stableSort;!function(a){a[a["params.algorithm"]=0]="params.algorithm",a[a["params.average"]=1]="params.average"}(y||(y={}));var w={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return{addForm:function(a,b,t){if(b=this.lang,a){this.tabs.init.call(this,a);var o=this.container.querySelectorAll(".highcharts-tab-item-content");h(o[0]),c.call(this,a,o[0]),l.call(this,a,o[0],"add");var g=o[0].querySelectorAll(".highcharts-popup-rhs-col")[0];this.addButton(g,b.addButton||"add","add",g,t),h(o[1]),l.call(this,a,o[1],"edit"),g=o[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(g,b.saveButton||"save","edit",g,t),this.addButton(g,b.removeButton||"remove","remove",g,t)}},getAmount:function(){var a=0;return this.series.forEach((function(b){(b.params||b.options.params)&&a++})),a}}})),o(t,"Extensions/Annotations/Popup/PopupTabs.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,o){function n(){return c("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function e(a,t){var b=this.container,o=this.lang,n="highcharts-tab-item";return 0===t&&(n+=" highcharts-tab-disabled"),(t=c("span",{className:n},void 0,b)).appendChild(l.createTextNode(o[a+"Button"]||a)),t.setAttribute("highcharts-data-tab-type",a),t}function r(a,t){var b=this.container.querySelectorAll(".highcharts-tab-item-content");a.className+=" highcharts-tab-item-active",b[t].className+=" highcharts-tab-item-show"}function h(b){var t=this;this.container.querySelectorAll(".highcharts-tab-item").forEach((function(o,n){0===b&&"edit"===o.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach((function(b){a(o,b,(function(){var a=t.container,b=a.querySelectorAll(".highcharts-tab-item");a=a.querySelectorAll(".highcharts-tab-item-content");for(var o=0;o<b.length;o++)b[o].classList.remove("highcharts-tab-item-active"),a[o].classList.remove("highcharts-tab-item-show");r.call(t,this,n)}))}))}))}var l=t.doc,a=o.addEvent,c=o.createElement;return{init:function(a){if(a){a=this.indicators.getAmount.call(a);var b=e.call(this,"add");e.call(this,"edit",a),n.call(this),n.call(this),h.call(this,a),r.call(this,b,0)}}}})),o(t,"Extensions/Annotations/Popup/Popup.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Extensions/Annotations/Popup/PopupAnnotations.js"],t["Extensions/Annotations/Popup/PopupIndicators.js"],t["Extensions/Annotations/Popup/PopupTabs.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r,h,l){var c=o.getOptions,b=n.doc,d=l.addEvent,g=l.createElement;o=l.extend;var q=l.fireEvent,f=l.pick;return l=function(){function o(a,b,t){this.chart=t,this.iconsURL=b,this.lang=c().lang.navigation.popup,this.container=g("div",{className:"highcharts-popup highcharts-no-tooltip"},void 0,a),d(this.container,"mousedown",(function(){var a=t&&t.navigationBindings&&t.navigationBindings.activeAnnotation;if(a){a.cancelClick=!0;var b=d(n.doc,"click",(function(){setTimeout((function(){a.cancelClick=!1}),0),b()}))}})),this.addCloseBtn()}return o.prototype.init=function(a,b,t){o.call(this,a,b,t)},o.prototype.addCloseBtn=function(){var a=this,b=this.iconsURL,t=g("div",{className:"highcharts-popup-close"},void 0,this.container);t.style["background-image"]="url("+(b.match(/png|svg|jpeg|jpg|gif/gi)?b:b+"close.svg")+")",["click","touchstart"].forEach((function(b){d(t,b,(function(){if(a.chart){var b=a.chart.navigationBindings;q(b,"closePopup"),b&&b.selectedButtonElement&&q(b,"deselectButton",{button:b.selectedButtonElement})}else a.closePopup()}))}))},o.prototype.addInput=function(a,t,o,n){var e=a.split(".");e=e[e.length-1];var r=this.lang;return(t="highcharts-"+t+"-"+f(n.htmlFor,e)).match(/\d/g)||g("label",{htmlFor:t,className:n.labelClassName},void 0,o).appendChild(b.createTextNode(r[e]||e)),(o=g("input",{name:t,value:n.value,type:n.type,className:"highcharts-popup-field"},void 0,o)).setAttribute("highcharts-data-name",a),o},o.prototype.addButton=function(t,o,n,e,q){var r=this,p=g("button",void 0,void 0,t);return p.appendChild(b.createTextNode(o)),q&&["click","touchstart"].forEach((function(b){d(p,b,(function(){return r.closePopup(),q(function(a,b){var t=Array.prototype.slice.call(a.querySelectorAll("input")),o=Array.prototype.slice.call(a.querySelectorAll("select")),n=a.querySelectorAll("#highcharts-select-series > option:checked")[0];a=a.querySelectorAll("#highcharts-select-volume > option:checked")[0];var e={actionType:b,linkedTo:n&&n.getAttribute("value")||"",fields:{}};return t.forEach((function(a){var b=a.getAttribute("highcharts-data-name");a.getAttribute("highcharts-data-series-id")?e.seriesId=a.value:b?e.fields[b]=a.value:e.type=a.value})),o.forEach((function(a){var b=a.id;"highcharts-select-series"!==b&&"highcharts-select-volume"!==b&&(b=b.split("highcharts-select-")[1],e.fields[b]=a.value)})),a&&(e.fields["params.volumeSeriesID"]=a.getAttribute("value")||""),e}(e,n))}))})),p},o.prototype.showPopup=function(){var a=this.container,b=a.querySelectorAll(".highcharts-popup-close")[0];this.formType=void 0,a.innerHTML=t.emptyHTML,0<=a.className.indexOf("highcharts-annotation-toolbar")&&(a.classList.remove("highcharts-annotation-toolbar"),a.removeAttribute("style")),a.appendChild(b),a.style.display="block",a.style.height=""},o.prototype.closePopup=function(){this.container.style.display="none"},o.prototype.showForm=function(a,b,t,o){b&&(this.showPopup(),"indicators"===a&&this.indicators.addForm.call(this,b,t,o),"annotation-toolbar"===a&&this.annotations.addToolbar.call(this,b,t,o),"annotation-edit"===a&&this.annotations.addForm.call(this,b,t,o),"flag"===a&&this.annotations.addForm.call(this,b,t,o,!0),this.formType=a,this.container.style.height=this.container.offsetHeight+"px")},o}(),o(l.prototype,{annotations:e,indicators:r,tabs:h}),l})),o(t,"Extensions/Annotations/Popup/PopupComposition.js",[t["Extensions/Annotations/Popup/Popup.js"],t["Core/Utilities.js"]],(function(t,o){function n(){this.popup&&this.popup.closePopup()}function e(a){this.popup||(this.popup=new t(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/10.3.2/gfx/stock-icons/",this.chart)),this.popup.showForm(a.formType,this.chart,a.options,a.onSubmit)}function r(a,b){this.inClass(b.target,"highcharts-popup")||a.apply(this,Array.prototype.slice.call(arguments,1))}var h=o.addEvent,l=o.wrap,a=[];return{compose:function(t,b){-1===a.indexOf(t)&&(a.push(t),h(t,"closePopup",n),h(t,"showPopup",e)),-1===a.indexOf(b)&&(a.push(b),l(b.prototype,"onContainerMouseDown",r))}}})),o(t,"Extensions/Annotations/Annotation.js",[t["Core/Animation/AnimationUtilities.js"],t["Extensions/Annotations/AnnotationChart.js"],t["Extensions/Annotations/AnnotationDefaults.js"],t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllableEllipse.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/EventEmitter.js"],t["Extensions/Annotations/MockPoint.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Extensions/Annotations/Popup/PopupComposition.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r,h,l,a,c,b,d,g,q,f,p,u){function y(a,b){var t={};return["labels","shapes"].forEach((function(o){var n=a[o];n&&(t[o]=b[o]?w(b[o]).map((function(a,b){return C(n[b],a)})):a[o])})),t}var x=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function o(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),v=t.getDeferredAnimation,m=e.prototype,A=u.destroyObjectProperties,P=u.erase,O=u.fireEvent,C=u.merge,E=u.pick,w=u.splat;return t=function(t){function g(a,b){var o=t.call(this)||this;return o.annotation=void 0,o.coll="annotations",o.collection=void 0,o.animationConfig=void 0,o.graphic=void 0,o.group=void 0,o.labelCollector=void 0,o.labelsGroup=void 0,o.shapesGroup=void 0,o.chart=a,o.points=[],o.controlPoints=[],o.coll="annotations",o.labels=[],o.shapes=[],o.options=C(o.defaultOptions,b),o.userOptions=b,b=y(o.options,b),o.options.labels=b.labels,o.options.shapes=b.shapes,o.init(a,o.options),o}return x(g,t),g.compose=function(t,n,e){o.compose(g,t,n),b.compose(e),a.compose(t,e),f.compose(g,t),p.compose(f,n)},g.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},g.prototype.addLabels=function(){var a=this,b=this.options.labels||[];b.forEach((function(t,o){t=a.initLabel(t,o),C(!0,b[o],t.options)}))},g.prototype.addShapes=function(){var a=this,b=this.options.shapes||[];b.forEach((function(t,o){t=a.initShape(t,o),C(!0,b[o],t.options)}))},g.prototype.destroy=function(){var a=this.chart,b=function(a){a.destroy()};this.labels.forEach(b),this.shapes.forEach(b),this.clipYAxis=this.clipXAxis=null,P(a.labelCollectors,this.labelCollector),t.prototype.destroy.call(this),m.destroy.call(this),A(this,a)},g.prototype.destroyItem=function(a){P(this[a.itemType+"s"],a),a.destroy()},g.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},g.prototype.init=function(a,b,t){a=this.chart,b=this.options.animation,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=v(a,b)},g.prototype.initLabel=function(a,t){return a=C(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},a),(t=new b(this,a,t)).itemType="label",this.labels.push(t),t},g.prototype.initShape=function(a,b){return a=C(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},a),(b=new g.shapesMap[a.type](this,a,b)).itemType="shape",this.shapes.push(b),b},g.prototype.redraw=function(a){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,a),this.redrawItems(this.labels,a),m.redraw.call(this,a)},g.prototype.redrawItem=function(a,b){a.linkPoints(),a.shouldBeDrawn()?(a.graphic||this.renderItem(a),a.redraw(E(b,!0)&&a.graphic.placed),a.points.length&&function(a){var b=a.graphic;a=a.points.some((function(a){return!1!==a.series.visible&&!1!==a.visible})),b&&(a?"hidden"===b.visibility&&b.show():b.hide())}(a)):this.destroyItem(a)},g.prototype.redrawItems=function(a,b){for(var t=a.length;t--;)this.redrawItem(a[t],b)},g.prototype.remove=function(){return this.chart.removeAnnotation(this)},g.prototype.render=function(){var a=this.chart.renderer;this.graphic=a.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=a.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=a.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),m.render.call(this)},g.prototype.renderItem=function(a){a.render("label"===a.itemType?this.labelsGroup:this.shapesGroup)},g.prototype.renderItems=function(a){for(var b=a.length;b--;)this.renderItem(a[b])},g.prototype.setClipAxes=function(){var a=this.chart.xAxis,b=this.chart.yAxis,t=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((function(t,o){return o=o&&(o.point||o.points&&o.points[0]),[a[o&&o.xAxis]||t[0],b[o&&o.yAxis]||t[1]]}),[]);this.clipXAxis=t[0],this.clipYAxis=t[1]},g.prototype.setControlPointsVisibility=function(a){var b=function(b){b.setControlPointsVisibility(a)};m.setControlPointsVisibility.call(this,a),this.shapes.forEach(b),this.labels.forEach(b)},g.prototype.setLabelCollector=function(){var a=this;a.labelCollector=function(){return a.labels.reduce((function(a,b){return b.options.allowOverlap||a.push(b.graphic),a}),[])},a.chart.labelCollectors.push(a.labelCollector)},g.prototype.setOptions=function(a){this.options=C(this.defaultOptions,a)},g.prototype.setVisibility=function(a){var b=this.options,t=this.chart.navigationBindings;a=E(a,!b.visible),this.graphic.attr("visibility",a?"inherit":"hidden"),a||(this.setControlPointsVisibility(!1),t.activeAnnotation===this&&t.popup&&"annotation-toolbar"===t.popup.formType&&O(t,"closePopup")),b.visible=a},g.prototype.update=function(a,b){var t=this.chart,o=y(this.userOptions,a),n=t.annotations.indexOf(this);(a=C(!0,this.userOptions,a)).labels=o.labels,a.shapes=o.shapes,this.destroy(),this.constructor(t,a),t.options.annotations[n]=a,this.isUpdating=!0,E(b,!0)&&t.redraw(),O(this,"afterUpdate"),this.isUpdating=!1},g.ControlPoint=d,g.MockPoint=q,g.shapesMap={rect:r,circle:h,ellipse:l,path:a,image:c},g.types={},g}(g),C(!0,t.prototype,e.prototype,C(t.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:n})),t})),o(t,"Extensions/Annotations/Types/BasicAnnotation.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n){var e=this&&this.__extends||function(){var t=function(o,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(o,a)};return function(o,a){function n(){this.constructor=o}t(o,a),o.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();n=n.merge;var r=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return e(r,n),r.prototype.addControlPoints=function(){var a=this.options,t=r.basicControlPoints,b=this.basicType;(a.labels||a.shapes||[]).forEach((function(a){a.controlPoints=t[b]}))},r.prototype.init=function(){var a=this.options;a.shapes?(delete a.labelOptions,this.basicType=(a=a.shapes[0].type)&&"path"!==a?a:"rectangle"):(delete a.shapes,this.basicType="label"),t.prototype.init.apply(this,arguments)},r.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(a){return a.graphic.placed?{x:(a=o.pointToPixels(a.points[0])).x-this.graphic.width/2,y:a.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(a,t){a=this.mouseMoveToTranslation(a),t.translatePoint(a.x,a.y),t.annotation.userOptions.labels[0].point=t.options.point,t.redraw(!1)}}},{symbol:"square",positioner:function(a){return a.graphic.placed?{x:a.graphic.alignAttr.x-this.graphic.width/2,y:a.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(a,t){a=this.mouseMoveToTranslation(a),t.translate(a.x,a.y),t.annotation.userOptions.labels[0].point=t.options.point,t.redraw(!1)}}}],rectangle:[{positioner:function(a){return{x:(a=o.pointToPixels(a.points[2])).x-4,y:a.y-4}},events:{drag:function(a,t){var b=t.annotation,o=this.chart.pointer.getCoordinates(a);a=o.xAxis[0].value,o=o.yAxis[0].value;var n=t.options.points,e=b.userOptions.shapes;n[1].x=a,n[2].x=a,n[2].y=o,n[3].y=o,e&&e[0]&&(e[0].points=t.options.points),b.redraw(!1)}}}],circle:[{positioner:function(a){var t=o.pointToPixels(a.points[0]);return a=a.options.r,{x:t.x+a*Math.cos(Math.PI/4)-this.graphic.width/2,y:t.y+a*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(a,t){var b=t.annotation;a=this.mouseMoveToTranslation(a),b=b.userOptions.shapes,t.setRadius(Math.max(t.options.r+a.y/Math.sin(Math.PI/4),5)),b&&b[0]&&(b[0].r=t.options.r,b[0].point=t.options.point),t.redraw(!1)}}}],ellipse:[{positioner:function(a){return{x:(a=a.getAbsolutePosition(a.points[0])).x-this.graphic.width/2,y:a.y-this.graphic.height/2}},events:{drag:function(a,t){var b=t.getAbsolutePosition(t.points[0]);t.translatePoint(a.chartX-b.x,a.chartY-b.y,0),t.redraw(!1)}}},{positioner:function(a){return{x:(a=a.getAbsolutePosition(a.points[1])).x-this.graphic.width/2,y:a.y-this.graphic.height/2}},events:{drag:function(a,t){var b=t.getAbsolutePosition(t.points[1]);t.translatePoint(a.chartX-b.x,a.chartY-b.y,1),t.redraw(!1)}}},{positioner:function(a){var t=a.getAbsolutePosition(a.points[0]),b=a.getAbsolutePosition(a.points[1]);return{x:(a=a.getAttrs(t,b)).cx-this.graphic.width/2+a.ry*Math.sin(a.angle*Math.PI/180),y:a.cy-this.graphic.height/2-a.ry*Math.cos(a.angle*Math.PI/180)}},events:{drag:function(a,t){var b=t.getAbsolutePosition(t.points[0]),o=t.getAbsolutePosition(t.points[1]);a=t.getDistanceFromLine(b,o,a.chartX,a.chartY),b=t.getYAxis(),a=Math.abs(b.toValue(0)-b.toValue(a)),t.setYRadius(a),t.redraw(!1)}}}]},r}(t);return r.prototype.defaultOptions=n(t.prototype.defaultOptions,{}),t.types.basicAnnotation=r})),o(t,"Extensions/Annotations/Types/CrookedLine.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(a,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},r(a,t)},function(a,t){function b(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(b.prototype=t.prototype,new b)}),l=e.merge;return e=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return h(a,t),a.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},a.prototype.getPointsOptions=function(){var a=this.options.typeOptions;return(a.points||[]).map((function(b){return b.xAxis=a.xAxis,b.yAxis=a.yAxis,b}))},a.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},a.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach((function(a,b){b=new o(this.chart,this,l(this.options.controlPointOptions,a.controlPoint),b),this.controlPoints.push(b),a.controlPoint=b.options}),this)},a.prototype.addShapes=function(){var a=this.options.typeOptions,b=this.initShape(l(a.line,{type:"path",points:this.points.map((function(a,b){return function(a){return a.annotation.points[b]}}))}),0);a.line=b.options},a}(t),e.prototype.defaultOptions=l(t.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(t){var a=this.graphic;return{x:(t=n.pointToPixels(t.points[this.index])).x-a.width/2,y:t.y-a.height/2}},events:{drag:function(t,a){a.chart.isInsidePlot(t.chartX-a.chart.plotLeft,t.chartY-a.chart.plotTop,{visiblePlotOnly:!0})&&(t=this.mouseMoveToTranslation(t),a.translatePoint(t.x,t.y,this.index),a.options.typeOptions.points[this.index].x=a.points[this.index].x,a.options.typeOptions.points[this.index].y=a.points[this.index].y,a.redraw(!1))}}}}),t.types.crookedLine=e})),o(t,"Extensions/Annotations/Types/ElliottWave.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Core/Utilities.js"]],(function(t,o,n){var e=this&&this.__extends||function(){var t=function(o,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(o,a)};return function(o,a){function n(){this.constructor=o}t(o,a),o.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),r=n.merge;return n=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),o.prototype.addLabels=function(){var a=this;this.getPointsOptions().forEach((function(t,b){var o=a.initLabel(r(t.label,{text:a.options.typeOptions.labels[b],point:function(a){return a.annotation.points[b]}}),!1);t.label=o.options}))},o}(o),n.prototype.defaultOptions=r(o.prototype.defaultOptions,{typeOptions:{labels:"(0) (A) (B) (C) (D) (E)".split(" "),line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),t.types.elliottWave=n})),o(t,"Extensions/Annotations/Types/Tunnel.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r){var a,h=this&&this.__extends||(a=function(t,b){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(t,b)},function(t,b){function o(){this.constructor=t}a(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=r.merge;return r=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return h(t,a),t.prototype.getPointsOptions=function(){var a=n.prototype.getPointsOptions.call(this);return a[2]=this.heightPointOptions(a[1]),a[3]=this.heightPointOptions(a[0]),a},t.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},t.prototype.heightPointOptions=function(a){return(a=l(a)).y+=this.options.typeOptions.height,a},t.prototype.addControlPoints=function(){n.prototype.addControlPoints.call(this);var a=this.options,t=a.typeOptions;a=new o(this.chart,this,l(a.controlPointOptions,t.heightControlPoint),2),this.controlPoints.push(a),t.heightControlPoint=a.options},t.prototype.addShapes=function(){this.addLine(),this.addBackground()},t.prototype.addLine=function(){var a=this.initShape(l(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(a){return(a=e.pointToOptions(a.annotation.points[2])).command="M",a},this.points[3]]}),0);this.options.typeOptions.line=a.options},t.prototype.addBackground=function(){var a=this.initShape(l(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=a.options},t.prototype.translateSide=function(a,t,o){var b=0===(o=Number(o))?3:2;this.translatePoint(a,t,o),this.translatePoint(a,t,b)},t.prototype.translateHeight=function(a){this.translatePoint(0,a,2),this.translatePoint(0,a,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height},t}(n),r.prototype.defaultOptions=l(n.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(a){var t=e.pointToPixels(a.points[2]);a=e.pointToPixels(a.points[3]);var b=(t.x+a.x)/2;return{x:b-this.graphic.width/2,y:(a.y-t.y)/(a.x-t.x)*(b-t.x)+t.y-this.graphic.height/2}},events:{drag:function(a,t){t.chart.isInsidePlot(a.chartX-t.chart.plotLeft,a.chartY-t.chart.plotTop,{visiblePlotOnly:!0})&&(t.translateHeight(this.mouseMoveToTranslation(a).y),t.redraw(!1))}}}},controlPointOptions:{events:{drag:function(a,t){t.chart.isInsidePlot(a.chartX-t.chart.plotLeft,a.chartY-t.chart.plotTop,{visiblePlotOnly:!0})&&(a=this.mouseMoveToTranslation(a),t.translateSide(a.x,a.y,!!this.index),t.redraw(!1))}}}}),t.types.tunnel=r})),o(t,"Extensions/Annotations/Types/InfinityLine.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(a,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},r(a,t)},function(a,t){function b(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(b.prototype=t.prototype,new b)}),l=e.merge;return e=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return h(a,t),a.edgePoint=function(t,b){return function(o){var e=(o=o.annotation).options.typeOptions.type,r=o.points;return"horizontalLine"!==e&&"verticalLine"!==e||(r=[r[0],new n(o.chart,r[0].target,{x:r[0].x+ +("horizontalLine"===e),y:r[0].y+ +("verticalLine"===e),xAxis:r[0].options.xAxis,yAxis:r[0].options.yAxis})]),a.findEdgePoint(r[t],r[b])}},a.findEdgeCoordinate=function(a,b,t,o){var n="x"===t?"y":"x";return(b[t]-a[t])*(o-a[n])/(b[n]-a[n])+a[t]},a.findEdgePoint=function(t,b){var o=t.series.chart,e=t.series.xAxis,r=b.series.yAxis,h=n.pointToPixels(t),p=(b=n.pointToPixels(b)).x-h.x,l=b.y-h.y,c=e.left,d=c+e.width;r=(e=r.top)+r.height,d=0>p?c:d;var f=0>l?e:r;return c={x:0===p?h.x:d,y:0===l?h.y:f},0!==p&&0!==l&&(p=a.findEdgeCoordinate(h,b,"y",d),h=a.findEdgeCoordinate(h,b,"x",f),p>=e&&p<=r?(c.x=d,c.y=p):(c.x=h,c.y=f)),c.x-=o.plotLeft,c.y-=o.plotTop,t.series.chart.inverted&&(t=c.x,c.x=c.y,c.y=t),c},a.prototype.addShapes=function(){var t=this.options.typeOptions,b=[this.points[0],a.endEdgePoint];t.type.match(/line/gi)&&(b[0]=a.startEdgePoint),b=this.initShape(l(t.line,{type:"path",points:b}),0),t.line=b.options},a.endEdgePoint=a.edgePoint(0,1),a.startEdgePoint=a.edgePoint(1,0),a}(o),e.prototype.defaultOptions=l(o.prototype.defaultOptions,{}),t.types.infinityLine=e,e})),o(t,"Extensions/Annotations/Types/TimeCycles.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/ControlPoint.js"],t["Core/Utilities.js"]],(function(t,o,n,e){var r=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function o(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),h=e.merge,a=e.isNumber,l=e.defined;return e=function(b){function t(){return null!==b&&b.apply(this,arguments)||this}return r(t,b),t.prototype.init=function(a,t,o){l(t.yAxis)&&t.points.forEach((function(a){a.yAxis=t.yAxis})),l(t.xAxis)&&t.points.forEach((function(a){a.xAxis=t.xAxis})),b.prototype.init.call(this,a,t,o)},t.prototype.setPath=function(){this.shapes[0].options.d=this.getPath()},t.prototype.getPath=function(){return[["M",this.startX,this.y]].concat(function(a,t,o,n){for(var b=[],g=1;g<=t;g++)b.push(["A",a/2,a/2,0,1,1,o+g*a,n]);return b}(this.pixelInterval,this.numberOfCircles,this.startX,this.y))},t.prototype.addShapes=function(){var a=this.options.typeOptions;this.setPathProperties();var b=this.initShape(h(a.line,{type:"path",d:this.getPath(),points:this.options.points}),0);a.line=b.options},t.prototype.addControlPoints=function(){var a=this,b=this.options,t=b.typeOptions;b.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",t.controlPointOptions.forEach((function(t){t=h(b.controlPointOptions,t),t=new n(a.chart,a,t,0),a.controlPoints.push(t)}))},t.prototype.setPathProperties=function(){var b=this.options.typeOptions,t=b.points;if(t){var o=t[0],n=this.chart.xAxis[b.xAxis||0],e=this.chart.yAxis[b.yAxis||0];b=o.x;var r=o.y;o=t[1].x,b&&o&&(t=a(r)?e.toPixels(r):e.top+e.height,b=a(b)?n.toPixels(b):n.left,e=a(o)?n.toPixels(o):n.left+30,e=Math.round(Math.max(Math.abs(e-b),2)),o=Math.floor(n.len/e)+2,this.startX=b-(Math.floor((b-n.left)/e)+1)*e,this.y=t,this.pixelInterval=e,this.numberOfCircles=o)}},t.prototype.redraw=function(a){this.setPathProperties(),this.setPath(),b.prototype.redraw.call(this,a)},t}(o),e.prototype.defaultOptions=h(o.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(a){return{x:a.anchor(a.points[0]).absolutePosition.x-this.graphic.width/2,y:a.y-this.graphic.height}},events:{drag:function(a,t){var b=t.anchor(t.points[0]).absolutePosition;t.translatePoint(a.chartX-b.x,0,0),t.redraw(!1)}}},{positioner:function(a){return{x:a.anchor(a.points[1]).absolutePosition.x-this.graphic.width/2,y:a.y-this.graphic.height}},events:{drag:function(a,t){var b=t.anchor(t.points[1]).absolutePosition;t.translatePoint(a.chartX-b.x,0,1),t.redraw(!1)}}}]}}),t.types.timeCycles=e,e})),o(t,"Extensions/Annotations/Types/Fibonacci.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/MockPoint.js"],t["Extensions/Annotations/Types/Tunnel.js"],t["Core/Utilities.js"]],(function(t,o,n,e){function r(a,t){return function(){var b=this.annotation;if(!b.startRetracements||!b.endRetracements)return[];var o=this.anchor(b.startRetracements[a]).absolutePosition,n=this.anchor(b.endRetracements[a]).absolutePosition;return o=[["M",Math.round(o.x),Math.round(o.y)],["L",Math.round(n.x),Math.round(n.y)]],t&&(n=this.anchor(b.endRetracements[a-1]).absolutePosition,b=this.anchor(b.startRetracements[a-1]).absolutePosition,o.push(["L",Math.round(n.x),Math.round(n.y)],["L",Math.round(b.x),Math.round(b.y)])),o}}var a,h=this&&this.__extends||(a=function(t,b){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(t,b)},function(t,b){function o(){this.constructor=t}a(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=e.merge;return e=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return h(t,a),t.prototype.linkPoints=function(){a.prototype.linkPoints.call(this),this.linkRetracementsPoints()},t.prototype.linkRetracementsPoints=function(){var a=this,o=this.points,n=o[0].y-o[3].y,e=o[1].y-o[2].y,r=o[0].x,h=o[1].x;t.levels.forEach((function(b,t){var g=o[0].y-n*b;b=o[1].y-e*b,a.startRetracements=a.startRetracements||[],a.endRetracements=a.endRetracements||[],a.linkRetracementPoint(t,r,g,a.startRetracements),a.linkRetracementPoint(t,h,b,a.endRetracements)}))},t.prototype.linkRetracementPoint=function(a,t,n,e){var b=e[a],g=this.options.typeOptions;b?(b.options.x=t,b.options.y=n,b.refresh()):e[a]=new o(this.chart,this,{x:t,y:n,xAxis:g.xAxis,yAxis:g.yAxis})},t.prototype.addShapes=function(){t.levels.forEach((function(a,t){var b=this.options.typeOptions;a=b.backgroundColors;var o=b.lineColor;b=b.lineColors,this.initShape({type:"path",d:r(t),stroke:b[t]||o},t),0<t&&this.initShape({type:"path",fill:a[t-1],strokeWidth:0,d:r(t,!0)})}),this)},t.prototype.addLabels=function(){t.levels.forEach((function(a,t){var b=this.options.typeOptions;a=this.initLabel(l(b.labels[t],{point:function(a){return o.pointToOptions(a.annotation.startRetracements[t])},text:a.toString()})),b.labels[t]=a.options}),this)},t.levels=[0,.236,.382,.5,.618,.786,1],t}(n),e.prototype.defaultOptions=l(n.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:"rgba(130, 170, 255, 0.4);rgba(139, 191, 216, 0.4);rgba(150, 216, 192, 0.4);rgba(156, 229, 161, 0.4);rgba(162, 241, 130, 0.4);rgba(169, 255, 101, 0.4)".split(";"),lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),t.types.fibonacci=e})),o(t,"Extensions/Annotations/Types/FibonacciTimeZones.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/Types/InfinityLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n,e,r,h){function l(a,t,o){return function(b){var n=b.annotation.chart,g=(b=b.annotation.points)[0].series.xAxis.toValue(b[0].plotX+(n.inverted?n.plotTop:n.plotLeft)+o*(1<b.length?b[1].plotX-b[0].plotX:0));return b=[new r(n,b[0].target,{x:g,y:0,xAxis:b[0].options.xAxis,yAxis:b[0].options.yAxis}),new r(n,b[0].target,{x:g,y:1,xAxis:b[0].options.xAxis,yAxis:b[0].options.yAxis})],e.findEdgePoint(b[a],b[t])}}var a=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function o(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),c=h.merge;return h=function(b){function t(){return null!==b&&b.apply(this,arguments)||this}return a(t,b),t.prototype.addShapes=function(){for(var a=1,b=1,t=0;11>t;t++){var o=t?a:0;o=[l(1,0,o),l(0,1,o)],a=(b=a+b)-a,1===t&&(this.secondLineEdgePoints=[o[0],o[1]]),this.initShape(c(this.options.typeOptions.line,{type:"path",points:o}),t)}},t.prototype.addControlPoints=function(){var a=this.options,b=a.typeOptions;a=new o(this.chart,this,c(a.controlPointOptions,b.controlPointOptions),0),this.controlPoints.push(a),b.controlPointOptions=a.options},t}(n),h.prototype.defaultOptions=c(n.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){var a=this.target,t=this.graphic,o=a.secondLineEdgePoints,n={annotation:a},e=o[0](n).y,r=o[1](n).y;a=this.chart.plotLeft;var h=this.chart.plotTop;return o=o[0](n).x,e=(e+r)/2,this.chart.inverted&&(o=(e=[e,o])[0],e=e[1]),{x:a+o-t.width/2,y:h+e-t.height/2}},events:{drag:function(a,t){t.chart.isInsidePlot(a.chartX-t.chart.plotLeft,a.chartY-t.chart.plotTop,{visiblePlotOnly:!0})&&(a=this.mouseMoveToTranslation(a),t.translatePoint(a.x,0,1),t.redraw(!1))}}}}}),t.types.fibonacciTimeZones=h,h})),o(t,"Extensions/Annotations/Types/Pitchfork.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/Types/InfinityLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(a,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},r(a,t)},function(a,t){function b(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(b.prototype=t.prototype,new b)}),l=e.merge;return e=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return h(a,t),a.outerLineEdgePoint=function(t){return function(b){var o=b.annotation,e=o.points;return a.findEdgePoint(e[t],e[0],new n(o.chart,b,o.midPointOptions()))}},a.findEdgePoint=function(a,b,t){return b=Math.atan2(t.plotY-b.plotY,t.plotX-b.plotX),{x:a.plotX+1e7*Math.cos(b),y:a.plotY+1e7*Math.sin(b)}},a.middleLineEdgePoint=function(a){var b=a.annotation;return o.findEdgePoint(b.points[0],new n(b.chart,a,b.midPointOptions()))},a.prototype.midPointOptions=function(){var a=this.points;return{x:(a[1].x+a[2].x)/2,y:(a[1].y+a[2].y)/2,xAxis:a[0].series.xAxis,yAxis:a[0].series.yAxis}},a.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},a.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],a.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],a.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],a.bottomLineEdgePoint]},2)},a.prototype.addBackgrounds=function(){var a=this.shapes,b=this.options.typeOptions,t=this.initShape(l(b.innerBackground,{type:"path",points:[function(a){var b=a.annotation;return a=b.points,b=b.midPointOptions(),{x:(a[1].x+b.x)/2,y:(a[1].y+b.y)/2,xAxis:b.xAxis,yAxis:b.yAxis}},a[1].points[1],a[2].points[1],function(a){var b=a.annotation;return a=b.points,{x:((b=b.midPointOptions()).x+a[2].x)/2,y:(b.y+a[2].y)/2,xAxis:b.xAxis,yAxis:b.yAxis}}]}),3);a=this.initShape(l(b.outerBackground,{type:"path",points:[this.points[1],a[1].points[1],a[2].points[1],this.points[2]]}),4),b.innerBackground=t.options,b.outerBackground=a.options},a.topLineEdgePoint=a.outerLineEdgePoint(1),a.bottomLineEdgePoint=a.outerLineEdgePoint(0),a}(o),e.prototype.defaultOptions=l(o.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),t.types.pitchfork=e})),o(t,"Extensions/Annotations/Types/VerticalLine.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(a,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},e(a,t)},function(a,t){function b(){this.constructor=a}e(a,t),a.prototype=null===t?Object.create(t):(b.prototype=t.prototype,new b)}),h=n.merge,l=n.pick;return n=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return r(a,t),a.connectorFirstPoint=function(a){var b=a.annotation,t=(a=b.chart).inverted,n=b.points[0],e=l(n.series.yAxis&&n.series.yAxis.left,0),r=l(n.series.yAxis&&n.series.yAxis.top,0);b=b.options.typeOptions.label.offset;var h=o.pointToPixels(n,!0)[t?"x":"y"];return{x:n.x,xAxis:n.series.xAxis,y:h+b+(t?e-a.plotLeft:r-a.plotTop)}},a.connectorSecondPoint=function(a){var b=a.annotation,t=(a=b.chart).inverted,n=b.options.typeOptions;b=b.points[0];var e=l(b.series.yAxis&&b.series.yAxis.left,0),r=l(b.series.yAxis&&b.series.yAxis.top,0),h=o.pointToPixels(b,!0)[t?"x":"y"],c=n.yOffset;return 0>n.label.offset&&(c*=-1),{x:b.x,xAxis:b.series.xAxis,y:h+c+(t?e-a.plotLeft:r-a.plotTop)}},a.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},a.prototype.addShapes=function(){var t=this.options.typeOptions,b=this.initShape(h(t.connector,{type:"path",points:[a.connectorFirstPoint,a.connectorSecondPoint]}),0);t.connector=b.options},a.prototype.addLabels=function(){var a=this.options.typeOptions,b=a.label,t=0,o=b.offset,n=0>b.offset?"bottom":"top",e="center";this.chart.inverted&&(t=b.offset,o=0,n="middle",e=0>b.offset?"right":"left"),b=this.initLabel(h(b,{verticalAlign:n,align:e,x:t,y:o})),a.label=b.options},a}(t),n.prototype.defaultOptions=h(t.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),t.types.verticalLine=n})),o(t,"Extensions/Annotations/Types/Measure.js",[t["Extensions/Annotations/Annotation.js"],t["Extensions/Annotations/ControlPoint.js"],t["Core/Utilities.js"]],(function(t,o,n){function e(){var a=this.chart.series,b=h(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),t=0,o=!1;return a.forEach((function(a){a.visible&&"highcharts-navigator-series"!==a.options.id&&a.points.forEach((function(a){!a.isNull&&a.x>b.xAxisMin&&a.x<=b.xAxisMax&&a.y>b.yAxisMin&&a.y<=b.yAxisMax&&(t++,o=!0)}))})),o||(t=""),t}function r(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function h(a,b,t,o){return{xAxisMin:Math.min(b,a),xAxisMax:Math.max(b,a),yAxisMin:Math.min(o,t),yAxisMax:Math.max(o,t)}}function l(a,b,t){return a.toValue(a.toPixels(b)+t)}function a(){var a=this.chart.series,b=h(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),t=-1/0,o=!1;return a.forEach((function(a){a.visible&&"highcharts-navigator-series"!==a.options.id&&a.points.forEach((function(a){!a.isNull&&a.y>t&&a.x>b.xAxisMin&&a.x<=b.xAxisMax&&a.y>b.yAxisMin&&a.y<=b.yAxisMax&&(t=a.y,o=!0)}))})),o||(t=""),t}function c(){var a=this.chart.series,b=h(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),t=1/0,o=!1;return a.forEach((function(a){a.visible&&"highcharts-navigator-series"!==a.options.id&&a.points.forEach((function(a){!a.isNull&&a.y<t&&a.x>b.xAxisMin&&a.x<=b.xAxisMax&&a.y>b.yAxisMin&&a.y<=b.yAxisMax&&(t=a.y,o=!0)}))})),o||(t=""),t}function b(b){var t=this.options.typeOptions,o=this.chart.xAxis[t.xAxis];t=this.chart.yAxis[t.yAxis];var g=this.offsetX,n=this.offsetY;this.xAxisMin=l(o,this.startXMin,g),this.xAxisMax=l(o,this.startXMax,g),this.yAxisMin=l(t,this.startYMin,n),this.yAxisMax=l(t,this.startYMax,n),this.min=c.call(this),this.max=a.call(this),o="",""!==this.max&&""!==this.min&&(o=(this.max+this.min)/2),this.average=o,this.bins=e.call(this),b&&this.resize(0,0)}function d(a,b,t,o,n){var g=this.options.typeOptions,e=g.selectType,r=this.chart.xAxis[g.xAxis];g=this.chart.yAxis[g.yAxis];var h=this.startXMin,c=this.startXMax,d=this.startYMin,f=this.startYMax,y=this.offsetX,p=this.offsetY;b&&("x"===e?0===t?this.startXMin=l(r,h,o):this.startXMax=l(r,c,o):"y"===e?0===t?this.startYMin=l(g,d,n):this.startYMax=l(g,f,n):(this.startXMax=l(r,c,o),this.startYMax=l(g,f,n))),a&&(this.startXMin=l(r,h,y),this.startXMax=l(r,c,y),this.startYMin=l(g,d,p),this.startYMax=l(g,f,p),this.offsetY=this.offsetX=0)}var g=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function o(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),q=n.defined,f=n.extend,p=n.isNumber,u=n.merge,y=n.pick;return n=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return g(n,a),n.prototype.init=function(a,b,o){t.prototype.init.call(this,a,b,o),this.resizeY=this.resizeX=this.offsetY=this.offsetX=0,a=this.options.typeOptions;var n=this.chart;o=n.inverted,b=n.xAxis[a.xAxis],n=n.yAxis[a.yAxis];var g=a.background,e=o?g.height:g.width;g=o?g.width:g.height;var r=a.selectType,h=o?b.left:n.top;o=o?n.top:b.left,this.startXMin=a.point.x,this.startYMin=a.point.y,p(e)?this.startXMax=this.startXMin+e:this.startXMax=l(b,this.startXMin,parseFloat(e)),p(g)?this.startYMax=this.startYMin-g:this.startYMax=l(n,this.startYMin,parseFloat(g)),"x"===r?(this.startYMin=n.toValue(h),this.startYMax=n.toValue(h+n.len)):"y"===r&&(this.startXMin=b.toValue(o),this.startXMax=b.toValue(o+b.len)),this.addValues(),this.addShapes()},n.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},n.prototype.pointsOptions=function(){return this.options.points},n.prototype.shapePointsOptions=function(){var a=this.options.typeOptions,b=a.xAxis;return a=a.yAxis,[{x:this.xAxisMin,y:this.yAxisMin,xAxis:b,yAxis:a},{x:this.xAxisMax,y:this.yAxisMin,xAxis:b,yAxis:a},{x:this.xAxisMax,y:this.yAxisMax,xAxis:b,yAxis:a},{x:this.xAxisMin,y:this.yAxisMax,xAxis:b,yAxis:a}]},n.prototype.addControlPoints=function(){var a=this.chart.inverted,b=this.options.controlPointOptions,t=this.options.typeOptions.selectType;q(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||("x"===t?b.style.cursor=a?"ns-resize":"ew-resize":"y"===t&&(b.style.cursor=a?"ew-resize":"ns-resize")),a=new o(this.chart,this,this.options.controlPointOptions,0),this.controlPoints.push(a),"xy"!==t&&(a=new o(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(a))},n.prototype.addValues=function(a){var t=this.options.typeOptions,o=t.label.formatter;b.call(this,a),t.label.enabled&&(0<this.labels.length?this.labels[0].text=o&&o.call(this)||r.call(this):this.initLabel(f({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(a){var b=a.annotation;return a=a.options,{x:b.xAxisMin,y:b.yAxisMin,xAxis:y(t.xAxis,a.xAxis),yAxis:y(t.yAxis,a.yAxis)}},text:o&&o.call(this)||r.call(this)},t.label),void 0))},n.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},n.prototype.addBackground=function(){void 0!==this.shapePointsOptions()[0].x&&this.initShape(f({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)},n.prototype.addCrosshairs=function(){var a=this.chart,b=this.options.typeOptions,t=a.xAxis[b.xAxis],o=a.yAxis[b.yAxis],n=a.inverted;a={point:this.options.typeOptions.point,type:"path"};var e=t.toPixels(this.xAxisMin),g=t.toPixels(this.xAxisMax),r=o.toPixels(this.yAxisMin),h=o.toPixels(this.yAxisMax);o=[],t=[],n&&(n=e,e=r,r=n,n=g,g=h,h=n),b.crosshairX.enabled&&(o=[["M",e,r+(h-r)/2],["L",g,r+(h-r)/2]]),b.crosshairY.enabled&&(t=[["M",e+(g-e)/2,r],["L",e+(g-e)/2,h]]),0<this.shapes.length?(this.shapes[0].options.d=o,this.shapes[1].options.d=t):(e=u(a,b.crosshairX),b=u(a,b.crosshairY),this.initShape(f({d:o},e),0),this.initShape(f({d:t},b),1))},n.prototype.onDrag=function(a){var b=this.mouseMoveToTranslation(a),t=this.options.typeOptions.selectType;a="y"===t?0:b.x,b="x"===t?0:b.y,this.translate(a,b),this.offsetX+=a,this.offsetY+=b,this.redraw(!1,!1,!0)},n.prototype.resize=function(a,b,t,o){var n=this.shapes[2];"x"===o?0===t?(n.translatePoint(a,0,0),n.translatePoint(a,b,3)):(n.translatePoint(a,0,1),n.translatePoint(a,b,2)):"y"===o?0===t?(n.translatePoint(0,b,0),n.translatePoint(0,b,1)):(n.translatePoint(0,b,2),n.translatePoint(0,b,3)):(n.translatePoint(a,0,1),n.translatePoint(a,b,2),n.translatePoint(0,b,3)),d.call(this,!1,!0,t,a,b),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},n.prototype.redraw=function(a,b,t){this.linkPoints(),this.graphic||this.render(),t&&d.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(b),this.addCrosshairs(),this.redrawItems(this.shapes,a),this.redrawItems(this.labels,a),this.controlPoints.forEach((function(a){return a.redraw()}))},n.prototype.translate=function(a,b){this.shapes.forEach((function(t){return t.translate(a,b)})),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},n}(t),n.prototype.defaultOptions=u(t.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(a){var b=this.index,t=a.chart,o=a.options,n=o.typeOptions,g=n.selectType;o=o.controlPointOptions;var e=t.inverted,r=t.xAxis[n.xAxis];t=t.yAxis[n.yAxis];var l=h(a.xAxisMin,a.xAxisMax,a.yAxisMin,a.yAxisMax);n=a.xAxisMax;var c=a.yAxisMax;return"x"===g&&(c=(l.yAxisMax-l.yAxisMin)/2,0===b&&(n=a.xAxisMin)),"y"===g&&(n=l.xAxisMin+(l.xAxisMax-l.xAxisMin)/2,0===b&&(c=a.yAxisMin)),e?(a=t.toPixels(c),b=r.toPixels(n)):(a=r.toPixels(n),b=t.toPixels(c)),{x:a-o.width/2,y:b-o.height/2}},events:{drag:function(a,b){var t=this.mouseMoveToTranslation(a),o="y"===(a=b.options.typeOptions.selectType)?0:t.x;t="x"===a?0:t.y,b.resize(o,t,this.index,a),b.resizeX+=o,b.resizeY+=t,b.redraw(!1,!0)}}}}),t.types.measure=n})),o(t,"masters/modules/annotations-advanced.src.js",[t["Core/Globals.js"],t["Extensions/Annotations/Annotation.js"]],(function(t,o){t.Annotation=o,o.compose(t.Chart,t.Pointer,t.SVGRenderer)}))},t.exports?(h.default=h,t.exports=h):(e=[n(224)],void 0===(r=function(t){return h(t),h.Highcharts=t,h}.apply(o,e))||(t.exports=r))}}]);