(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{479:function(t,e,o){var r,n,b;b=function(b){function t(b,t,p,e){b.hasOwnProperty(t)||(b[t]=e.apply(null,p),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:b[t]}})))}t(b=b?b._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[b["Core/Color/Color.js"],b["Core/Utilities.js"]],(function(b,t){var q,p=b.parse,e=t.addEvent,o=t.extend,r=t.merge,n=t.pick,l=t.splat;return function(g){function q(){var t=this,a=this.options;this.colorAxis=[],a.colorAxis&&(a.colorAxis=l(a.colorAxis),a.colorAxis.forEach((function(a,e){a.index=e,new x(t,a)})))}function a(t){var e,o,a=this,r=function(e){-1!==(e=t.allItems.indexOf(e))&&(a.destroyItem(t.allItems[e]),t.allItems.splice(e,1))},n=[];for((this.chart.colorAxis||[]).forEach((function(t){(e=t.options)&&e.showInLegend&&(e.dataClasses&&e.visible?n=n.concat(t.getDataClassLegendSymbols()):e.visible&&n.push(t),t.series.forEach((function(t){t.options.showInLegend&&!e.dataClasses||("point"===t.options.legendType?t.points.forEach((function(t){r(t)})):r(t))})))})),o=n.length;o--;)t.allItems.unshift(n[o])}function t(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function h(){var t=this.chart.colorAxis;t&&t.forEach((function(t,a,e){t.update({},e)}))}function u(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function c(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function d(t){var a=this,e=t?"show":"hide";a.visible=a.options.visible=!!t,["graphic","dataLabel"].forEach((function(t){a[t]&&a[t][e]()})),this.series.buildKDTree()}function f(){var t=this,a=this.options.nullColor,e=this.colorAxis,o=this.colorKey;(this.data.length?this.data:this.points).forEach((function(r){var n=r.getNestedProperty(o);(n=r.options.color||(r.isNull||null===r.value?a:e&&void 0!==n?e.toColor(n,r):r.color||t.color))&&r.color!==n&&(r.color=n,"point"===t.options.legendType&&r.legendItem&&r.legendItem.label&&t.chart.legend.colorizeItem(r,r.visible))}))}function y(t){var a=t.prototype.createAxis;t.prototype.createAxis=function(t,e){if("colorAxis"!==t)return a.apply(this,arguments);var o=new x(this,r(e.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0})),n(e.redraw,!0)&&this.redraw(e.animation),o}}function m(){this.elem.attr("fill",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}function v(){this.elem.attr("stroke",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}var x,M=[];g.compose=function(g,r,n,l,j){x||(x=g),-1===M.indexOf(r)&&(M.push(r),(g=r.prototype).collectionsWithUpdate.push("colorAxis"),g.collectionsWithInit.colorAxis=[g.addColorAxis],e(r,"afterGetAxes",q),y(r)),-1===M.indexOf(n)&&(M.push(n),(r=n.prototype).fillSetter=m,r.strokeSetter=v),-1===M.indexOf(l)&&(M.push(l),e(l,"afterGetAllItems",a),e(l,"afterColorizeItem",t),e(l,"afterUpdate",h)),-1===M.indexOf(j)&&(M.push(j),o(j.prototype,{optionalAxis:"colorAxis",translateColors:f}),o(j.prototype.pointClass.prototype,{setVisible:d}),e(j,"afterTranslate",u),e(j,"bindAxes",c))},g.pointSetVisible=d}(q||(q={})),q})),t(b,"Core/Axis/Color/ColorAxisDefaults.js",[],(function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}})),t(b,"Core/Axis/Color/ColorAxis.js",[b["Core/Axis/Axis.js"],b["Core/Color/Color.js"],b["Core/Axis/Color/ColorAxisComposition.js"],b["Core/Axis/Color/ColorAxisDefaults.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p,e,o,r,n,l){var q=this&&this.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},a(t,e)};return function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),g=t.parse,h=n.series,a=l.extend,c=l.isNumber,d=l.merge,u=l.pick;return t=function(t){function o(e,a){var o=t.call(this,e,a)||this;return o.beforePadding=!1,o.chart=void 0,o.coll="colorAxis",o.dataClasses=void 0,o.name="",o.options=void 0,o.stops=void 0,o.visible=!0,o.init(e,a),o}return q(o,t),o.compose=function(t,a,e,r){p.compose(o,t,a,e,r)},o.prototype.init=function(a,e){var r=a.options.legend||{},n=e.layout?"vertical"!==e.layout:"vertical"!==r.layout,l=e.visible;r=d(o.defaultColorAxisOptions,e,{showEmpty:!1,title:null,visible:r.enabled&&!1!==l}),this.coll="colorAxis",this.side=e.side||n?2:1,this.reversed=e.reversed||!n,this.opposite=!n,t.prototype.init.call(this,a,r),this.userOptions.visible=l,e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=n,this.zoomEnabled=!1},o.prototype.initDataClasses=function(a){var t,e=this.chart,o=this.legendItem=this.legendItem||{},r=a.dataClasses.length,u=this.options,n=0,l=e.options.chart.colorCount;this.dataClasses=t=[],o.labels=[],(a.dataClasses||[]).forEach((function(a,o){a=d(a),t.push(a),!e.styledMode&&a.color||("category"===u.dataClassColor?(e.styledMode||(o=e.options.colors,l=o.length,a.color=o[n]),a.colorIndex=n,++n===l&&(n=0)):a.color=g(u.minColor).tweenTo(g(u.maxColor),2>r?.5:o/(r-1)))}))},o.prototype.hasData=function(){return!!(this.tickPositions||[]).length},o.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},o.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach((function(a){a.color=g(a[1])}))},o.prototype.setOptions=function(a){t.prototype.setOptions.call(this,a),this.options.crosshair=this.options.marker},o.prototype.setAxisSize=function(){var t,u,a=this.legendItem&&this.legendItem.symbol,e=this.chart,r=e.options.legend||{};a?(this.left=r=a.attr("x"),this.top=t=a.attr("y"),this.width=u=a.attr("width"),this.height=a=a.attr("height"),this.right=e.chartWidth-r-u,this.bottom=e.chartHeight-t-a,this.len=this.horiz?u:a,this.pos=this.horiz?r:t):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||o.defaultLegendLength},o.prototype.normalizedValue=function(a){return this.logarithmic&&(a=this.logarithmic.log2lin(a)),1-(this.max-a)/(this.max-this.min||1)},o.prototype.toColor=function(a,t){var e,o=this.dataClasses,r=this.stops;if(o)for(e=o.length;e--;){var u=o[e],n=u.from;if(r=u.to,(void 0===n||a>=n)&&(void 0===r||a<=r)){var l=u.color;t&&(t.dataClass=e,t.colorIndex=u.colorIndex);break}}else{for(a=this.normalizedValue(a),e=r.length;e--&&!(a>r[e][0]););n=r[e]||r[e+1],a=1-((r=r[e+1]||n)[0]-a)/(r[0]-n[0]||1),l=n.color.tweenTo(r.color,a)}return l},o.prototype.getOffset=function(){var a=this.legendItem&&this.legendItem.group,e=this.chart.axisOffset[this.side];if(a){this.axisParent=a,t.prototype.getOffset.call(this);var r=this.chart.legend;r.allItems.forEach((function(a){a instanceof o&&a.drawLegendSymbol(r,a)})),r.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e}},o.prototype.setLegendColor=function(){var a=this.reversed,t=a?1:0;a=a?0:1,t=this.horiz?[t,0,a,0]:[0,a,0,t],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},o.prototype.drawLegendSymbol=function(a,t){t=t.legendItem||{};var e=a.padding,r=a.options,n=u(r.itemDistance,10),l=this.horiz,g=u(r.symbolWidth,l?o.defaultLegendLength:12),h=u(r.symbolHeight,l?12:o.defaultLegendLength);r=u(r.labelPadding,l?16:30),this.setLegendColor(),t.symbol||(t.symbol=this.chart.renderer.rect(0,a.baseline-11,g,h).attr({zIndex:1}).add(t.group)),t.labelWidth=g+e+(l?n:this.options.labels.x+this.maxLabelLength),t.labelHeight=h+e+(l?r:0)},o.prototype.setState=function(a){this.series.forEach((function(t){t.setState(a)}))},o.prototype.setVisible=function(){},o.prototype.getSeriesExtremes=function(){var t,a=this.series,e=a.length;for(this.dataMin=1/0,this.dataMax=-1/0;e--;){var o=a[e],r=o.colorKey=u(o.options.colorKey,o.colorKey,o.pointValKey,o.zoneAxis,"y"),n=o.pointArrayMap,g=o[r+"Min"]&&o[r+"Max"];if(o[r+"Data"])var l=o[r+"Data"];else if(n){l=[],n=n.indexOf(r);var q=o.yData;if(0<=n&&q)for(t=0;t<q.length;t++)l.push(u(q[t][n],q[t]))}else l=o.yData;g?(o.minColorValue=o[r+"Min"],o.maxColorValue=o[r+"Max"]):(l=h.prototype.getExtremes.call(o,l),o.minColorValue=l.dataMin,o.maxColorValue=l.dataMax),void 0!==o.minColorValue&&(this.dataMin=Math.min(this.dataMin,o.minColorValue),this.dataMax=Math.max(this.dataMax,o.maxColorValue)),g||h.prototype.applyExtremes.call(o)}},o.prototype.drawCrosshair=function(a,e){var o=this.legendItem||{},r=e&&e.plotX,u=e&&e.plotY,n=this.pos,l=this.len;if(e){var g=this.toPixels(e.getNestedProperty(e.series.colorKey));g<n?g=n-2:g>n+l&&(g=n+l+2),e.plotX=g,e.plotY=this.len-g,t.prototype.drawCrosshair.call(this,a,e),e.plotX=r,e.plotY=u,this.cross&&!this.cross.addedToColorAxis&&o.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(o.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},o.prototype.getPlotLinePath=function(a){var e=this.left,u=a.translatedValue,o=this.top;return c(u)?this.horiz?[["M",u-4,o-6],["L",u+4,o-6],["L",u,o],["Z"]]:[["M",e,u],["L",e-6,u+6],["L",e-6,u-6],["Z"]]:t.prototype.getPlotLinePath.call(this,a)},o.prototype.update=function(a,e){var o=this.chart.legend;this.series.forEach((function(a){a.isDirtyData=!0})),(a.dataClasses&&o.allItems||this.dataClasses)&&this.destroyItems(),t.prototype.update.call(this,a,e),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),o.colorizeItem(this,!0))},o.prototype.destroyItems=function(){var a=this.chart,t=this.legendItem||{};if(t.label)a.legend.destroyItem(this);else if(t.labels){var e=0;for(t=t.labels;e<t.length;e++)a.legend.destroyItem(t[e])}a.isDirtyLegend=!0},o.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),t.prototype.destroy.apply(this,[].slice.call(arguments))},o.prototype.remove=function(a){this.destroyItems(),t.prototype.remove.call(this,a)},o.prototype.getDataClassLegendSymbols=function(){var t,e=this,o=e.chart,n=e.legendItem&&e.legendItem.labels||[],l=o.options.legend,h=u(l.valueDecimals,-1),g=u(l.valueSuffix,""),q=function(a){return e.series.reduce((function(t,e){return t.push.apply(t,e.points.filter((function(t){return t.dataClass===a}))),t}),[])};return n.length||e.dataClasses.forEach((function(l,u){var c=l.from,d=l.to,f=o.numberFormatter,y=!0;t="",void 0===c?t="< ":void 0===d&&(t="> "),void 0!==c&&(t+=f(c,h)+g),void 0!==c&&void 0!==d&&(t+=" - "),void 0!==d&&(t+=f(d,h)+g),n.push(a({chart:o,name:t,options:{},drawLegendSymbol:r.drawRectangle,visible:!0,isDataClass:!0,setState:function(a){for(var t=0,e=q(u);t<e.length;t++)e[t].setState(a)},setVisible:function(){this.visible=y=e.visible=!y;for(var a=0,t=q(u);a<t.length;a++)t[a].setVisible(y);o.legend.colorizeItem(this,y)}},l))})),n},o.defaultColorAxisOptions=e,o.defaultLegendLength=200,o.keepProps=["legendItem"],o}(b),Array.prototype.push.apply(b.keepProps,t.keepProps),t})),t(b,"Maps/MapNavigationDefaults.js",[b["Core/Defaults.js"],b["Core/Utilities.js"]],(function(b,t){return(t=t.extend)(b.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),b.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}})),t(b,"Maps/MapNavigation.js",[b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],(function(b,t,p){function e(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function o(a){this.navButtons=[],this.init(a)}var r=t.doc,n=p.addEvent,l=p.extend,q=p.isNumber,g=p.merge,h=p.objectEach,a=p.pick;o.prototype.init=function(a){this.chart=a},o.prototype.update=function(t){var o,r=this,u=this.chart,c=u.options.mapNavigation,d=function(a){this.handler.call(u,a),e(a)},f=r.navButtons;for(t&&(c=u.options.mapNavigation=g(u.options.mapNavigation,t));f.length;)f.pop().destroy();a(c.enableButtons,c.enabled)&&!u.renderer.forExport&&(r.navButtonsGroup||(r.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),h(c.buttons,(function(a,t){a=g(c.buttonOptions,a),!u.styledMode&&a.theme&&((o=a.theme).style=g(a.theme.style,a.style));var h=u.renderer.button(a.text||"",0,0,d,o,void 0,void 0,void 0,"zoomIn"===t?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[t]).attr({width:a.width,height:a.height,title:u.options.lang[t],padding:a.padding,zIndex:5}).add(r.navButtonsGroup);if(h.handler=a.onclick,n(h.element,"dblclick",e),f.push(h),l(a,{width:h.width,height:2*h.height}),u.hasLoaded)h.align(a,!1,a.alignTo);else var q=n(u,"load",(function(){h.element&&h.align(a,!1,a.alignTo),q()}))})),t=function(){var a=u.exportingGroup&&u.exportingGroup.getBBox();if(a){var t=r.navButtonsGroup.getBBox();if(!(t.x>=a.x+a.width||t.x+t.width<=a.x||t.y>=a.y+a.height||t.y+t.height<=a.y)){var e=-t.y-t.height+a.y-5;a=a.y+a.height-t.y+5,r.navButtonsGroup.attr({translateY:"bottom"===(c.buttonOptions&&c.buttonOptions.verticalAlign)?e:a})}}},u.hasLoaded||n(u,"render",t)),this.updateEvents(c)},o.prototype.updateEvents=function(t){var o=this.chart;a(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||n(o.container,"dblclick",(function(a){o.pointer.onContainerDblClick(a)})):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),a(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||n(o.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",(function(a){return o.pointer.inClass(a.target,"highcharts-no-mousewheel")||(o.pointer.onContainerMouseWheel(a),e(a)),!1})):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},l(b.prototype,{fitToBox:function(a,t){return[["x","width"],["y","height"]].forEach((function(e){var o=e[0];e=e[1],a[o]+a[e]>t[o]+t[e]&&(a[e]>t[e]?(a[e]=t[e],a[o]=t[o]):a[o]=t[o]+t[e]-a[e]),a[e]>t[e]&&(a[e]=t[e]),a[o]<t[o]&&(a[o]=t[o])})),a},mapZoom:function(a,t,u,e,o){this.mapView&&(q(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,q(t)&&q(u)?this.mapView.projection.inverse([t,u]):void 0,q(e)&&q(o)?[e,o]:void 0))}}),n(b,"beforeRender",(function(){this.mapNavigation=new o(this),this.mapNavigation.update()})),t.MapNavigation=o})),t(b,"Maps/MapPointer.js",[b["Core/Pointer.js"],b["Core/Utilities.js"]],(function(b,t){var p=t.defined,e=t.extend,o=t.pick;t=t.wrap;var r,n=b.prototype.normalize,l=0;e(b.prototype,{normalize:function(q,g){var t=this.chart;return q=n.call(this,q,g),t&&t.mapView&&(g=t.mapView.pixelsToLonLat({x:q.chartX-t.plotLeft,y:q.chartY-t.plotTop}))&&e(q,g),q},onContainerDblClick:function(t){var g=this.chart;t=this.normalize(t),g.options.mapNavigation.enableDoubleClickZoomTo?g.pointer.inClass(t.target,"highcharts-tracker")&&g.hoverPoint&&g.hoverPoint.zoomTo():g.isInsidePlot(t.chartX-g.plotLeft,t.chartY-g.plotTop)&&g.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var g=this.chart;t=this.normalize(t);var e=p(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(e)&&(l+=Math.abs(e),r&&clearTimeout(r),r=setTimeout((function(){l=0}),50)),10>l&&g.isInsidePlot(t.chartX-g.plotLeft,t.chartY-g.plotTop)&&g.mapView&&g.mapView.zoomBy((g.options.mapNavigation.mouseWheelSensitivity-1)*-e,void 0,[t.chartX,t.chartY],!(1>Math.abs(e))&&void 0)}}),t(b.prototype,"zoomOption",(function(t){var g=this.chart.options.mapNavigation;o(g.enableTouchZoom,g.enabled)&&(this.chart.options.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))})),t(b.prototype,"pinchTranslate",(function(t,g,e,a,o,r,u){t.call(this,g,e,a,o,r,u),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=a.scaleX>a.scaleY,this.pinchTranslateDirection(!t,g,e,a,o,r,u,t?a.scaleX:a.scaleY))}))})),t(b,"Series/ColorMapComposition.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t){var e,p=b.seriesTypes.column.prototype,o=t.addEvent,r=t.defined;return function(t){function e(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}var b=[];t.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){var g={};return!r(t.color)||t.state&&"normal"!==t.state||(g[this.colorProp||"fill"]=t.color),g},pointAttribs:p.pointAttribs},t.compose=function(t){var g=t.prototype.pointClass;return-1===b.indexOf(g)&&(b.push(g),o(g,"afterSetState",e)),t}}(e||(e={})),e})),t(b,"Maps/MapSymbols.js",[b["Core/Renderer/SVG/SVGRenderer.js"]],(function(b){function t(b,t,e,o,r,n,q,g){return[["M",b+r,t],["L",b+e-n,t],["C",b+e-n/2,t,b+e,t+n/2,b+e,t+n],["L",b+e,t+o-q],["C",b+e,t+o-q/2,b+e-q/2,t+o,b+e-q,t+o],["L",b+g,t+o],["C",b+g/2,t+o,b,t+o-g/2,b,t+o-g],["L",b,t+r],["C",b,t+r/2,b+r/2,t,b+r,t],["Z"]]}return(b=b.prototype.symbols).bottombutton=function(b,e,o,r,n){return t(b-1,e-1,o,r,0,0,n=n&&n.r||0,n)},b.topbutton=function(b,e,o,r,n){return t(b-1,e-1,o,r,n=n&&n.r||0,n,0,0)},b})),t(b,"Core/Chart/MapChart.js",[b["Core/Chart/Chart.js"],b["Core/Defaults.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],(function(b,t,p,e){var o=this&&this.__extends||function(){var t=function(g,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])})(g,b)};return function(g,b){function a(){this.constructor=g}t(g,b),g.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),r=t.getOptions,n=e.merge,l=e.pick;return b=function(b){function g(){return null!==b&&b.apply(this,arguments)||this}return o(g,b),g.prototype.init=function(g,a){var t=r().credits;g=n({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:l(t.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:l(t.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},g),b.prototype.init.call(this,g,a)},g}(b),function(t){t.maps={},t.mapChart=function(g,b,a){return new t(g,b,a)},t.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map((function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)}))),p.prototype.pathToSegments(t)}}(b||(b={})),b})),t(b,"Maps/MapUtilities.js",[],(function(){return{boundsFromPath:function(b){var t,e=-Number.MAX_VALUE,p=Number.MAX_VALUE,o=-Number.MAX_VALUE,r=Number.MAX_VALUE;if(b.forEach((function(b){var n=b[b.length-2];b=b[b.length-1],"number"==typeof n&&"number"==typeof b&&(p=Math.min(p,n),e=Math.max(e,n),r=Math.min(r,b),o=Math.max(o,b),t=!0)})),t)return{x1:p,y1:r,x2:e,y2:o}},pointInPolygon:function(b,t){var p,e=!1,o=b.x,r=b.y;for(b=0,p=t.length-1;b<t.length;p=b++)t[b][1]>r!=t[p][1]>r&&o<(t[p][0]-t[b][0])*(r-t[b][1])/(t[p][1]-t[b][1])+t[b][0]&&(e=!e);return e}}})),t(b,"Series/Map/MapPoint.js",[b["Series/ColorMapComposition.js"],b["Maps/MapUtilities.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p,e){var o=this&&this.__extends||function(){var t=function(b,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},t(b,a)};return function(b,a){function e(){this.constructor=b}t(b,a),b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),r=t.boundsFromPath,n=e.extend,l=e.isNumber,q=e.pick;return t=function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;return a.options=void 0,a.path=void 0,a.series=void 0,a}return o(g,b),g.getProjectedPath=function(a,t){return a.projectedPath||(t&&a.geometry?(t.hasCoordinates=!0,a.projectedPath=t.path(a.geometry)):a.projectedPath=a.path),a.projectedPath||[]},g.prototype.applyOptions=function(a,t){var e=this.series;return a=b.prototype.applyOptions.call(this,a,t),t=e.joinBy,e.mapData&&e.mapMap&&((t=void 0!==(t=b.prototype.getNestedProperty.call(a,t[1]))&&e.mapMap[t])?n(a,t):-1!==e.pointArrayMap.indexOf("value")&&(a.value=a.value||null)),a},g.prototype.getProjectedBounds=function(a){a=g.getProjectedPath(this,a),a=r(a);var t=this.properties;if(a){var e=t&&t["hc-middle-x"];return t=t&&t["hc-middle-y"],a.midX=a.x1+(a.x2-a.x1)*q(this.middleX,l(e)?e:.5),e=q(this.middleY,l(t)?t:.5),this.geometry||(e=1-e),a.midY=a.y2-(a.y2-a.y1)*e,a}},g.prototype.onMouseOver=function(a){e.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?b.prototype.onMouseOver.call(this,a):this.series.onMouseOut(a)},g.prototype.setVisible=function(a){var t=a?"show":"hide";this.visible=this.options.visible=!!a,this.dataLabel&&this.dataLabel[t](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))},g.prototype.zoomTo=function(){var a=this.series.chart,t=a.mapView,e=this.bounds;if(t&&e){var o=l(this.insetIndex)&&t.insets[this.insetIndex];if(o){var b=o.projectedUnitsToPixels({x:e.x1,y:e.y1});e=o.projectedUnitsToPixels({x:e.x2,y:e.y2}),b=t.pixelsToProjectedUnits({x:b.x,y:b.y}),e=t.pixelsToProjectedUnits({x:e.x,y:e.y}),e={x1:b.x,y1:b.y,x2:e.x,y2:e.y}}t.fitToBounds(e,void 0,!1),this.series.isDirty=!0,a.redraw()}},g}(p.seriesTypes.scatter.prototype.pointClass),n(t.prototype,{dataLabelOnNull:b.pointMembers.dataLabelOnNull,moveToTopOnHover:b.pointMembers.moveToTopOnHover,isValid:b.pointMembers.isValid}),t})),t(b,"Maps/MapViewOptionsDefault.js",[],(function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}})),t(b,"Maps/MapViewInsetsOptionsDefault.js",[],(function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}})),t(b,"Extensions/GeoJSON.js",[b["Core/Chart/Chart.js"],b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],(function(b,t,p,e){function o(a,t){if(t||(t=Object.keys(a.objects)[0]),(t=a.objects[t])["hc-decoded-geojson"])return t["hc-decoded-geojson"];var e=a.arcs;if(a.transform){var o=a.transform,b=o.scale,r=o.translate;e=a.arcs.map((function(a){var t=0,e=0;return a.map((function(a){return(a=a.slice())[0]=(t+=a[0])*b[0]+r[0],a[1]=(e+=a[1])*b[1]+r[1],a}))}))}var g=function(a){return"number"==typeof a[0]?a.reduce((function(a,t,o){var r=0>t?e[~t]:e[t];return 0>t?(r=r.slice(0,0===o?r.length:r.length-1)).reverse():o&&(r=r.slice(1)),a.concat(r)}),[]):a.map(g)};return o=t.geometries.map((function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||g(a.arcs)}}})),a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,copyrightUrl:a.copyrightUrl,features:o,"hc-recommended-mapview":t["hc-recommended-mapview"],bbox:a.bbox,title:a.title},t["hc-decoded-geojson"]=a}function r(a,t,e){void 0===t&&(t="map");var r=[];return(a="Topology"===a.type?o(a):a).features.forEach((function(a){var e,o=a.geometry||{},b=o.type;if(o=o.coordinates,a=a.properties,("map"!==t&&"mapbubble"!==t||"Polygon"!==b&&"MultiPolygon"!==b)&&("mapline"!==t||"LineString"!==b&&"MultiLineString"!==b)?"mappoint"===t&&"Point"===b&&o.length&&(e={geometry:{coordinates:o,type:b}}):o.length&&(e={geometry:{coordinates:o,type:b}}),e){b=a&&(a.name||a.NAME),o=a&&a.lon;var u=a&&a.lat;r.push(g(e,{lat:"number"==typeof u?u:void 0,lon:"number"==typeof o?o:void 0,name:"string"==typeof b?b:void 0,properties:a}))}})),e&&a.copyrightShort&&(e.chart.mapCredits=n(e.chart.options.credits.mapText,{geojson:a}),e.chart.mapCreditsFull=n(e.chart.options.credits.mapTextFull,{geojson:a})),r}var n=t.format,l=p.win,q=e.error,g=e.extend,h=e.merge;return t=e.wrap,b.prototype.transformFromLatLon=function(a,t){var e=this.options.chart.proj4||l.proj4;if(e){var o=t.jsonmarginX;o=void 0===o?0:o;var b=t.jsonmarginY;b=void 0===b?0:b;var r=t.jsonres;r=void 0===r?1:r;var g=t.scale;g=void 0===g?1:g;var n=t.xoffset;n=void 0===n?0:n;var h=t.xpan;h=void 0===h?0:h;var c=t.yoffset;c=void 0===c?0:c;var d=t.ypan;d=void 0===d?0:d,a=e(t.crs,[a.lon,a.lat]),e=t.cosAngle||t.rotation&&Math.cos(t.rotation);var f=t.sinAngle||t.rotation&&Math.sin(t.rotation);return{x:(((t=t.rotation?[a[0]*e+a[1]*f,-a[0]*f+a[1]*e]:a)[0]-n)*g+h)*r+o,y:-(((c-t[1])*g+d)*r-b)}}q(21,!1,this)},b.prototype.transformToLatLon=function(a,t){var e=this.options.chart.proj4||l.proj4;if(e){if(null!==a.y){var o=t.jsonmarginX,b=t.jsonmarginY,g=t.jsonres;g=void 0===g?1:g;var r=t.scale;r=void 0===r?1:r;var n=t.xoffset,h=t.xpan,c=t.yoffset,d=t.ypan;return a={x:((a.x-(void 0===o?0:o))/g-(void 0===h?0:h))/r+(void 0===n?0:n),y:((a.y-(void 0===b?0:b))/g+(void 0===d?0:d))/r+(void 0===c?0:c)},o=t.cosAngle||t.rotation&&Math.cos(t.rotation),b=t.sinAngle||t.rotation&&Math.sin(t.rotation),{lat:(t=e(t.crs,"WGS84",t.rotation?{x:a.x*o+a.y*-b,y:a.x*b+a.y*o}:a)).y,lon:t.x}}}else q(21,!1,this)},b.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)},b.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)},t(b.prototype,"addCredits",(function(a,t){t=h(!0,this.options.credits,t),this.mapCredits&&(t.href=null),a.call(this,t),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})),p.geojson=r,{geojson:r,topo2geo:o}})),t(b,"Core/Geometry/PolygonClip.js",[],(function(){var p,t,b=function(b,t,e){return(t[0]-b[0])*(e[1]-b[1])>(t[1]-b[1])*(e[0]-b[0])},e=function(b,t,e,o){var r=[b[0]-t[0],b[1]-t[1]],q=[e[0]-o[0],e[1]-o[1]];return b=b[0]*t[1]-b[1]*t[0],e=e[0]*o[1]-e[1]*o[0],o=1/(r[0]*q[1]-r[1]*q[0]),(r=[(b*q[0]-e*r[0])*o,(b*q[1]-e*r[1])*o]).isIntersection=!0,r};return(t=p||(p={})).clipLineString=function(b,e){var o=[];for(b=t.clipPolygon(b,e,!1),e=1;e<b.length;e++)b[e].isIntersection&&b[e-1].isIntersection&&(o.push(b.splice(0,e)),e=0),e===b.length-1&&o.push(b);return o},t.clipPolygon=function(t,o,r){void 0===r&&(r=!0);for(var q,g,n=o[o.length-1],p=t,a=0;a<o.length;a++){var l=p;t=o[a],p=[],q=r?l[l.length-1]:l[0];for(var h=0;h<l.length;h++)g=l[h],b(n,t,g)?(b(n,t,q)||p.push(e(n,t,q,g)),p.push(g)):b(n,t,q)&&p.push(e(n,t,q,g)),q=g;n=t}return p},p})),t(b,"Maps/Projections/LambertConformalConic.js",[],(function(){var b=Math.sign||function(b){return 0===b?0:0<b?1:-1},t=Math.PI/180,p=Math.PI/2;return function(){function e(e){var o,r=(e.parallels||[]).map((function(b){return b*t})),n=r[0]||0;r=null!==(o=r[1])&&void 0!==o?o:n,o=Math.cos(n),"object"==typeof e.projectedBounds&&(this.projectedBounds=e.projectedBounds),e=n===r?Math.sin(n):Math.log(o/Math.cos(r))/Math.log(Math.tan((p+r)/2)/Math.tan((p+n)/2)),1e-10>Math.abs(e)&&(e=1e-10*(b(e)||1)),this.n=e,this.c=o*Math.pow(Math.tan((p+n)/2),e)/e}return e.prototype.forward=function(b){var e=b[0]*t,o=this.c,r=this.n,q=this.projectedBounds;b=b[1]*t,0<o?b<1e-6-p&&(b=1e-6-p):b>p-1e-6&&(b=p-1e-6);var g=o/Math.pow(Math.tan((p+b)/2),r);return o=[b=g*Math.sin(r*e)*63.78137,e=63.78137*(o-g*Math.cos(r*e))],q&&(b<q.x1||b>q.x2||e<q.y1||e>q.y2)&&(o.outside=!0),o},e.prototype.inverse=function(e){var o=e[0]/63.78137,r=this.c,n=this.n;e=r-e[1]/63.78137;var q=b(n)*Math.sqrt(o*o+e*e),g=Math.atan2(o,Math.abs(e))*b(e);return 0>e*n&&(g-=Math.PI*b(o)*b(e)),[g/n/t,(2*Math.atan(Math.pow(r/q,1/n))-p)/t]},e}()})),t(b,"Maps/Projections/EqualEarth.js",[],(function(){var b=Math.sqrt(3)/2;return function(){function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return t.prototype.forward=function(t){var e=Math.PI/180,o=Math.asin(b*Math.sin(t[1]*e)),r=o*o,n=r*r*r;return[t[0]*e*Math.cos(o)*74.03120656864502/(b*(1.340264+3*-.081106*r+n*(7*893e-6+.034164*r))),74.03120656864502*o*(1.340264+-.081106*r+n*(893e-6+.003796*r))]},t.prototype.inverse=function(t){var e=t[0]/74.03120656864502;t=t[1]/74.03120656864502;var o,r=180/Math.PI,n=t;for(o=0;12>o;++o){var p=n*n,q=p*p*p,g=n*(1.340264+-.081106*p+q*(893e-6+.003796*p))-t;if(n-=g/=p=1.340264+3*-.081106*p+q*(7*893e-6+.034164*p),1e-9>Math.abs(g))break}return[r*b*e*(1.340264+3*-.081106*(p=n*n)+p*p*p*(7*893e-6+.034164*p))/Math.cos(n),r*Math.asin(Math.sin(n)/b)]},t}()})),t(b,"Maps/Projections/Miller.js",[],(function(){var b=Math.PI/4,t=Math.PI/180;return function(){function p(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return p.prototype.forward=function(e){return[e[0]*t*63.78137,79.7267125*Math.log(Math.tan(b+.4*e[1]*t))]},p.prototype.inverse=function(e){return[e[0]/63.78137/t,2.5*(Math.atan(Math.exp(e[1]/63.78137*.8))-b)/t]},p}()})),t(b,"Maps/Projections/Orthographic.js",[],(function(){var b=Math.PI/180;return function(){function t(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return t.prototype.forward=function(t){var e=t[0];return t=t[1]*b,t=[Math.cos(t)*Math.sin(e*b)*63.78460826781007,63.78460826781007*Math.sin(t)],(-90>e||90<e)&&(t.outside=!0),t},t.prototype.inverse=function(t){var e=t[0]/63.78460826781007;t=t[1]/63.78460826781007;var o=Math.sqrt(e*e+t*t),r=Math.asin(o),n=Math.sin(r);return[Math.atan2(e*n,o*Math.cos(r))/b,Math.asin(o&&t*n/o)/b]},t}()})),t(b,"Maps/Projections/WebMercator.js",[],(function(){var b=Math.PI/180;return function(){function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return t.prototype.forward=function(t){var e=Math.sin(t[1]*b);return e=[63.78137*t[0]*b,63.78137*Math.log((1+e)/(1-e))/2],85.0511287798<Math.abs(t[1])&&(e.outside=!0),e},t.prototype.inverse=function(t){return[t[0]/(63.78137*b),(2*Math.atan(Math.exp(t[1]/63.78137))-Math.PI/2)/b]},t}()})),t(b,"Maps/Projections/ProjectionRegistry.js",[b["Maps/Projections/LambertConformalConic.js"],b["Maps/Projections/EqualEarth.js"],b["Maps/Projections/Miller.js"],b["Maps/Projections/Orthographic.js"],b["Maps/Projections/WebMercator.js"]],(function(b,t,p,e,o){return{EqualEarth:t,LambertConformalConic:b,Miller:p,Orthographic:e,WebMercator:o}})),t(b,"Maps/Projection.js",[b["Core/Geometry/PolygonClip.js"],b["Maps/Projections/ProjectionRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p){var e=this&&this.__spreadArray||function(b,a,t){if(t||2===arguments.length)for(var g,e=0,o=a.length;e<o;e++)!g&&e in a||(g||(g=Array.prototype.slice.call(a,0,e)),g[e]=a[e]);return b.concat(g||Array.prototype.slice.call(a))},o=b.clipLineString,r=b.clipPolygon,n=p.clamp,l=p.erase,q=2*Math.PI/360,g=function(b){return-180>b&&(b+=360),180<b&&(b-=360),b};return function(){function b(a){void 0===a&&(a={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=a;var t=a.name,e=a.projectedBounds,o=a.rotation;this.rotator=o?this.getRotator(o):void 0,(t=t?b.registry[t]:void 0)&&(this.def=new t(a));var g=this.def,r=this.rotator;g&&(this.maxLatitude=g.maxLatitude||90,this.hasGeoProjection=!0),r&&g?(this.forward=function(a){return g.forward(r.forward(a))},this.inverse=function(a){return r.inverse(g.inverse(a))}):g?(this.forward=function(a){return g.forward(a)},this.inverse=function(a){return g.inverse(a)}):r&&(this.forward=r.forward,this.inverse=r.inverse),this.bounds="world"===e?g&&g.bounds:e}return b.add=function(a,t){b.registry[a]=t},b.greatCircle=function(a,b,t){var e=Math.atan2,o=Math.cos,g=Math.sin,r=Math.sqrt,n=a[1]*q,l=a[0]*q,h=b[1]*q,c=b[0]*q,d=h-n,f=c-l;d=2*e(r(d=g(d/2)*g(d/2)+o(n)*o(h)*g(f/2)*g(f/2)),r(1-d));var p=Math.round(6371e3*d/5e5);if(f=[],t&&f.push(a),1<p)for(p=a=1/p;.999>p;p+=a){var y=g((1-p)*d)/g(d),m=g(p*d)/g(d),v=y*o(n)*o(l)+m*o(h)*o(c),x=y*o(n)*g(l)+m*o(h)*g(c);y=e(y=y*g(n)+m*g(h),r(v*v+x*x)),v=e(x,v),f.push([v/q,y/q])}return t&&f.push(b),f},b.insertGreatCircles=function(a){for(var t=a.length-1;t--;)if(10<Math.max(Math.abs(a[t][0]-a[t+1][0]),Math.abs(a[t][1]-a[t+1][1]))){var o=b.greatCircle(a[t],a[t+1]);o.length&&a.splice.apply(a,e([t+1,0],o,!1))}},b.toString=function(a){var b=(a=a||{}).rotation;return[a.name,b&&b.join(",")].join(";")},b.prototype.lineIntersectsBounds=function(a){var b=this.bounds||{},t=b.x2,e=b.y1,g=b.y2,o=function(a,b,t){var e=a[0];a=a[1];var o=b?0:1;if("number"==typeof t&&e[b]>=t!=a[b]>=t)return e=e[o]+(t-e[b])/(a[b]-e[b])*(a[o]-e[o]),b?[e,t]:[t,e]},r=a[0];return((b=o(a,0,b.x1))||(b=o(a,0,t)))&&(r=b,a[1]=b),((b=o(a,1,e))||(b=o(a,1,g)))&&(r=b),r},b.prototype.getRotator=function(a){var b=a[0]*q,t=(a[1]||0)*q;a=(a[2]||0)*q;var e=Math.cos(t),g=Math.sin(t),o=Math.cos(a),r=Math.sin(a);if(0!==b||0!==t||0!==a)return{forward:function(a){var t=a[0]*q+b,n=a[1]*q,l=Math.cos(n);return a=Math.cos(t)*l,t=Math.sin(t)*l,l=(n=Math.sin(n))*e+a*g,[Math.atan2(t*o-l*r,a*e-n*g)/q,Math.asin(l*o+t*r)/q]},inverse:function(a){var t=a[0]*q,n=a[1]*q,l=Math.cos(n);return a=Math.cos(t)*l,t=Math.sin(t)*l,l=(n=Math.sin(n))*o-t*r,[(Math.atan2(t*o+n*r,a*e+l*g)-b)/q,Math.asin(l*e-a*g)/q]}}},b.prototype.forward=function(a){return a},b.prototype.inverse=function(a){return a},b.prototype.cutOnAntimeridian=function(a,t){var o=[],r=[a];if(a.forEach((function(b,e){var r=a[e-1];if(!e){if(!t)return;r=a[a.length-1]}var g=r[0],l=b[0];(-90>g||90<g)&&(-90>l||90<l)&&0<g!=0<l&&(l=n((180-(g+360)%360)/((l+360)%360-(g+360)%360),0,1),o.push({i:e,lat:r[1]+l*(b[1]-r[1]),direction:0>g?1:-1,previousLonLat:r,lonLat:b}))})),o.length)if(t){if(1==o.length%2){var h=o.slice().sort((function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)}))[0];l(o,h)}for(var c=o.length-2;0<=c;){var d=o[c].i,f=g(180+1e-6*o[c].direction),y=g(180-1e-6*o[c].direction);(d=a.splice.apply(a,e([d,o[c+1].i-d],b.greatCircle([f,o[c].lat],[f,o[c+1].lat],!0),!1))).push.apply(d,b.greatCircle([y,o[c+1].lat],[y,o[c].lat],!0)),r.push(d),c-=2}if(h)for(f=0;f<r.length;f++){c=h.direction;var m=h.lat;if(-1<(d=(y=r[f]).indexOf(h.lonLat))){f=(0>m?-1:1)*this.maxLatitude;var q=g(180+1e-6*c),v=g(180-1e-6*c);for(m=b.greatCircle([q,m],[q,f],!0),q+=120*c;-180<q&&180>q;q+=120*c)m.push([q,f]);m.push.apply(m,b.greatCircle([v,f],[v,h.lat],!0)),y.splice.apply(y,e([d,0],m,!1));break}}}else for(c=o.length;c--;)d=o[c].i,(d=a.splice(d,a.length,[g(180+1e-6*o[c].direction),o[c].lat])).unshift([g(180-1e-6*o[c].direction),o[c].lat]),r.push(d);return r},b.prototype.path=function(a){var t,e=this,n=this.bounds,g=this.def,l=this.rotator,h=[],c="Polygon"===a.type||"MultiPolygon"===a.type,d=this.hasGeoProjection,q=!g||!1!==g.antimeridianCutting,f=q?l:void 0,p=q&&g||this;n&&(t=[[n.x1,n.y1],[n.x2,n.y1],[n.x2,n.y2],[n.x1,n.y2]]);var y=function(a){a=a.map((function(a){if(q){f&&(a=f.forward(a));var b=a[0];1e-6>Math.abs(b-180)&&(b=180>b?179.999999:180.000001),a=[b,a[1]]}return a}));var g=[a];d&&(b.insertGreatCircles(a),q&&(g=e.cutOnAntimeridian(a,c))),g.forEach((function(a){if(!(2>a.length)){var e=!1,l=!1,g=function(a){e?h.push(["L",a[0],a[1]]):(h.push(["M",a[0],a[1]]),e=!0)},f=!1,y=!1,m=a.map((function(a){return(a=p.forward(a)).outside?f=!0:y=!0,1/0===a[1]?a[1]=1e10:-1/0===a[1]&&(a[1]=-1e10),a}));if(q){if(c&&m.push(m[0]),f){if(!y)return;if(t)if(c)m=r(m,t);else if(n)return void o(m,t).forEach((function(a){e=!1,a.forEach(g)}))}m.forEach(g)}else for(var u=0;u<m.length;u++){var v=a[u],x=m[u];if(x.outside)l=!0;else{if(c&&!M){var M=v;a.push(v),m.push(x)}l&&j&&(c&&d?b.greatCircle(j,v).forEach((function(a){return g(p.forward(a))})):e=!1),g(x);var j=v;l=!1}}}}))};return"LineString"===a.type?y(a.coordinates):"MultiLineString"===a.type?a.coordinates.forEach((function(a){return y(a)})):"Polygon"===a.type?(a.coordinates.forEach((function(a){return y(a)})),h.length&&h.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach((function(a){a.forEach((function(a){return y(a)}))})),h.length&&h.push(["Z"])),h},b.registry=t,b}()})),t(b,"Maps/MapView.js",[b["Maps/MapViewOptionsDefault.js"],b["Maps/MapViewInsetsOptionsDefault.js"],b["Extensions/GeoJSON.js"],b["Core/Chart/MapChart.js"],b["Maps/MapUtilities.js"],b["Maps/Projection.js"],b["Core/Utilities.js"]],(function(b,t,p,e,o,r,n){var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),q=this&&this.__spreadArray||function(a,b,t){if(t||2===arguments.length)for(var e,o=0,r=b.length;o<r;o++)!e&&o in b||(e||(e=Array.prototype.slice.call(b,0,o)),e[o]=b[o]);return a.concat(e||Array.prototype.slice.call(b))},g=p.topo2geo,h=e.maps,a=o.boundsFromPath,c=o.pointInPolygon,d=n.addEvent,u=n.clamp,f=n.fireEvent,y=n.isArray,m=n.isNumber,v=n.isObject,x=n.isString,M=n.merge,j=n.pick,C=n.relativeLength,w=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},P=function(){function a(t,g){var e,o=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof S)){var n=q([t.options.chart.map],(t.options.series||[]).map((function(a){return a.mapData})),!0).map((function(a){return o.getGeoMap(a)})),l=[];n.forEach((function(a){a&&(e||(e=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,l.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))}));var h=l.length&&a.compositeBounds(l);if(h){var c=h.x1,u=h.y1,f=h.x2;h=h.y2,c=180<f-c&&90<h-u?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[u,h],rotation:[-(c+f)/2]}}this.geoMap=n[0]}this.userOptions=g||{},n=M(b,{projection:c},e,g),h=e&&e.insets,g=g&&g.insets,h&&g&&(n.insets=a.mergeInsets(h,g)),this.chart=t,this.center=n.center,this.options=n,this.projection=new r(n.projection),this.playingField=t.plotBox,this.zoom=n.zoom||0,this.createInsets(),this.eventsToUnbind.push(d(t,"afterSetChartSize",(function(){o.playingField=o.getField(),void 0!==o.minZoom&&o.minZoom!==o.zoom||(o.fitToBounds(void 0,void 0,!1),!o.chart.hasRendered&&m(o.userOptions.zoom)&&(o.zoom=o.userOptions.zoom),o.userOptions.center&&M(!0,o.center,o.userOptions.center))}))),this.setUpEvents()}return a.mergeInsets=function(a,b){var t=function(a){var b={};return a.forEach((function(a,t){b[a&&a.id||"i".concat(t)]=a})),b},e=M(t(a),t(b));return Object.keys(e).map((function(a){return e[a]}))},a.prototype.createInsets=function(){var a=this,b=this.options,t=b.insets;t&&t.forEach((function(t){t=new S(a,M(b.insetOptions,t)),a.insets.push(t)}))},a.prototype.fitToBounds=function(a,b,t,e){void 0===t&&(t=!0);var o=a||this.getProjectedBounds();if(o){var r=j(b,a?0:this.options.padding);b=this.getField(!1),r=y(r)?r:[r,r,r,r],this.padding=[C(r[0],b.height),C(r[1],b.width),C(r[2],b.height),C(r[3],b.width)],this.playingField=this.getField(),b=w(o,this.playingField),a||(this.minZoom=b),a=this.projection.inverse([(o.x2+o.x1)/2,(o.y2+o.y1)/2]),this.setView(a,b,t,e)}},a.prototype.getField=function(a){return void 0===a&&(a=!0),{x:(a=a?this.padding:[0,0,0,0])[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}},a.prototype.getGeoMap=function(a){if(x(a))return h[a];if(v(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return g(a)}},a.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var t=this.padding,e=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+t[1]+t[3],height:(a.y2-a.y1)*b+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}}},a.prototype.getProjectedBounds=function(){var b=this.chart.series.reduce((function(a,b){var t=b.getProjectedBounds&&b.getProjectedBounds();return t&&!1!==b.options.affectsMapView&&a.push(t),a}),[]);return this.projection.bounds||a.compositeBounds(b)},a.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},a.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,t=a.y,e=a.width;a=a.height;var o=this.projection.forward(this.center),r=this.projection.hasCoordinates?-1:1,g=this.getScale();return{scaleX:g,scaleY:r*=g,translateX:b+e/2-o[0]*g,translateY:t+a/2-o[1]*r}},a.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)},a.prototype.lonLatToProjectedUnits=function(a){var b=this.chart,t=b.mapTransforms;if(t){for(var e in t)if(Object.hasOwnProperty.call(t,e)&&t[e].hitZone){var o=b.transformFromLatLon(a,t[e]);if(o&&c(o,t[e].hitZone.coordinates[0]))return o}return b.transformFromLatLon(a,t.default)}for(t=0,e=this.insets;t<e.length;t++)if((b=e[t]).options.geoBounds&&c({x:a.lon,y:a.lat},b.options.geoBounds.coordinates[0]))return a=b.projection.forward([a.lon,a.lat]),a=b.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);if(!(a=this.projection.forward([a.lon,a.lat])).outside)return{x:a[0],y:a[1]}},a.prototype.projectedUnitsToLonLat=function(a){var b=this.chart,t=b.mapTransforms;if(t){for(var e in t)if(Object.hasOwnProperty.call(t,e)&&t[e].hitZone&&c(a,t[e].hitZone.coordinates[0]))return b.transformToLatLon(a,t[e]);return b.transformToLatLon(a,t.default)}t=this.projectedUnitsToPixels(a),e=0;for(var o=this.insets;e<o.length;e++)if((b=o[e]).hitZone&&c(t,b.hitZone.coordinates[0]))return a=b.pixelsToProjectedUnits(t),{lon:(a=b.projection.inverse([a.x,a.y]))[0],lat:a[1]};return{lon:(a=this.projection.inverse([a.x,a.y]))[0],lat:a[1]}},a.prototype.redraw=function(a){this.chart.series.forEach((function(a){a.useMapGeometry&&(a.isDirty=!0)})),this.chart.redraw(a)},a.prototype.setView=function(a,b,t,e){void 0===t&&(t=!0),a&&(this.center=a),"number"==typeof b&&("number"==typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"==typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),m(b)&&(this.zoom=b));var o=this.getProjectedBounds();if(o){a=this.projection.forward(this.center);var r=this.playingField;b=r.x;var g=r.y,n=r.width;r=r.height;var l=this.getScale(),h=this.projectedUnitsToPixels({x:o.x1,y:o.y1}),c=this.projectedUnitsToPixels({x:o.x2,y:o.y2});o=[(o.x1+o.x2)/2,(o.y1+o.y2)/2];var u=h.x,d=c.y;c=c.x,h=h.y,c-u<n?a[0]=o[0]:u<b&&c<b+n?a[0]+=Math.max(u-b,c-n-b)/l:c>b+n&&u>b&&(a[0]+=Math.min(c-n-b,u-b)/l),h-d<r?a[1]=o[1]:d<g&&h<g+r?a[1]-=Math.max(d-g,h-r-g)/l:h>g+r&&d>g&&(a[1]-=Math.min(h-r-g,d-g)/l),this.center=this.projection.inverse(a),this.insets.forEach((function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())})),this.render()}f(this,"afterSetView"),t&&this.redraw(e)},a.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),t=this.projection.forward(this.center),e=this.playingField;return{x:e.x+e.width/2-b*(t[0]-a.x),y:e.y+e.height/2+b*(t[1]-a.y)}},a.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))},a.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var t=this.getScale(),e=this.projection.forward(this.center),o=this.playingField;return{x:e[0]+(b-(o.x+o.width/2))/t,y:e[1]-(a-(o.y+o.height/2))/t}},a.prototype.setUpEvents=function(){var t,e,o,a=this,b=this.chart,g=function(r){var g=b.pointer.pinchDown,n=a.projection,l=b.mouseDownX,h=b.mouseDownY;if(1===g.length&&(l=g[0].chartX,h=g[0].chartY),"number"==typeof l&&"number"==typeof h){var c=""+l+",".concat(h),d=r.originalEvent;g=d.chartX,d=d.chartY,c!==e&&(e=c,t=a.projection.forward(a.center),o=(a.projection.options.rotation||[0,0]).slice()),c=(c=n.def&&n.def.bounds)&&w(c,a.playingField)||-1/0,"Orthographic"===n.options.name&&(a.minZoom||1/0)<1.1*c?(n=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),o&&(l=(l-g)*n-o[0],h=u(-o[1]-(h-d)*n,-80,80),g=a.zoom,a.update({projection:{rotation:[-l,-h]}},!1),a.zoom=g,b.redraw(!1))):(n=a.getScale(),h=a.projection.inverse([t[0]+(l-g)/n,t[1]-(h-d)/n]),a.setView(h,void 0,!0,!1)),r.preventDefault()}};d(b,"pan",g),d(b,"touchpan",g),d(b,"selection",(function(t){if(t.resetSelection)a.zoomBy();else{var e=t.x-b.plotLeft,o=t.y-b.plotTop,r=a.pixelsToProjectedUnits({x:e,y:o}),g=r.y;r=r.x,e=a.pixelsToProjectedUnits({x:e+t.width,y:o+t.height}),a.fitToBounds({x1:r,y1:g,x2:e.x,y2:e.y},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||b.showResetZoom(),t.preventDefault()}}))},a.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},a.prototype.update=function(a,b,t){void 0===b&&(b=!0);var e=a.projection;e=e&&r.toString(e)!==r.toString(this.options.projection);var g=!1;M(!0,this.userOptions,a),M(!0,this.options,a),"insets"in a&&(this.insets.forEach((function(a){return a.destroy()})),this.insets.length=0,g=!0),(e||g)&&(this.chart.series.forEach((function(a){var b=a.transformGroups;if(a.clearBounds&&a.clearBounds(),a.isDirty=!0,a.isDirtyData=!0,g&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()})),e&&(this.projection=new r(this.options.projection)),g&&this.createInsets(),a.center||m(a.zoom)||this.fitToBounds(void 0,void 0,!1)),(a.center||m(a.zoom))&&this.setView(this.options.center,a.zoom,!1),b&&this.chart.redraw(t)},a.prototype.zoomBy=function(a,b,t,e){var o=this.chart,r=this.projection.forward(this.center),g=(b=b?this.projection.forward(b):[])[0],n=b[1];"number"==typeof a?(a=this.zoom+a,b=void 0,t&&(g=t[0],n=t[1],t=this.getScale(),g=g-o.plotLeft-o.plotWidth/2,o=n-o.plotTop-o.plotHeight/2,g=r[0]+g/t,n=r[1]+o/t),"number"==typeof g&&"number"==typeof n&&(t=1-Math.pow(2,this.zoom)/Math.pow(2,a),g=r[0]-g,o=r[1]-n,r[0]-=g*t,r[1]+=o*t,b=this.projection.inverse(r)),this.setView(b,a,void 0,e)):this.fitToBounds(void 0,void 0,void 0,e)},a.compositeBounds=function(a){if(a.length)return a.slice(1).reduce((function(a,b){return a.x1=Math.min(a.x1,b.x1),a.y1=Math.min(a.y1,b.y1),a.x2=Math.max(a.x2,b.x2),a.y2=Math.max(a.y2,b.y2),a}),M(a[0]))},a}(),S=function(b){function e(e,o){var r=b.call(this,e.chart,o)||this;return r.id=o.id,r.mapView=e,r.options=M(t,o),r.allBounds=[],r.options.geoBounds&&(e=e.projection.path(r.options.geoBounds),r.geoBoundsProjectedBox=a(e),r.geoBoundsProjectedPolygon=e.map((function(a){return[a[1]||0,a[2]||0]}))),r}return l(e,b),e.prototype.getField=function(a){void 0===a&&(a=!0);var t=this.hitZone;if(t){var e=a?this.padding:[0,0,0,0],o=(t=t.coordinates[0]).map((function(a){return a[0]})),r=t.map((function(a){return a[1]}));t=Math.min.apply(0,o)+e[3],o=Math.max.apply(0,o)-e[1];var g=Math.min.apply(0,r)+e[0];if(e=Math.max.apply(0,r)-e[2],m(t)&&m(g))return{x:t,y:g,width:o-t,height:e-g}}return b.prototype.getField.call(this,a)},e.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,t=this.options,e=(t.field||{}).coordinates;if(e){if(e=e[0],"percent"===t.units){var o="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||M(a.plotBox,{x:0,y:0});e=e.map((function(a){return[C(a[0]+"%",o.width,o.x),C(a[1]+"%",o.height,o.y)]}))}return{type:"Polygon",coordinates:[e]}}},e.prototype.getProjectedBounds=function(){return P.compositeBounds(this.allBounds)},e.prototype.isInside=function(a){var b=this.geoBoundsProjectedBox,t=this.geoBoundsProjectedPolygon;return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&t&&c(a,t))},e.prototype.render=function(){var a=this.chart,b=this.mapView,t=this.options,e=t.borderPath||t.field;if(e&&b.group){var o=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),o=!1),a.styledMode||this.border.attr({stroke:t.borderColor,"stroke-width":t.borderWidth});var r=Math.round(this.border.strokeWidth())%2/2,g="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||[]).reduce((function(b,e){return e.reduce((function(b,e,o){var n=e[0];return e=e[1],"percent"===t.units&&(n=a.plotLeft+C(n+"%",g.width,g.x),e=a.plotTop+C(e+"%",g.height,g.y)),n=Math.floor(n)+r,e=Math.floor(e)+r,b.push(0===o?["M",n,e]:["L",n,e]),b}),b)}),[]),this.border[o?"animate":"attr"]({d:b})}},e.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach((function(a){return a()}))},e.prototype.setUpEvents=function(){},e}(P);return d(e,"afterInit",(function(){this.mapView=new P(this,this.options.mapView)})),P})),t(b,"Series/Map/MapSeries.js",[b["Core/Animation/AnimationUtilities.js"],b["Series/ColorMapComposition.js"],b["Series/CenteredUtilities.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Chart/MapChart.js"],b["Series/Map/MapPoint.js"],b["Maps/MapView.js"],b["Core/Series/Series.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],(function(b,t,p,e,o,r,n,l,q,g,h,a){var c=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),d=b.animObject;b=e.noop;var u=r.splitPath,f=(r=g.seriesTypes).column,y=r.scatter;r=a.extend;var m=a.find,v=a.fireEvent,x=a.getNestedProperty,M=a.isArray,j=a.defined,C=a.isNumber,w=a.isObject,P=a.merge,S=a.objectEach,L=a.pick,A=a.splat;return a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.chart=void 0,b.data=void 0,b.group=void 0,b.joinBy=void 0,b.options=void 0,b.points=void 0,b.processedData=[],b}return c(b,a),b.prototype.animate=function(a){var b=this.chart,t=this.group,e=d(this.options.animation);b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},e))},b.prototype.animateDrilldown=function(a){var b=this.chart,t=this.group;b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))},b.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},b.prototype.animateDrillupTo=function(a){f.prototype.animateDrillupTo.call(this,a)},b.prototype.clearBounds=function(){this.points.forEach((function(a){delete a.bounds,delete a.insetIndex,delete a.projectedPath})),delete this.bounds},b.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},b.prototype.drawMapDataLabels=function(){q.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},b.prototype.drawPoints=function(){var a=this,b=this,t=this.chart,e=this.group,o=this.transformGroups,r=void 0===o?[]:o,g=t.mapView,n=t.renderer;g&&(this.transformGroups=r,r[0]||(r[0]=n.g().add(e)),g.insets.forEach((function(a,b){r[b+1]||r.push(n.g().add(e))})),this.doFullTranslate()&&(this.points.forEach((function(b){var e=b.graphic,o=b.shapeArgs;b.group=r["number"==typeof b.insetIndex?b.insetIndex+1:0],e&&e.parentGroup!==b.group&&e.add(b.group),o&&t.hasRendered&&!t.styledMode&&(o.fill=a.pointAttribs(b,b.state).fill)})),f.prototype.drawPoints.apply(this),this.points.forEach((function(e){var o=e.graphic;if(o){var r=o.animate,g="";e.name&&(g+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase()),e.properties&&e.properties["hc-key"]&&(g+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase()),g&&o.addClass(g),t.styledMode&&o.css(a.pointAttribs(e,e.selected?"select":void 0)),o.animate=function(a,e,g){var n=!1;if(a["stroke-width"]){var l=L(b.getStrokeWidth(b.options),1)/(t.mapView&&t.mapView.getScale()||1);"inherit"===o["stroke-width"]&&(o["stroke-width"]=l),"inherit"===a["stroke-width"]&&(a["stroke-width"]=l,n=!0)}return r.call(o,a,e,n?function(){o.attr({"stroke-width":"inherit"}),g&&g.apply(this,arguments)}:g)}}}))),r.forEach((function(b,e){var o=(0===e?g:g.insets[e-1]).getSVGTransform(),r=L(a.getStrokeWidth(a.options),1),l=o.scaleX,h=0<o.scaleY?1:-1;if(n.globalAnimation&&t.hasRendered){var c=Number(b.attr("translateX")),d=Number(b.attr("translateY")),u=Number(b.attr("scaleX"));b.attr({animator:0}).animate({animator:1},{step:function(a,t){a=u+(l-u)*t.pos,b.attr({translateX:c+(o.translateX-c)*t.pos,translateY:d+(o.translateY-d)*t.pos,scaleX:a,scaleY:a*h}),b.element.setAttribute("stroke-width",r/a)}})}else b.attr(o),b.element.setAttribute("stroke-width",r/l)})),this.drawMapDataLabels())},b.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,t=a.projection,e=[];(this.points||[]).forEach((function(a){if(a.path||a.geometry){if("string"==typeof a.path?a.path=u(a.path):M(a.path)&&"M"===a.path[0]&&(a.path=h.prototype.pathToSegments(a.path)),!a.bounds){var o=a.getProjectedBounds(t);if(o){a.labelrank=L(a.labelrank,(o.x2-o.x1)*(o.y2-o.y1));var g=o.midX,r=o.midY;if(b&&C(g)&&C(r)){var n=m(b,(function(a){return a.isInside({x:g,y:r})}));n&&(delete a.projectedPath,(o=a.getProjectedBounds(n.projection))&&n.allBounds.push(o),a.insetIndex=b.indexOf(n))}a.bounds=o}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}})),this.bounds=l.compositeBounds(e)}return this.bounds},b.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]},b.prototype.hasData=function(){return!!this.processedXData.length},b.prototype.pointAttribs=function(a,b){var t=a.series.chart,e=t.mapView;t=t.styledMode?this.colorAttribs(a):f.prototype.pointAttribs.call(this,a,b);var o=this.getStrokeWidth(a.options);return b&&(b=P(this.options.states[b],a.options.states&&a.options.states[b]||{}),o=this.getStrokeWidth(b)),o&&e&&(o/=e.getScale()),b=this.getStrokeWidth(this.options),t.dashstyle&&e&&C(b)&&(o=b/e.getScale()),a.visible||(t.fill=this.options.nullColor),j(o)?t["stroke-width"]=o:delete t["stroke-width"],t},b.prototype.updateData=function(){return!this.processedData&&a.prototype.updateData.apply(this,arguments)},b.prototype.setData=function(b,t,e,o){void 0===t&&(t=!0),delete this.bounds,a.prototype.setData.call(this,b,!1,void 0,o),this.processData(),this.generatePoints(),t&&this.chart.redraw(e)},b.prototype.processData=function(){var a=this.options,b=a.data,t=this.chart.options.chart,o=this.joinBy,r=a.keys||this.pointArrayMap,g=[],l={},h=this.chart.mapView;h=h&&(w(a.mapData,!0)?h.getGeoMap(a.mapData):h.geoMap);var c=this.chart.mapTransforms;if((this.chart.mapTransforms=c=t.mapTransforms||h&&h["hc-transform"]||c)&&S(c,(function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))})),M(a.mapData))var u=a.mapData;else h&&"FeatureCollection"===h.type&&(this.mapTitle=h.title,u=e.geojson(h,this.type,this));var d=this.processedData=[];if(b&&b.forEach((function(t,g){var e=0;if(C(t))d[g]={value:t};else if(M(t)){d[g]={},!a.keys&&t.length>r.length&&"string"==typeof t[0]&&(d[g]["hc-key"]=t[0],++e);for(var l=0;l<r.length;++l,++e)r[l]&&void 0!==t[e]&&(0<r[l].indexOf(".")?n.prototype.setNestedProperty(d[g],t[e],r[l]):d[g][r[l]]=t[e])}else d[g]=b[g];o&&"_i"===o[0]&&(d[g]._i=g)})),u){for(this.mapData=u,this.mapMap={},c=0;c<u.length;c++)h=(t=u[c]).properties,t._i=c,o[0]&&h&&h[o[0]]&&(t[o[0]]=h[o[0]]),l[t[o[0]]]=t;if(this.mapMap=l,o[1]){var q=o[1];d.forEach((function(a){a=x(q,a),l[a]&&g.push(l[a])}))}if(a.allAreas){if(o[1]){var f=o[1];d.forEach((function(a){g.push(x(f,a))}))}var p="|"+g.map((function(a){return a&&a[o[0]]})).join("|")+"|";u.forEach((function(a){o[0]&&-1!==p.indexOf("|"+a[o[0]]+"|")||d.push(P(a,{value:null}))}))}}this.processedXData=Array(d.length)},b.prototype.setOptions=function(a){var b=(a=q.prototype.setOptions.call(this,a)).joinBy;return null===b&&(b="_i"),(b=this.joinBy=A(b))[1]||(b[1]=b[0]),a},b.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,t=b&&b.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||C(b.userOptions.zoom)?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1)),b){var e=b.getSVGTransform();this.points.forEach((function(o){var r=C(o.insetIndex)&&b.insets[o.insetIndex].getSVGTransform()||e;r&&o.bounds&&C(o.bounds.midX)&&C(o.bounds.midY)&&(o.plotX=o.bounds.midX*r.scaleX+r.translateX,o.plotY=o.bounds.midY*r.scaleY+r.translateY),a&&(o.shapeType="path",o.shapeArgs={d:n.getProjectedPath(o,t)})}))}v(this,"afterTranslate")},b.defaultOptions=P(y.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return C(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"}}}),b}(y),r(a.prototype,{type:"map",axisTypes:t.seriesMembers.axisTypes,colorAttribs:t.seriesMembers.colorAttribs,colorKey:t.seriesMembers.colorKey,directTouch:!0,drawDataLabels:b,drawGraph:b,drawLegendSymbol:o.drawRectangle,forceDL:!0,getCenter:p.getCenter,getExtremesFromAll:!0,getSymbol:b,isCartesian:!1,parallelArrays:t.seriesMembers.parallelArrays,pointArrayMap:t.seriesMembers.pointArrayMap,pointClass:n,preserveAspectRatio:!0,searchPoint:b,trackerGroups:t.seriesMembers.trackerGroups,useMapGeometry:!0}),t.compose(a),g.registerSeriesType("map",a),a})),t(b,"Series/MapLine/MapLineSeries.js",[b["Series/Map/MapSeries.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p){var e=this&&this.__extends||function(){var b=function(t,g){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var t in a)a.hasOwnProperty(t)&&(b[t]=a[t])})(t,g)};return function(t,g){function e(){this.constructor=t}b(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),o=t.series,r=p.extend,n=p.merge;return p=function(t){function o(){var b=null!==t&&t.apply(this,arguments)||this;return b.data=void 0,b.options=void 0,b.points=void 0,b}return e(o,t),o.prototype.pointAttribs=function(t,e){return(t=b.prototype.pointAttribs.call(this,t,e)).fill=this.options.fillColor,t},o.defaultOptions=n(b.defaultOptions,{lineWidth:1,fillColor:"none"}),o}(b),r(p.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:o.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),t.registerSeriesType("mapline",p),p})),t(b,"Series/MapPoint/MapPointPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t){var p=this&&this.__extends||function(){var b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var g in t)t.hasOwnProperty(g)&&(b[g]=t[g])},b(t,e)};return function(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),e=t.isNumber;return function(b){function t(){var t=null!==b&&b.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return p(t,b),t.prototype.isValid=function(){return!!(this.options.geometry||e(this.x)&&e(this.y)||e(this.options.lon)&&e(this.options.lat))},t}(b.seriesTypes.scatter.prototype.pointClass)})),t(b,"Series/MapPoint/MapPointSeries.js",[b["Core/Globals.js"],b["Series/MapPoint/MapPointPoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p,e){var a,o=this&&this.__extends||(a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)},function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)});b=b.noop;var r=p.seriesTypes,n=r.map,l=r.scatter;r=e.extend;var q=e.fireEvent,g=e.isNumber,h=e.merge;return e=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.chart=void 0,b.data=void 0,b.options=void 0,b.points=void 0,b.clearBounds=n.prototype.clearBounds,b}return o(b,a),b.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},b.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var t=a.geometry,e=a.lon;if(a=a.lat,t=t&&"Point"===t.type&&t.coordinates,g(e)&&g(a)&&(t=[e,a]),t)return b.lonLatToProjectedUnits({lon:t[0],lat:t[1]})}},b.prototype.translate=function(){var a=this,b=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),b){var t=b.getSVGTransform(),e=b.projection.hasCoordinates;this.points.forEach((function(o){var r=o.x;r=void 0===r?void 0:r;var n=o.y;n=void 0===n?void 0:n;var l=g(o.insetIndex)&&b.insets[o.insetIndex].getSVGTransform()||t,h=a.projectPoint(o.options)||o.properties&&a.projectPoint(o.properties);if(h)r=h.x,n=h.y;else if(o.bounds&&(r=o.bounds.midX,n=o.bounds.midY,l&&g(r)&&g(n))){o.plotX=r*l.scaleX+l.translateX,o.plotY=n*l.scaleY+l.translateY;var c=!0}g(r)&&g(n)?c||(c=b.projectedUnitsToPixels({x:r,y:n}),o.plotX=c.x,o.plotY=e?c.y:a.chart.plotHeight-c.y):o.y=o.plotX=o.plotY=void 0,o.isInside=a.isPointInside(o),o.zone=a.zones.length?o.getZone():void 0}))}q(this,"afterTranslate")},b.defaultOptions=h(l.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),b}(l),r(e.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:t,searchPoint:b,useMapGeometry:!0}),p.registerSeriesType("mappoint",e),e})),t(b,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),t(b,"Series/Bubble/BubbleLegendItem.js",[b["Core/Color/Color.js"],b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],(function(b,t,p,e){var o=b.parse,r=p.noop,n=e.arrayMax,l=e.arrayMin,q=e.isNumber,g=e.merge,h=e.pick,a=e.stableSort;return b=function(){function b(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0,this.setState=r,this.init(a,b)}return b.prototype.init=function(a,b){this.options=a,this.visible=!0,this.chart=b.chart,this.legend=b},b.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)},b.prototype.drawLegendSymbol=function(b){var t=this.chart,e=h(b.options.itemDistance,20),o=this.legendItem||{},g=this.options,r=g.ranges,n=g.connectorDistance;this.fontMetrics=t.renderer.fontMetrics(g.labels.style.fontSize),r&&r.length&&q(r[0].value)?(a(r,(function(a,b){return b.value-a.value})),this.ranges=r,this.setOptions(),this.render(),b=this.getMaxLabelSize(),t=2*(r=this.ranges[0].radius),n=0<(n=n-r+b.width)?n:0,this.maxLabel=b,this.movementX="left"===g.labels.align?n:0,o.labelWidth=t+n+e,o.labelHeight=t+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0},b.prototype.setOptions=function(){var a=this.ranges,b=this.options,t=this.chart.series[b.seriesIndex],e=this.legend.baseline,r={zIndex:b.zIndex,"stroke-width":b.borderWidth},n={zIndex:b.zIndex,"stroke-width":b.connectorWidth},l={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},c=t.options.marker.fillOpacity,q=this.chart.styledMode;a.forEach((function(d,f){q||(r.stroke=h(d.borderColor,b.borderColor,t.color),r.fill=h(d.color,b.color,1!==c?o(t.color).setOpacity(c).get("rgba"):t.color),n.stroke=h(d.connectorColor,b.connectorColor,t.color)),a[f].radius=this.getRangeRadius(d.value),a[f]=g(a[f],{center:a[0].radius-a[f].radius+e}),q||g(!0,a[f],{bubbleAttribs:g(r),connectorAttribs:g(n),labelAttribs:l})}),this)},b.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)},b.prototype.render=function(){var a=this.legendItem||{},b=this.chart.renderer,t=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),a.symbol=b.g("bubble-legend"),a.label=b.g("bubble-legend-item"),a.symbol.translateX=0,b=a.symbol.translateY=0;for(var e=this.ranges;b<e.length;b++){var g=e[b];g.value>=t&&this.renderRange(g)}a.symbol.add(a.label),a.label.add(a.group),this.hideOverlappingLabels()},b.prototype.renderRange=function(a){var b=this.options,t=b.labels,e=this.chart,o=e.series[b.seriesIndex],g=e.renderer,r=this.symbols;e=r.labels;var n=a.center,l=Math.abs(a.radius),h=b.connectorDistance||0,c=t.align,q=b.connectorWidth,p=this.ranges[0].radius||0,d=n-l-b.borderWidth/2+q/2,f=this.fontMetrics;f=f.f/2-(f.h-f.f)/2;var y=g.styledMode;h=this.legend.options.rtl||"left"===c?-h:h,"center"===c&&(h=0,b.connectorDistance=0,a.labelAttribs.align="center"),c=d+b.labels.y;var m=p+h+b.labels.x;r.bubbleItems.push(g.circle(p,n+((d%1?1:.5)-(q%2?0:.5)),l).attr(y?{}:a.bubbleAttribs).addClass((y?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendItem.symbol)),r.connectors.push(g.path(g.crispLine([["M",p,d],["L",p+h,d]],b.connectorWidth)).attr(y?{}:a.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendItem.symbol)),a=g.text(this.formatLabel(a),m,c+f).attr(y?{}:a.labelAttribs).css(y?{}:t.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendItem.symbol),e.push(a),a.placed=!0,a.alignAttr={x:m,y:c+f}},b.prototype.getMaxLabelSize=function(){var a,b;return this.symbols.labels.forEach((function(t){b=t.getBBox(!0),a=a?b.width>a.width?b:a:b})),a||{}},b.prototype.formatLabel=function(a){var b=this.options,e=b.labels.formatter;b=b.labels.format;var o=this.chart.numberFormatter;return b?t.format(b,a):e?e.call(a):o(a.value,1)},b.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach((function(a,t){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[t].show():b.connectors[t].hide()})))},b.prototype.getRanges=function(){var t,a=this.legend.bubbleLegend,b=a.options.ranges,e=Number.MAX_VALUE,o=-Number.MAX_VALUE;a.chart.series.forEach((function(a){a.isBubble&&!a.ignoreSeries&&(t=a.zData.filter(q)).length&&(e=h(a.options.zMin,Math.min(e,Math.max(l(t),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),o=h(a.options.zMax,Math.max(o,n(t))))}));var r=e===o?[{value:o}]:[{value:e},{value:(e+o)/2},{value:o,autoRanges:!0}];return b.length&&b[0].radius&&r.reverse(),r.forEach((function(a,t){b&&b[t]&&(r[t]=g(b[t],a))})),r},b.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,t=a.legend.options,e=t.floating,g=(t="horizontal"===t.layout)?a.legend.lastLineHeight:0,o=a.plotSizeX,r=a.plotSizeY,n=a.series[this.options.seriesIndex],l=n.getPxExtremes();a=Math.ceil(l.minPxSize),l=Math.ceil(l.maxPxSize);var h=Math.min(r,o);return n=n.options.maxSize,e||!/%$/.test(n)?b=l:(n=parseFloat(n),b=(h+g-b.h/2)*n/100/(n/100+1),(t&&r-b>=o||!t&&o-b>=r)&&(b=l)),[a,Math.ceil(b)]},b.prototype.updateRanges=function(a,b){var t=this.legend.options.bubbleLegend;t.minSize=a,t.maxSize=b,t.ranges=this.getRanges()},b.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())},b}(),b})),t(b,"Series/Bubble/BubbleLegendComposition.js",[b["Series/Bubble/BubbleLegendDefaults.js"],b["Series/Bubble/BubbleLegendItem.js"],b["Core/Defaults.js"],b["Core/Utilities.js"]],(function(b,t,p,e){function o(a,b,t){var e,o=this.legend,l=0<=r(this);if(o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&l){var h=o.bubbleLegend.options;l=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(l[0],l[1]),h.placed||(o.group.placed=!1,o.allItems.forEach((function(a){(e=a.legendItem||{}).group&&(e.group.translateY=null)}))),o.render(),this.getMargins(),this.axes.forEach((function(a){a.visible&&a.render(),h.placed||(a.setScale(),a.updateNames(),c(a.ticks,(function(a){a.isNew=!0,a.isNewLabel=!0})))})),h.placed=!0,this.getMargins(),a.call(this,b,t),o.bubbleLegend.correctSizes(),g(o,n(o))}else a.call(this,b,t),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),g(o,n(o)))}function r(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function n(a){var t,b=[],e=(a=a.allItems).length,o=0;for(t=0;t<e;t++){var r=a[t].legendItem||{},g=(a[t+1]||{}).legendItem||{};if(r.labelHeight&&(a[t].itemHeight=r.labelHeight),a[t]===a[e-1]||r.y!==g.y){for(b.push({height:0}),r=b[b.length-1];o<=t;o++)a[o].itemHeight>r.height&&(r.height=a[o].itemHeight);r.step=t}}return b}function l(a){var b=this.bubbleLegend,e=this.options,o=e.bubbleLegend,g=r(this.chart);b&&b.ranges&&b.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(b)),0<=g&&e.enabled&&o.enabled&&(o.seriesIndex=g,this.bubbleLegend=new t(o,this),this.bubbleLegend.addToLegend(a.allItems))}function q(){var a=this.chart,b=this.visible,t=this.chart.legend;t&&t.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=r(a),t.bubbleLegend.visible!==a&&(t.update({bubbleLegend:{enabled:a}}),t.bubbleLegend.visible=a),this.visible=b)}function g(a,b){var t,e,o,g,r=a.options.rtl,n=0;a.allItems.forEach((function(a,l){(g=a.legendItem||{}).group&&(t=g.group.translateX||0,e=g.y||0,((o=a.movementX)||r&&a.ranges)&&(o=r?t-a.options.maxSize/2:t+o,g.group.attr({translateX:o})),l>b[n].step&&n++,g.group.attr({translateY:Math.round(e+b[n].height/2)}),g.y=e+b[n].height/2)}))}var h=p.setOptions,a=e.addEvent,c=e.objectEach,d=e.wrap,u=[];return{compose:function(t,e,g){-1===u.indexOf(t)&&(u.push(t),h({legend:{bubbleLegend:b}}),d(t.prototype,"drawChartBox",o)),-1===u.indexOf(e)&&(u.push(e),a(e,"afterGetAllItems",l)),-1===u.indexOf(g)&&(u.push(g),a(g,"legendItemClick",q))}}})),t(b,"Series/Bubble/BubblePoint.js",[b["Core/Series/Point.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p){var e=this&&this.__extends||function(){var b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var g in t)t.hasOwnProperty(g)&&(b[g]=t[g])},b(t,e)};return function(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();return p=p.extend,t=function(t){function o(){var b=null!==t&&t.apply(this,arguments)||this;return b.options=void 0,b.series=void 0,b}return e(o,t),o.prototype.haloPath=function(t){return b.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},o}(t.seriesTypes.scatter.prototype.pointClass),p(t.prototype,{ttBelow:!1}),t})),t(b,"Series/Bubble/BubbleSeries.js",[b["Series/Bubble/BubbleLegendComposition.js"],b["Series/Bubble/BubblePoint.js"],b["Core/Color/Color.js"],b["Core/Globals.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p,e,o,r){function n(){var q,a=this,b=this.len,t=this.chart,e=this.isXAxis,o=e?"xData":"yData",g=this.min,r=this.max-g,n=0,l=b,h=b/r;this.series.forEach((function(b){if(b.bubblePadding&&(b.visible||!t.options.chart.ignoreHiddenSeries)){q=a.allowZoomOutside=!0;var c=b[o];if(e&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii)),0<r)for(var p=c.length;p--;)if(y(c[p])&&a.dataMin<=c[p]&&c[p]<=a.max){var d=b.radii&&b.radii[p]||0;n=Math.min((c[p]-g)*h-d,n),l=Math.max((c[p]-g)*h+d,l)}}})),q&&0<r&&!this.logarithmic&&(l-=b,h*=(b+Math.max(0,n)-Math.min(l,b))/b,[["min","userMin",n],["max","userMax",l]].forEach((function(b){void 0===v(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/h)})))}var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),q=p.parse;p=e.noop;var g=o.series,h=o.seriesTypes;e=h.column.prototype;var a=h.scatter;h=r.addEvent;var c=r.arrayMax,d=r.arrayMin,u=r.clamp,f=r.extend,y=r.isNumber,m=r.merge,v=r.pick,x=[];return r=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.data=void 0,a.maxPxSize=void 0,a.minPxSize=void 0,a.options=void 0,a.points=void 0,a.radii=void 0,a.yData=void 0,a.zData=void 0,a}return l(e,t),e.compose=function(a,t,e,o){b.compose(t,e,o),-1===x.indexOf(a)&&(x.push(a),a.prototype.beforePadding=n)},e.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach((function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))}),this)},e.prototype.getRadii=function(){var a=this,b=this.zData,t=this.yData,e=[],o=this.chart.bubbleZExtremes,r=this.getPxExtremes(),g=r.minPxSize,n=r.maxPxSize;if(!o){var l,h=Number.MAX_VALUE,c=-Number.MAX_VALUE;this.chart.series.forEach((function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(h=Math.min(h||b.zMin,b.zMin),c=Math.max(c||b.zMax,b.zMax),l=!0)})),l?(o={zMin:h,zMax:c},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}var d=0;for(r=b.length;d<r;d++){var p=b[d];e.push(this.getRadius(o.zMin,o.zMax,g,n,p,t&&t[d]))}this.radii=e},e.prototype.getRadius=function(a,b,t,e,o,r){var g=this.options,n="width"!==g.sizeBy,l=g.zThreshold,h=b-a,c=.5;if(null===r||null===o)return null;if(y(o)){if(g.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(b-l,Math.abs(a-l)),a=0),o<a)return t/2-1;0<h&&(c=(o-a)/h)}return n&&0<=c&&(c=Math.sqrt(c)),Math.ceil(t+c*(e-t))/2},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.pointAttribs=function(a,b){var t=this.options.marker.fillOpacity;return a=g.prototype.pointAttribs.call(this,a,b),1!==t&&(a.fill=q(a.fill).setOpacity(t).get("rgba")),a},e.prototype.translate=function(){t.prototype.translate.call(this),this.getRadii(),this.translateBubble()},e.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,t=this.getPxExtremes().minPxSize,e=a.length;e--;){var o=a[e],r=b?b[e]:0;y(r)&&r>=t/2?(o.marker=f(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):(o.shapeArgs=o.plotY=o.dlBox=void 0,o.isInside=!1)}},e.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"==typeof b){var t=/%$/.test(b);b=parseInt(b,10)}return t?a*b/100:b},t=b(v(this.options.minSize,8));return{minPxSize:t,maxPxSize:b=Math.max(b(v(this.options.maxSize,"20%")),t)}},e.prototype.getZExtremes=function(){var a=this.options,b=(this.zData||[]).filter(y);if(b.length){var t=v(a.zMin,u(d(b),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(a=v(a.zMax,c(b)),y(t)&&y(a))return{zMin:t,zMax:a}}},e.defaultOptions=m(a.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return y(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),e}(a),f(r.prototype,{alignDataLabel:e.alignDataLabel,applyZones:p,bubblePadding:!0,buildKDTree:p,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),h(r,"updatedData",(function(a){delete a.target.chart.bubbleZExtremes})),h(r,"remove",(function(a){delete a.target.chart.bubbleZExtremes})),o.registerSeriesType("bubble",r),r})),t(b,"Series/MapBubble/MapBubblePoint.js",[b["Series/Bubble/BubblePoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p){var e=this&&this.__extends||function(){var b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var g in t)t.hasOwnProperty(g)&&(b[g]=t[g])},b(t,e)};return function(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();return t=t.seriesTypes.map.prototype.pointClass.prototype,p=p.extend,b=function(b){function t(){return null!==b&&b.apply(this,arguments)||this}return e(t,b),t.prototype.isValid=function(){return"number"==typeof this.z},t}(b),p(b.prototype,{applyOptions:t.applyOptions,getProjectedBounds:t.getProjectedBounds}),b})),t(b,"Series/MapBubble/MapBubbleSeries.js",[b["Series/Bubble/BubbleSeries.js"],b["Series/MapBubble/MapBubblePoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t,p,e){var o=this&&this.__extends||function(){var b=function(t,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},b(t,a)};return function(t,a){function e(){this.constructor=t}b(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),r=p.seriesTypes,n=r.map.prototype,l=r.mappoint.prototype;r=e.extend;var q=e.merge;return e=function(t){function g(){var a=null!==t&&t.apply(this,arguments)||this;return a.data=void 0,a.options=void 0,a.points=void 0,a.clearBounds=n.clearBounds,a}return o(g,t),g.prototype.searchPoint=function(a,b){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},b,a)},g.prototype.translate=function(){l.translate.call(this),this.getRadii(),this.translateBubble()},g.defaultOptions=q(b.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),g}(b),r(e.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:n.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:t,processData:n.processData,projectPoint:l.projectPoint,setData:n.setData,setOptions:n.setOptions,updateData:n.updateData,useMapGeometry:!0,xyFromShape:!0}),p.registerSeriesType("mapbubble",e),e})),t(b,"Series/Heatmap/HeatmapPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],(function(b,t){var p=this&&this.__extends||function(){var b=function(t,g){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var t in a)a.hasOwnProperty(t)&&(b[t]=a[t])},b(t,g)};return function(t,g){function e(){this.constructor=t}b(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),e=t.clamp,o=t.defined,r=t.extend,n=t.pick;return b=function(b){function t(){var t=null!==b&&b.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.value=void 0,t.x=void 0,t.y=void 0,t}return p(t,b),t.prototype.applyOptions=function(t,e){return(t=b.prototype.applyOptions.call(this,t,e)).formatPrefix=t.isNull||null===t.value?"null":"point",t},t.prototype.getCellAttributes=function(){var b=this.series,t=b.options,a=(t.colsize||1)/2,r=(t.rowsize||1)/2,l=b.xAxis,h=b.yAxis,p=this.options.marker||b.options.marker;b=b.pointPlacementToXValue();var c=n(this.pointPadding,t.pointPadding,0),q={x1:e(Math.round(l.len-l.translate(this.x-a,!1,!0,!1,!0,-b)),-l.len,2*l.len),x2:e(Math.round(l.len-l.translate(this.x+a,!1,!0,!1,!0,-b)),-l.len,2*l.len),y1:e(Math.round(h.translate(this.y-r,!1,!0,!1,!0)),-h.len,2*h.len),y2:e(Math.round(h.translate(this.y+r,!1,!0,!1,!0)),-h.len,2*h.len)};return[["width","x"],["height","y"]].forEach((function(a){var b=a[0],t=(a=a[1])+"1",e=a+"2",r=Math.abs(q[t]-q[e]),g=p&&p.lineWidth||0,n=Math.abs(q[t]+q[e])/2;b=p&&p[b],o(b)&&b<r&&(b=b/2+g/2,q[t]=n-b,q[e]=n+b),c&&("y"===a&&(t=e,e=a+"1"),q[t]+=c,q[e]-=c)})),q},t.prototype.haloPath=function(b){if(!b)return[];var t=this.shapeArgs;return["M",t.x-b,t.y-b,"L",t.x-b,t.y+t.height+b,t.x+t.width+b,t.y+t.height+b,t.x+t.width+b,t.y-b,"Z"]},t.prototype.isValid=function(){return 1/0!==this.value&&-1/0!==this.value},t}(b.seriesTypes.scatter.prototype.pointClass),r(b.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),b})),t(b,"Series/Heatmap/HeatmapSeries.js",[b["Core/Color/Color.js"],b["Series/ColorMapComposition.js"],b["Series/Heatmap/HeatmapPoint.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],(function(b,t,p,e,o,r,n){var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),q=o.series,g=o.seriesTypes,h=g.column,a=g.scatter,c=r.prototype.symbols,d=n.extend,u=n.fireEvent,f=n.isNumber,y=n.merge,m=n.pick;return r=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.colorAxis=void 0,a.data=void 0,a.options=void 0,a.points=void 0,a.valueMax=NaN,a.valueMin=NaN,a}return l(e,t),e.prototype.drawPoints=function(){var a=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(q.prototype.drawPoints.call(this),this.points.forEach((function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})))},e.prototype.getExtremes=function(){var a=q.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;return a=a.dataMax,f(b)&&(this.valueMin=b),f(a)&&(this.valueMax=a),q.prototype.getExtremes.call(this)},e.prototype.getValidPoints=function(a,b){return q.prototype.getValidPoints.call(this,a,b,!0)},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.init=function(){q.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=m(a.pointRange,a.colsize||1),this.yAxis.axisPointRange=a.rowsize||1,c.ellipse=c.circle,a.marker&&(a.marker.r=a.borderRadius)},e.prototype.markerAttribs=function(a,b){var t=a.marker||{},e=this.options.marker||{},o=a.shapeArgs||{},r={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=e.states[b]||{},n=t.states&&t.states[b]||{};[["width","x"],["height","y"]].forEach((function(a){r[a[0]]=(n[a[0]]||g[a[0]]||o[a[0]])+(n[a[0]+"Plus"]||g[a[0]+"Plus"]||0),r[a[1]]=o[a[1]]+(o[a[0]]-r[a[0]])/2}))}return b?r:o},e.prototype.pointAttribs=function(a,t){var e=q.prototype.pointAttribs.call(this,a,t),o=this.options||{},r=this.chart.options.plotOptions||{},g=r.series||{},n=r.heatmap||{};return r=a&&a.options.borderColor||o.borderColor||n.borderColor||g.borderColor,g=a&&a.options.borderWidth||o.borderWidth||n.borderWidth||g.borderWidth||e["stroke-width"],e.stroke=a&&a.marker&&a.marker.lineColor||o.marker&&o.marker.lineColor||r||this.color,e["stroke-width"]=g,t&&(t=(a=y(o.states[t],o.marker&&o.marker.states[t],a&&a.options.states&&a.options.states[t]||{})).brightness,e.fill=a.color||b.parse(e.fill).brighten(t||0).get(),e.stroke=a.lineColor),e},e.prototype.setClip=function(a){var b=this.chart;q.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)},e.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"rect",t=c[b]?b:"rect",e=-1!==["circle","square"].indexOf(t);this.generatePoints(),this.points.forEach((function(g){var o=g.getCellAttributes(),r={};r.x=Math.min(o.x1,o.x2),r.y=Math.min(o.y1,o.y2),r.width=Math.max(Math.abs(o.x2-o.x1),0),r.height=Math.max(Math.abs(o.y2-o.y1),0);var n=g.hasImage=0===(g.marker&&g.marker.symbol||b||"").indexOf("url");if(e){var l=Math.abs(r.width-r.height);r.x=Math.min(o.x1,o.x2)+(r.width<r.height?0:l/2),r.y=Math.min(o.y1,o.y2)+(r.width<r.height?l/2:0),r.width=r.height=Math.min(r.width,r.height)}l={plotX:(o.x1+o.x2)/2,plotY:(o.y1+o.y2)/2,clientX:(o.x1+o.x2)/2,shapeType:"path",shapeArgs:y(!0,r,{d:c[t](r.x,r.y,r.width,r.height,{r:a.borderRadius})})},n&&(g.marker={width:r.width,height:r.height}),d(g,l)})),u(this,"afterTranslate")},e.defaultOptions=y(a.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return f(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),e}(a),d(r.prototype,{axisTypes:t.seriesMembers.axisTypes,colorKey:t.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:t.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:p,trackerGroups:t.seriesMembers.trackerGroups,alignDataLabel:h.prototype.alignDataLabel,colorAttribs:t.seriesMembers.colorAttribs,drawLegendSymbol:e.drawRectangle,getSymbol:q.prototype.getSymbol}),t.compose(r),o.registerSeriesType("heatmap",r),r})),t(b,"masters/modules/map.src.js",[b["Core/Globals.js"],b["Core/Axis/Color/ColorAxis.js"],b["Series/MapBubble/MapBubbleSeries.js"],b["Core/Chart/MapChart.js"],b["Maps/MapView.js"],b["Maps/Projection.js"]],(function(b,t,p,e,o,r){b.ColorAxis=t,b.MapChart=e,b.mapChart=b.Map=e.mapChart,b.MapView=o,b.maps=e.maps,b.Projection=r,t.compose(b.Chart,b.Fx,b.Legend,b.Series),p.compose(b.Axis,b.Chart,b.Legend,b.Series)}))},t.exports?(b.default=b,t.exports=b):(r=[o(224)],void 0===(n=function(t){return b(t),b.Highcharts=t,b}.apply(e,r))||(t.exports=n))}}]);