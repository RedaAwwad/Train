(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{612:function(t,e,o){var n,r,l;l=function(t){function e(t,g,e,p){t.hasOwnProperty(g)||(t[g]=p.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:g,module:t[g]}})))}e(t=t?t._modules:{},"Series/DrawPointUtilities.js",[t["Core/Utilities.js"]],(function(t){return{draw:function(t,e){var p=e.animatableAttribs,o=e.onComplete,n=e.css,r=e.renderer,g=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,l=t.graphic;if(e.attribs=e.attribs||{},e.attribs.class=t.getClassName(),t.shouldDraw())l||(t.graphic=l="text"===e.shapeType?r.text():r[e.shapeType](e.shapeArgs||{}),l.add(e.group)),n&&l.css(n),l.attr(e.attribs).animate(p,!e.isNew&&g,o);else if(l){var d=function(){t.graphic=l=l&&l.destroy(),"function"==typeof o&&o()};Object.keys(p).length?l.animate(p,void 0,(function(){return d()})):d()}}}})),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,g){var e=this&&this.__extends||function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(e,o)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}();return g=g.extend,t=function(t){function g(){var e=null!==t&&t.apply(this,arguments)||this;return e.dimensions=void 0,e.options=void 0,e.polygon=void 0,e.rect=void 0,e.series=void 0,e}return e(g,t),g.prototype.isValid=function(){return!0},g}(t.seriesTypes.column.prototype.pointClass),g(t.prototype,{weight:1}),t})),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,g){function e(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)}function o(a){var b=a.axes||[];if(!b.length){b=[];var t=t=a.concat([a[0]]);t.reduce((function(a,t){var e=function(a,b){var t=b[0]-a[0];return[[-(a=b[1]-a[1]),t],[a,-t]]}(a,t)[0];return x(b,(function(a){return a[0]===e[0]&&a[1]===e[1]}))||b.push(e),t})),a.axes=b}return b}function n(a,b){return a=a.map((function(a){return a[0]*b[0]+a[1]*b[1]})),{min:Math.min.apply(this,a),max:Math.max.apply(this,a)}}function r(a,b){var t=o(a),e=o(b);return t=t.concat(e),!x(t,(function(t){var e=n(a,t);return!!((t=n(b,t)).min>e.max||t.max<e.min)}))}function l(a,b){var t=!1,o=a.rect,n=a.polygon,g=a.lastCollidedWith,l=function(b){var t=e(o,b.rect);return t&&(a.rotation%90||b.rotation%90)&&(t=r(n,b.polygon)),t};return g&&((t=l(g))||delete a.lastCollidedWith),t||(t=!!x(b,(function(b){var t=l(b);return t&&(a.lastCollidedWith=b),t}))),t}function d(a,b){b=4*a;var t=Math.ceil((Math.sqrt(b)-1)/2),e=2*t+1,o=Math.pow(e,2),n=!1;return--e,1e4>=a&&("boolean"==typeof n&&b>=o-e&&(n={x:t-(o-b),y:-t}),o-=e,"boolean"==typeof n&&b>=o-e&&(n={x:-t,y:o-b-t}),o-=e,"boolean"==typeof n&&(n=b>=o-e?{x:o-b-t,y:t}:{x:t,y:t-(o-b-e)}),n.x*=5,n.y*=5),n}function q(a,b){var t=b.width/2,e=-b.height/2,o=b.height/2;return!(-b.width/2<a.left&&t>a.right&&e<a.top&&o>a.bottom)}function u(a,b,t){return t.map((function(t){return[t[0]+a,t[1]+b]}))}function c(a,b){return b=v(b)?b:14,b=Math.pow(10,b),Math.round(a*b)/b}function h(a,b){var t=a[0];a=a[1];var e=m*-b;return[c(t*(b=Math.cos(e))-a*(e=Math.sin(e))),c(t*e+a*b)]}function f(a,b,t){return[(a=h([a[0]-b[0],a[1]-b[1]],t))[0]+b[0],a[1]+b[1]]}var m=t.deg2rad,y=g.extend,x=g.find,v=g.isNumber,w=g.isObject,M=g.merge;return{archimedeanSpiral:function(a,b){var t=b.field;b=!1,t=t.width*t.width+t.height*t.height;var e=.8*a;return 1e4>=a&&(b={x:e*Math.cos(e),y:e*Math.sin(e)},Math.min(Math.abs(b.x),Math.abs(b.y))<t||(b=!1)),b},extendPlayingField:function(a,b){if(w(a)&&w(b)){var t=b.bottom-b.top,e=b.right-b.left;b=a.ratioX;var o=a.ratioY;t=e*b>t*o?e:t,a=M(a,{width:a.width+t*b*2,height:a.height+t*o*2})}return a},getBoundingBoxFromPolygon:function(a){return a.reduce((function(a,t){var b=t[0];return t=t[1],a.left=Math.min(b,a.left),a.right=Math.max(b,a.right),a.bottom=Math.max(t,a.bottom),a.top=Math.min(t,a.top),a}),{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(a,b,t){t=t.reduce((function(a,b){b=b.dimensions;var t=Math.max(b.width,b.height);return a.maxHeight=Math.max(a.maxHeight,b.height),a.maxWidth=Math.max(a.maxWidth,b.width),a.area+=t*t,a}),{maxHeight:0,maxWidth:0,area:0});var e=a>b?a/b:1;return{width:(t=Math.max(t.maxHeight,t.maxWidth,.85*Math.sqrt(t.area)))*e,height:t*(a=b>a?b/a:1),ratioX:e,ratioY:a}},getPolygon:function(a,b,t,e,o){var n=[a,b],g=a-t/2;return a+=t/2,[[g,t=b-e/2],[a,t],[a,b+=e/2],[g,b]].map((function(a){return f(a,n,-o)}))},getRandomPosition:function(a){return Math.round(a*(Math.random()+.5)/2)},getRotation:function(a,b,t,e){var o=!1;return v(a)&&v(b)&&v(t)&&v(e)&&0<a&&-1<b&&e>t&&(o=t+b%a*((e-t)/(a-1||1))),o},getScale:function(a,b,t){var e=2*Math.max(Math.abs(t.top),Math.abs(t.bottom));return t=2*Math.max(Math.abs(t.left),Math.abs(t.right)),Math.min(0<t?1/t*a:1,0<e?1/e*b:1)},getSpiral:function(a,b){var t,e=[];for(t=1;1e4>t;t++)e.push(a(t,b));return function(a){return 1e4>=a&&e[a-1]}},intersectionTesting:function(a,b){var t=b.placed,e=b.field,o=b.rectangle,g=b.polygon,n=b.spiral,r=1,d={x:0,y:0},c=a.rect=y({},o);for(a.polygon=g,a.rotation=b.rotation;!1!==d&&(l(a,t)||q(c,e));)d=n(r),w(d)&&(c.left=o.left+d.x,c.right=o.right+d.x,c.top=o.top+d.y,c.bottom=o.bottom+d.y,a.polygon=u(d.x,d.y,g)),r++;return d},isPolygonsColliding:r,isRectanglesIntersecting:e,rectangularSpiral:function(a,b){return a=d(a,b),b=b.field,a&&(a.x*=b.ratioX,a.y*=b.ratioY),a},rotate2DToOrigin:h,rotate2DToPoint:f,squareSpiral:d,updateFieldBoundaries:function(a,b){return(!v(a.left)||a.left>b.left)&&(a.left=b.left),(!v(a.right)||a.right<b.right)&&(a.right=b.right),(!v(a.top)||a.top>b.top)&&(a.top=b.top),(!v(a.bottom)||a.bottom<b.bottom)&&(a.bottom=b.bottom),a}}})),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudUtils.js"]],(function(t,g,e,o,n,r,l){var p=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),d=g.noop,q=o.seriesTypes.column,u=n.extend,c=n.isArray,h=n.isNumber,f=n.isObject,m=n.merge;n=l.archimedeanSpiral;var y=l.extendPlayingField,x=l.getBoundingBoxFromPolygon,v=l.getPlayingField,w=l.getPolygon,M=l.getRandomPosition,a=l.getRotation,b=l.getScale,S=l.getSpiral,P=l.intersectionTesting,A=l.isPolygonsColliding,_=l.rectangularSpiral,j=l.rotate2DToOrigin,F=l.rotate2DToPoint,C=l.squareSpiral,W=l.updateFieldBoundaries;return l=function(a){function o(){var b=null!==a&&a.apply(this,arguments)||this;return b.data=void 0,b.options=void 0,b.points=void 0,b}return p(o,a),o.prototype.bindAxes=function(){var a={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};e.prototype.bindAxes.call(this),u(this.yAxis.options,a),u(this.xAxis.options,a)},o.prototype.pointAttribs=function(a,b){return delete(a=g.seriesTypes.column.prototype.pointAttribs.call(this,a,b)).stroke,delete a["stroke-width"],a},o.prototype.deriveFontSize=function(a,b,t){return a=h(a)?a:0,b=h(b)?b:1,t=h(t)?t:1,Math.floor(Math.max(t,a*b))},o.prototype.drawPoints=function(){var a=this,e=a.hasRendered,o=a.xAxis,g=a.yAxis,n=a.group,r=a.options,l=r.animation,d=r.allowExtendPlayingField,p=a.chart.renderer,c=p.text().add(n),q=[],m=a.placementStrategy[r.placementStrategy],M=r.rotation,A=a.points.map((function(a){return a.weight})),_=Math.max.apply(null,A),j=a.points.concat().sort((function(a,b){return b.weight-a.weight}));a.group.attr({scaleX:1,scaleY:1}),j.forEach((function(b){var t=a.deriveFontSize(1/_*b.weight,r.maxFontSize,r.minFontSize);t=u({fontSize:t+"px"},r.style),c.css(t).attr({x:0,y:0,text:b.name}),t=c.getBBox(!0),b.dimensions={height:t.height,width:t.width}}));var F=v(o.len,g.len,j),C=S(a.spirals[r.spiral],{field:F});j.forEach((function(b){var o=a.deriveFontSize(1/_*b.weight,r.maxFontSize,r.minFontSize);o=u({fontSize:o+"px"},r.style);var c=m(b,{data:j,field:F,placed:q,rotation:M}),g=u(a.pointAttribs(b,b.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:c.x,y:c.y,text:b.name,rotation:h(c.rotation)?c.rotation:void 0}),v=w(c.x,c.y,b.dimensions.width,b.dimensions.height,c.rotation),S=x(v),A=P(b,{rectangle:S,polygon:v,field:F,placed:q,spiral:C,rotation:c.rotation});if(!A&&d&&(F=y(F,S),A=P(b,{rectangle:S,polygon:v,field:F,placed:q,spiral:C,rotation:c.rotation})),f(A)?(g.x=(g.x||0)+A.x,g.y=(g.y||0)+A.y,S.left+=A.x,S.right+=A.x,S.top+=A.y,S.bottom+=A.y,F=W(F,S),q.push(b),b.isNull=!1,b.isInside=!0):b.isNull=!0,l){var O={x:g.x,y:g.y};e?(delete g.x,delete g.y):(g.x=0,g.y=0)}t.draw(b,{animatableAttribs:O,attribs:g,css:o,group:n,renderer:p,shapeArgs:void 0,shapeType:"text"})})),c=c.destroy(),o=b(o.len,g.len,F),a.group.attr({scaleX:o,scaleY:o})},o.prototype.hasData=function(){return f(this)&&!0===this.visible&&c(this.points)&&0<this.points.length},o.prototype.getPlotBox=function(){var a=this.chart,b=a.inverted,t=this[b?"yAxis":"xAxis"];return b=this[b?"xAxis":"yAxis"],{translateX:(t?t.left:a.plotLeft)+(t?t.len:a.plotWidth)/2,translateY:(b?b.top:a.plotTop)+(b?b.len:a.plotHeight)/2,scaleX:1,scaleY:1}},o.defaultOptions=m(q.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.weight}</b><br/>'}}),o}(q),u(l.prototype,{animate:d,animateDrilldown:d,animateDrillupFrom:d,pointClass:r,setClip:d,placementStrategy:{random:function(b,t){var e=t.field;return t=t.rotation,{x:M(e.width)-e.width/2,y:M(e.height)-e.height/2,rotation:a(t.orientations,b.index,t.from,t.to)}},center:function(b,t){return t=t.rotation,{x:0,y:0,rotation:a(t.orientations,b.index,t.from,t.to)}}},pointArrayMap:["weight"],spirals:{archimedean:n,rectangular:_,square:C},utils:{extendPlayingField:y,getRotation:a,isPolygonsColliding:A,rotate2DToOrigin:j,rotate2DToPoint:F}}),o.registerSeriesType("wordcloud",l),l})),e(t,"masters/modules/wordcloud.src.js",[],(function(){}))},t.exports?(l.default=l,t.exports=l):(n=[o(223)],void 0===(r=function(t){return l(t),l.Highcharts=t,l}.apply(e,n))||(t.exports=r))}}]);