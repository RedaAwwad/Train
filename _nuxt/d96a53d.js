/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{539:function(t,e,o){var r,n,l;l=function(t){"use strict";var e=t?t._modules:{};function o(t,path,e,o){t.hasOwnProperty(path)||(t[path]=o.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:path,module:t[path]}})))}o(e,"Core/Axis/Color/ColorAxisComposition.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],(function(t,e){var o,r=t.parse,n=e.addEvent,l=e.extend,h=e.merge,c=e.pick,d=e.splat;return function(t){var e,o=[];function f(){var t=this,o=this.options;this.colorAxis=[],o.colorAxis&&(o.colorAxis=d(o.colorAxis),o.colorAxis.forEach((function(o,i){o.index=i,new e(t,o)})))}function y(t){var e,i,o=this,r=this.chart.colorAxis||[],n=function(e){var i=t.allItems.indexOf(e);-1!==i&&(o.destroyItem(t.allItems[i]),t.allItems.splice(i,1))},l=[];for(r.forEach((function(t){(e=t.options)&&e.showInLegend&&(e.dataClasses&&e.visible?l=l.concat(t.getDataClassLegendSymbols()):e.visible&&l.push(t),t.series.forEach((function(t){t.options.showInLegend&&!e.dataClasses||("point"===t.options.legendType?t.points.forEach((function(t){n(t)})):n(t))})))})),i=l.length;i--;)t.allItems.unshift(l[i])}function m(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function v(){var t=this.chart.colorAxis;t&&t.forEach((function(t){t.update({},arguments[2])}))}function x(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function M(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function j(t){var e=this,o=t?"show":"hide";e.visible=e.options.visible=Boolean(t),["graphic","dataLabel"].forEach((function(t){e[t]&&e[t][o]()})),this.series.buildKDTree()}function C(){var t=this,e=this.data.length?this.data:this.points,o=this.options.nullColor,r=this.colorAxis,n=this.colorKey;e.forEach((function(e){var l=e.getNestedProperty(n),h=e.options.color||(e.isNull||null===e.value?o:r&&void 0!==l?r.toColor(l,e):e.color||t.color);h&&e.color!==h&&(e.color=h,"point"===t.options.legendType&&e.legendItem&&e.legendItem.label&&t.chart.legend.colorizeItem(e,e.visible))}))}function w(){this.elem.attr("fill",r(this.start).tweenTo(r(this.end),this.pos),void 0,!0)}function P(){this.elem.attr("stroke",r(this.start).tweenTo(r(this.end),this.pos),void 0,!0)}t.compose=function(t,r,d,S,L){if(e||(e=t),-1===o.indexOf(r)){o.push(r);var A=r.prototype;A.collectionsWithUpdate.push("colorAxis"),A.collectionsWithInit.colorAxis=[A.addColorAxis],n(r,"afterGetAxes",f),function(t){var o=t.prototype.createAxis;t.prototype.createAxis=function(t,r){if("colorAxis"!==t)return o.apply(this,arguments);var n=new e(this,h(r.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0})),c(r.redraw,!0)&&this.redraw(r.animation),n}}(r)}if(-1===o.indexOf(d)){o.push(d);var T=d.prototype;T.fillSetter=w,T.strokeSetter=P}-1===o.indexOf(S)&&(o.push(S),n(S,"afterGetAllItems",y),n(S,"afterColorizeItem",m),n(S,"afterUpdate",v)),-1===o.indexOf(L)&&(o.push(L),l(L.prototype,{optionalAxis:"colorAxis",translateColors:C}),l(L.prototype.pointClass.prototype,{setVisible:j}),n(L,"afterTranslate",x,{order:1}),n(L,"bindAxes",M))},t.pointSetVisible=j}(o||(o={})),o})),o(e,"Core/Axis/Color/ColorAxisDefaults.js",[],(function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}})),o(e,"Core/Axis/Color/ColorAxis.js",[e["Core/Axis/Axis.js"],e["Core/Color/Color.js"],e["Core/Axis/Color/ColorAxisComposition.js"],e["Core/Axis/Color/ColorAxisDefaults.js"],e["Core/Globals.js"],e["Core/Legend/LegendSymbol.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,l,h,c){var d,f=this&&this.__extends||(d=function(t,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},d(t,b)},function(t,b){function e(){this.constructor=t}d(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),y=e.parse,m=(n.noop,h.series),v=c.extend,x=c.isNumber,M=c.merge,j=c.pick,C=function(t){function e(e,o){var r=t.call(this,e,o)||this;return r.beforePadding=!1,r.chart=void 0,r.coll="colorAxis",r.dataClasses=void 0,r.name="",r.options=void 0,r.stops=void 0,r.visible=!0,r.init(e,o),r}return f(e,t),e.compose=function(t,r,n,l){o.compose(e,t,r,n,l)},e.prototype.init=function(o,r){var n=this,legend=o.options.legend||{},l=r.layout?"vertical"!==r.layout:"vertical"!==legend.layout,h=r.visible,c=M(e.defaultColorAxisOptions,r,{showEmpty:!1,title:null,visible:legend.enabled&&!1!==h});n.coll="colorAxis",n.side=r.side||l?2:1,n.reversed=r.reversed||!l,n.opposite=!l,t.prototype.init.call(this,o,c),n.userOptions.visible=h,r.dataClasses&&n.initDataClasses(r),n.initStops(),n.horiz=l,n.zoomEnabled=!1},e.prototype.initDataClasses=function(t){var e,o=this,r=o.chart,n=o.legendItem=o.legendItem||{},l=t.dataClasses.length,h=o.options,c=0,d=r.options.chart.colorCount;o.dataClasses=e=[],n.labels=[],(t.dataClasses||[]).forEach((function(t,i){var o;t=M(t),e.push(t),!r.styledMode&&t.color||("category"===h.dataClassColor?(r.styledMode||(o=r.options.colors,d=o.length,t.color=o[c]),t.colorIndex=c,++c===d&&(c=0)):t.color=y(h.minColor).tweenTo(y(h.maxColor),l<2?.5:i/(l-1)))}))},e.prototype.hasData=function(){return!!(this.tickPositions||[]).length},e.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},e.prototype.initStops=function(){var t=this;t.stops=t.options.stops||[[0,t.options.minColor],[1,t.options.maxColor]],t.stops.forEach((function(t){t.color=y(t[1])}))},e.prototype.setOptions=function(e){t.prototype.setOptions.call(this,e),this.options.crosshair=this.options.marker},e.prototype.setAxisSize=function(){var t,o,r,n,l=this,symbol=l.legendItem&&l.legendItem.symbol,h=l.chart,c=h.options.legend||{};symbol?(this.left=t=symbol.attr("x"),this.top=o=symbol.attr("y"),this.width=r=symbol.attr("width"),this.height=n=symbol.attr("height"),this.right=h.chartWidth-t-r,this.bottom=h.chartHeight-o-n,this.len=this.horiz?r:n,this.pos=this.horiz?t:o):this.len=(this.horiz?c.symbolWidth:c.symbolHeight)||e.defaultLegendLength},e.prototype.normalizedValue=function(t){var e=this;return e.logarithmic&&(t=e.logarithmic.log2lin(t)),1-(e.max-t)/(e.max-e.min||1)},e.prototype.toColor=function(t,e){var o,r,n,l,h,i,c=this,d=c.dataClasses,f=c.stops;if(d){for(i=d.length;i--;)if(r=(h=d[i]).from,n=h.to,(void 0===r||t>=r)&&(void 0===n||t<=n)){l=h.color,e&&(e.dataClass=i,e.colorIndex=h.colorIndex);break}}else{for(o=c.normalizedValue(t),i=f.length;i--&&!(o>f[i][0]););r=f[i]||f[i+1],o=1-((n=f[i+1]||r)[0]-o)/(n[0]-r[0]||1),l=r.color.tweenTo(n.color,o)}return l},e.prototype.getOffset=function(){var o=this,r=o.legendItem&&o.legendItem.group,n=o.chart.axisOffset[o.side];if(r){o.axisParent=r,t.prototype.getOffset.call(this);var l=this.chart.legend;l.allItems.forEach((function(t){t instanceof e&&t.drawLegendSymbol(l,t)})),l.render(),this.chart.getMargins(!0),o.added||(o.added=!0,o.labelLeft=0,o.labelRight=o.width),o.chart.axisOffset[o.side]=n}},e.prototype.setLegendColor=function(){var t=this,e=t.horiz,o=t.reversed,r=o?1:0,n=o?0:1,l=e?[r,0,n,0]:[0,n,0,r];t.legendColor={linearGradient:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]},stops:t.stops}},e.prototype.drawLegendSymbol=function(legend,t){var o=t.legendItem||{},r=legend.padding,n=legend.options,l=j(n.itemDistance,10),h=this.horiz,c=j(n.symbolWidth,h?e.defaultLegendLength:12),d=j(n.symbolHeight,h?12:e.defaultLegendLength),f=j(n.labelPadding,h?16:30);this.setLegendColor(),o.symbol||(o.symbol=this.chart.renderer.rect(0,legend.baseline-11,c,d).attr({zIndex:1}).add(o.group)),o.labelWidth=c+r+(h?l:this.options.labels.x+this.maxLabelLength),o.labelHeight=d+r+(h?f:0)},e.prototype.setState=function(t){this.series.forEach((function(e){e.setState(t)}))},e.prototype.setVisible=function(){},e.prototype.getSeriesExtremes=function(){var t,e,o,r,n,l,h,c,d=this.series,i=d.length;for(this.dataMin=1/0,this.dataMax=-1/0;i--;){if(e=(l=d[i]).colorKey=j(l.options.colorKey,l.colorKey,l.pointValKey,l.zoneAxis,"y"),r=l.pointArrayMap,n=l[e+"Min"]&&l[e+"Max"],l[e+"Data"])t=l[e+"Data"];else if(r){if(t=[],o=r.indexOf(e),h=l.yData,o>=0&&h)for(c=0;c<h.length;c++)t.push(j(h[c][o],h[c]))}else t=l.yData;if(n)l.minColorValue=l[e+"Min"],l.maxColorValue=l[e+"Max"];else{var f=m.prototype.getExtremes.call(l,t);l.minColorValue=f.dataMin,l.maxColorValue=f.dataMax}void 0!==l.minColorValue&&(this.dataMin=Math.min(this.dataMin,l.minColorValue),this.dataMax=Math.max(this.dataMax,l.maxColorValue)),n||m.prototype.applyExtremes.call(l)}},e.prototype.drawCrosshair=function(e,o){var r,n=this,l=n.legendItem||{},h=o&&o.plotX,c=o&&o.plotY,d=n.pos,f=n.len;o&&((r=n.toPixels(o.getNestedProperty(o.series.colorKey)))<d?r=d-2:r>d+f&&(r=d+f+2),o.plotX=r,o.plotY=n.len-r,t.prototype.drawCrosshair.call(this,e,o),o.plotX=h,o.plotY=c,n.cross&&!n.cross.addedToColorAxis&&l.group&&(n.cross.addClass("highcharts-coloraxis-marker").add(l.group),n.cross.addedToColorAxis=!0,n.chart.styledMode||"object"!=typeof n.crosshair||n.cross.attr({fill:n.crosshair.color})))},e.prototype.getPlotLinePath=function(e){var o=this,r=o.left,n=e.translatedValue,l=o.top;return x(n)?o.horiz?[["M",n-4,l-6],["L",n+4,l-6],["L",n,l],["Z"]]:[["M",r,n],["L",r-6,n+6],["L",r-6,n-6],["Z"]]:t.prototype.getPlotLinePath.call(this,e)},e.prototype.update=function(e,o){var r=this,legend=r.chart.legend;this.series.forEach((function(t){t.isDirtyData=!0})),(e.dataClasses&&legend.allItems||r.dataClasses)&&r.destroyItems(),t.prototype.update.call(this,e,o),r.legendItem&&r.legendItem.label&&(r.setLegendColor(),legend.colorizeItem(this,!0))},e.prototype.destroyItems=function(){var t=this,e=t.chart,o=t.legendItem||{};if(o.label)e.legend.destroyItem(t);else if(o.labels)for(var r=0,n=o.labels;r<n.length;r++){var l=n[r];e.legend.destroyItem(l)}e.isDirtyLegend=!0},e.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),t.prototype.destroy.apply(this,[].slice.call(arguments))},e.prototype.remove=function(e){this.destroyItems(),t.prototype.remove.call(this,e)},e.prototype.getDataClassLegendSymbols=function(){var t,e=this,o=e.chart,r=e.legendItem&&e.legendItem.labels||[],n=o.options.legend,h=j(n.valueDecimals,-1),c=j(n.valueSuffix,""),d=function(i){return e.series.reduce((function(t,s){return t.push.apply(t,s.points.filter((function(t){return t.dataClass===i}))),t}),[])};return r.length||e.dataClasses.forEach((function(n,i){var f=n.from,y=n.to,m=o.numberFormatter,x=!0;t="",void 0===f?t="< ":void 0===y&&(t="> "),void 0!==f&&(t+=m(f,h)+c),void 0!==f&&void 0!==y&&(t+=" - "),void 0!==y&&(t+=m(y,h)+c),r.push(v({chart:o,name:t,options:{},drawLegendSymbol:l.drawRectangle,visible:!0,isDataClass:!0,setState:function(t){for(var e=0,o=d(i);e<o.length;e++)o[e].setState(t)},setVisible:function(){this.visible=x=e.visible=!x;for(var t=0,r=d(i);t<r.length;t++)r[t].setVisible(x);o.legend.colorizeItem(this,x)}},n))})),r},e.defaultColorAxisOptions=r,e.defaultLegendLength=200,e.keepProps=["legendItem"],e}(t);return Array.prototype.push.apply(t.keepProps,C.keepProps),C})),o(e,"Maps/MapNavigationDefaults.js",[e["Core/Defaults.js"],e["Core/Utilities.js"]],(function(t,e){var o={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};return(0,e.extend)(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation=o,o})),o(e,"Maps/MapNavigation.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,o){var r=e.doc,n=o.addEvent,l=o.extend,h=o.isNumber,c=o.merge,d=o.objectEach,f=o.pick;function y(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function m(t){this.navButtons=[],this.init(t)}m.prototype.init=function(t){this.chart=t},m.prototype.update=function(t){var e,o=this,r=this.chart,h=r.options.mapNavigation,m=function(t){this.handler.call(r,t),y(t)},v=o.navButtons;for(t&&(h=r.options.mapNavigation=c(r.options.mapNavigation,t));v.length;)v.pop().destroy();f(h.enableButtons,h.enabled)&&!r.renderer.forExport&&(o.navButtonsGroup||(o.navButtonsGroup=r.renderer.g().attr({zIndex:4}).add()),d(h.buttons,(function(t,d){t=c(h.buttonOptions,t),!r.styledMode&&t.theme&&((e=t.theme).style=c(t.theme.style,t.style));var button=r.renderer.button(t.text||"",0,0,m,e,void 0,void 0,void 0,"zoomIn"===d?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[d]).attr({width:t.width,height:t.height,title:r.options.lang[d],padding:t.padding,zIndex:5}).add(o.navButtonsGroup);if(button.handler=t.onclick,n(button.element,"dblclick",y),v.push(button),l(t,{width:button.width,height:2*button.height}),r.hasLoaded)button.align(t,!1,t.alignTo);else var f=n(r,"load",(function(){button.element&&button.align(t,!1,t.alignTo),f()}))})),r.hasLoaded||n(r,"render",(function(){var t,e,n=r.exportingGroup&&r.exportingGroup.getBBox();if(n){var l=o.navButtonsGroup.getBBox();if(t=n,!((e=l).x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)){var c=-l.y-l.height+n.y-5,d=n.y+n.height-l.y+5,f=h.buttonOptions&&h.buttonOptions.verticalAlign;o.navButtonsGroup.attr({translateY:"bottom"===f?c:d})}}}))),this.updateEvents(h)},m.prototype.updateEvents=function(t){var e=this.chart;f(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||n(e.container,"dblclick",(function(t){e.pointer.onContainerDblClick(t)})):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),f(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||n(e.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",(function(t){return e.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(t),y(t)),!1})):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},l(t.prototype,{fitToBox:function(t,e){return[["x","width"],["y","height"]].forEach((function(o){var r=o[0],n=o[1];t[r]+t[n]>e[r]+e[n]&&(t[n]>e[n]?(t[n]=e[n],t[r]=e[r]):t[r]=e[r]+e[n]-t[n]),t[n]>e[n]&&(t[n]=e[n]),t[r]<e[r]&&(t[r]=e[r])})),t},mapZoom:function(t,e,o,r,n){this.mapView&&(h(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,h(e)&&h(o)?this.mapView.projection.inverse([e,o]):void 0,h(r)&&h(n)?[r,n]:void 0))}}),n(t,"beforeRender",(function(){this.mapNavigation=new m(this),this.mapNavigation.update()})),e.MapNavigation=m})),o(e,"Maps/MapPointer.js",[e["Core/Pointer.js"],e["Core/Utilities.js"]],(function(t,e){var o,r=e.defined,n=e.extend,l=e.pick,h=e.wrap,c=t.prototype.normalize,d=0;n(t.prototype,{normalize:function(t,e){var o=this.chart;if(t=c.call(this,t,e),o&&o.mapView){var r=o.mapView.pixelsToLonLat({x:t.chartX-o.plotLeft,y:t.chartY-o.plotTop});r&&n(t,r)}return t},onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart;t=this.normalize(t);var n=r(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;Math.abs(n)>=1&&(d+=Math.abs(n),o&&clearTimeout(o),o=setTimeout((function(){d=0}),50)),d<10&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-n,void 0,[t.chartX,t.chartY],!(Math.abs(n)<1)&&void 0)}}),h(t.prototype,"zoomOption",(function(t){var e=this.chart.options.mapNavigation;l(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))})),h(t.prototype,"pinchTranslate",(function(t,e,o,r,n,l,h){var c;t.call(this,e,o,r,n,l,h),"map"===this.chart.options.chart.type&&this.hasZoom&&(c=r.scaleX>r.scaleY,this.pinchTranslateDirection(!c,e,o,r,n,l,h,c?r.scaleX:r.scaleY))}))})),o(e,"Series/ColorMapComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){var o,r=t.seriesTypes.column.prototype,n=e.addEvent,l=e.defined;return function(t){var e=[];function o(t){var e=this;e.moveToTopOnHover&&e.graphic&&e.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}t.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){var e={};return!l(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e},pointAttribs:r.pointAttribs},t.compose=function(t){var r=t.prototype.pointClass;return-1===e.indexOf(r)&&(e.push(r),n(r,"afterSetState",o)),t}}(o||(o={})),o})),o(e,"Maps/MapSymbols.js",[e["Core/Renderer/SVG/SVGRenderer.js"]],(function(t){var e=t.prototype.symbols;function o(t,e,o,r,n,l,h,c){return[["M",t+n,e],["L",t+o-l,e],["C",t+o-l/2,e,t+o,e+l/2,t+o,e+l],["L",t+o,e+r-h],["C",t+o,e+r-h/2,t+o-h/2,e+r,t+o-h,e+r],["L",t+c,e+r],["C",t+c/2,e+r,t,e+r-c/2,t,e+r-c],["L",t,e+n],["C",t,e+n/2,t+n/2,e,t+n,e],["Z"]]}return e.bottombutton=function(t,e,r,n,l){var h=l&&l.r||0;return o(t-1,e-1,r,n,0,0,h,h)},e.topbutton=function(t,e,r,n,l){var h=l&&l.r||0;return o(t-1,e-1,r,n,h,h,0,0)},e})),o(e,"Core/Chart/MapChart.js",[e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(t,e,o,r){var n,l=this&&this.__extends||(n=function(t,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},n(t,b)},function(t,b){function e(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),h=e.getOptions,c=r.merge,d=r.pick,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.init=function(e,o){var r=h().credits,n=c({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:d(r.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:d(r.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},e);t.prototype.init.call(this,n,o)},e}(t);return function(t){t.maps={},t.mapChart=function(a,b,e){return new t(a,b,e)},t.splitPath=function(path){var t;return t="string"==typeof path?(path=path.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map((function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)})):path,o.prototype.pathToSegments(t)}}(f||(f={})),f})),o(e,"Maps/MapUtilities.js",[],(function(){return{boundsFromPath:function(path){var t,e=-Number.MAX_VALUE,o=Number.MAX_VALUE,r=-Number.MAX_VALUE,n=Number.MAX_VALUE;if(path.forEach((function(l){var h=l[l.length-2],c=l[l.length-1];"number"==typeof h&&"number"==typeof c&&(o=Math.min(o,h),e=Math.max(e,h),n=Math.min(n,c),r=Math.max(r,c),t=!0)})),t)return{x1:o,y1:n,x2:e,y2:r}},pointInPolygon:function(t,polygon){var i,e,o=!1,r=t.x,n=t.y;for(i=0,e=polygon.length-1;i<polygon.length;e=i++)polygon[i][1]>n!=polygon[e][1]>n&&r<(polygon[e][0]-polygon[i][0])*(n-polygon[i][1])/(polygon[e][1]-polygon[i][1])+polygon[i][0]&&(o=!o);return o}}})),o(e,"Series/Map/MapPoint.js",[e["Series/ColorMapComposition.js"],e["Maps/MapUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o,r){var n,l=this&&this.__extends||(n=function(t,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},n(t,b)},function(t,b){function e(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),h=e.boundsFromPath,c=o.seriesTypes.scatter,d=r.extend,f=r.isNumber,y=r.pick,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.path=void 0,e.series=void 0,e}return l(e,t),e.getProjectedPath=function(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]},e.prototype.applyOptions=function(e,o){var r=this.series,n=t.prototype.applyOptions.call(this,e,o),l=r.joinBy;if(r.mapData&&r.mapMap){var h=l[1],c=t.prototype.getNestedProperty.call(n,h),f=void 0!==c&&r.mapMap[c];f?d(n,f):-1!==r.pointArrayMap.indexOf("value")&&(n.value=n.value||null)}return n},e.prototype.getProjectedBounds=function(t){var path=e.getProjectedPath(this,t),o=h(path),r=this.properties;if(o){var n=r&&r["hc-middle-x"],l=r&&r["hc-middle-y"];o.midX=o.x1+(o.x2-o.x1)*y(this.middleX,f(n)?n:.5);var c=y(this.middleY,f(l)?l:.5);return this.geometry||(c=1-c),o.midY=o.y2-(o.y2-o.y1)*c,o}},e.prototype.onMouseOver=function(e){r.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?t.prototype.onMouseOver.call(this,e):this.series.onMouseOut(e)},e.prototype.setVisible=function(t){var e=t?"show":"hide";this.visible=this.options.visible=!!t,this.dataLabel&&this.dataLabel[e](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))},e.prototype.zoomTo=function(){var t=this,e=t.series.chart,o=e.mapView,r=t.bounds;if(o&&r){var n=f(t.insetIndex)&&o.insets[t.insetIndex];if(n){var l=n.projectedUnitsToPixels({x:r.x1,y:r.y1}),h=n.projectedUnitsToPixels({x:r.x2,y:r.y2}),c=o.pixelsToProjectedUnits({x:l.x,y:l.y}),d=o.pixelsToProjectedUnits({x:h.x,y:h.y});r={x1:c.x,y1:c.y,x2:d.x,y2:d.y}}o.fitToBounds(r,void 0,!1),t.series.isDirty=!0,e.redraw()}},e}(c.prototype.pointClass);return d(m.prototype,{dataLabelOnNull:t.pointMembers.dataLabelOnNull,moveToTopOnHover:t.pointMembers.moveToTopOnHover,isValid:t.pointMembers.isValid}),m})),o(e,"Maps/MapViewOptionsDefault.js",[],(function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}})),o(e,"Maps/MapViewInsetsOptionsDefault.js",[],(function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}})),o(e,"Extensions/GeoJSON.js",[e["Core/Chart/Chart.js"],e["Core/FormatUtilities.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,o,r){var n=e.format,l=o.win,h=r.error,c=r.extend,d=r.merge,f=r.wrap;function y(t,e){e||(e=Object.keys(t.objects)[0]);var object=t.objects[e];if(object["hc-decoded-geojson"])return object["hc-decoded-geojson"];var o=t.arcs;if(t.transform){var r=t.transform,n=r.scale,l=r.translate;o=t.arcs.map((function(t){var e=0,o=0;return t.map((function(t){return(t=t.slice())[0]=(e+=t[0])*n[0]+l[0],t[1]=(o+=t[1])*n[1]+l[1],t}))}))}var h=function(t){return"number"==typeof t[0]?t.reduce((function(t,e,i){var r=e<0?o[~e]:o[e];return e<0?(r=r.slice(0,0===i?r.length:r.length-1)).reverse():i&&(r=r.slice(1)),t.concat(r)}),[]):t.map(h)},c=object.geometries.map((function(t){return{type:"Feature",properties:t.properties,geometry:{type:t.type,coordinates:t.coordinates||h(t.arcs)}}})),d={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:c,"hc-recommended-mapview":object["hc-recommended-mapview"],bbox:t.bbox,title:t.title};return object["hc-decoded-geojson"]=d,d}function m(t,e,o){void 0===e&&(e="map");var r=[],l="Topology"===t.type?y(t):t;return l.features.forEach((function(t){var o,n=t.geometry||{},l=n.type,h=n.coordinates,d=t.properties;if(("map"!==e&&"mapbubble"!==e||"Polygon"!==l&&"MultiPolygon"!==l)&&("mapline"!==e||"LineString"!==l&&"MultiLineString"!==l)?"mappoint"===e&&"Point"===l&&h.length&&(o={geometry:{coordinates:h,type:l}}):h.length&&(o={geometry:{coordinates:h,type:l}}),o){var f=d&&(d.name||d.NAME),y=d&&d.lon,m=d&&d.lat;r.push(c(o,{lat:"number"==typeof m?m:void 0,lon:"number"==typeof y?y:void 0,name:"string"==typeof f?f:void 0,properties:d}))}})),o&&l.copyrightShort&&(o.chart.mapCredits=n(o.chart.options.credits.mapText,{geojson:l}),o.chart.mapCreditsFull=n(o.chart.options.credits.mapTextFull,{geojson:l})),r}return t.prototype.transformFromLatLon=function(t,e){var o=this.options.chart.proj4||l.proj4;if(o){var r=e.jsonmarginX,n=void 0===r?0:r,c=e.jsonmarginY,d=void 0===c?0:c,f=e.jsonres,y=void 0===f?1:f,m=e.scale,v=void 0===m?1:m,x=e.xoffset,M=void 0===x?0:x,j=e.xpan,C=void 0===j?0:j,w=e.yoffset,P=void 0===w?0:w,S=e.ypan,L=void 0===S?0:S,A=o(e.crs,[t.lon,t.lat]),T=e.cosAngle||e.rotation&&Math.cos(e.rotation),O=e.sinAngle||e.rotation&&Math.sin(e.rotation),_=e.rotation?[A[0]*T+A[1]*O,-A[0]*O+A[1]*T]:A;return{x:((_[0]-M)*v+C)*y+n,y:-(((P-_[1])*v+L)*y-d)}}h(21,!1,this)},t.prototype.transformToLatLon=function(t,e){var o=this.options.chart.proj4||l.proj4;if(o){if(null!==t.y){var r=e.jsonmarginX,n=void 0===r?0:r,c=e.jsonmarginY,d=void 0===c?0:c,f=e.jsonres,y=void 0===f?1:f,m=e.scale,v=void 0===m?1:m,x=e.xoffset,M=void 0===x?0:x,j=e.xpan,C=void 0===j?0:j,w=e.yoffset,P=void 0===w?0:w,S=e.ypan,L=void 0===S?0:S,A={x:((t.x-n)/y-C)/v+M,y:((t.y-d)/y+L)/v+P},T=e.cosAngle||e.rotation&&Math.cos(e.rotation),O=e.sinAngle||e.rotation&&Math.sin(e.rotation),_=o(e.crs,"WGS84",e.rotation?{x:A.x*T+A.y*-O,y:A.x*O+A.y*T}:A);return{lat:_.y,lon:_.x}}}else h(21,!1,this)},t.prototype.fromPointToLatLon=function(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)},t.prototype.fromLatLonToPoint=function(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)},f(t.prototype,"addCredits",(function(t,e){e=d(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})),o.geojson=m,o.topo2geo=y,{geojson:m,topo2geo:y}})),o(e,"Core/Geometry/PolygonClip.js",[],(function(){var t,e=function(t,e,p){return(e[0]-t[0])*(p[1]-t[1])>(e[1]-t[1])*(p[0]-t[0])},o=function(t,e,o,r){var n=[t[0]-e[0],t[1]-e[1]],l=[o[0]-r[0],o[1]-r[1]],h=t[0]*e[1]-t[1]*e[0],c=o[0]*r[1]-o[1]*r[0],d=1/(n[0]*l[1]-n[1]*l[0]),f=[(h*l[0]-c*n[0])*d,(h*l[1]-c*n[1])*d];return f.isIntersection=!0,f};return function(t){t.clipLineString=function(line,e){for(var o=[],r=t.clipPolygon(line,e,!1),i=1;i<r.length;i++)r[i].isIntersection&&r[i-1].isIntersection&&(o.push(r.splice(0,i)),i=0),i===r.length-1&&o.push(r);return o},t.clipPolygon=function(t,r,n){void 0===n&&(n=!0);for(var l,h,c,d=r[r.length-1],f=t,y=0;y<r.length;y++){var m=f;l=r[y],f=[],h=n?m[m.length-1]:m[0];for(var i=0;i<m.length;i++)c=m[i],e(d,l,c)?(e(d,l,h)||f.push(o(d,l,h,c)),f.push(c)):e(d,l,h)&&f.push(o(d,l,h,c)),h=c;d=l}return f}}(t||(t={})),t})),o(e,"Maps/Projections/LambertConformalConic.js",[],(function(){var t=Math.sign||function(t){return 0===t?0:t>0?1:-1},e=63.78137,o=Math.PI/180,r=Math.PI/2,n=1e-6,l=function(t){return Math.tan((r+t)/2)};return function(){function h(e){var r,n=(e.parallels||[]).map((function(t){return t*o})),h=n[0]||0,c=null!==(r=n[1])&&void 0!==r?r:h,d=Math.cos(h);"object"==typeof e.projectedBounds&&(this.projectedBounds=e.projectedBounds);var f=h===c?Math.sin(h):Math.log(d/Math.cos(c))/Math.log(l(c)/l(h));Math.abs(f)<1e-10&&(f=1e-10*(t(f)||1)),this.n=f,this.c=d*Math.pow(l(h),f)/f}return h.prototype.forward=function(t){var h=t[0]*o,c=this,d=c.c,f=c.n,y=c.projectedBounds,m=t[1]*o;d>0?m<-r+n&&(m=-r+n):m>r-n&&(m=r-n);var v=d/Math.pow(l(m),f),x=v*Math.sin(f*h)*e,M=(d-v*Math.cos(f*h))*e,j=[x,M];return y&&(x<y.x1||x>y.x2||M<y.y1||M>y.y2)&&(j.outside=!0),j},h.prototype.inverse=function(n){var l=n[0]/e,h=n[1]/e,c=this.c,d=this.n,f=c-h,y=t(d)*Math.sqrt(l*l+f*f),m=Math.atan2(l,Math.abs(f))*t(f);return f*d<0&&(m-=Math.PI*t(l)*t(f)),[m/d/o,(2*Math.atan(Math.pow(c/y,1/d))-r)/o]},h}()})),o(e,"Maps/Projections/EqualEarth.js",[],(function(){var t=1.340264,e=-.081106,o=893e-6,r=.003796,n=Math.sqrt(3)/2,l=74.03120656864502;return function(){function h(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return h.prototype.forward=function(h){var c=Math.PI/180,d=Math.asin(n*Math.sin(h[1]*c)),f=d*d,y=f*f*f;return[h[0]*c*Math.cos(d)*l/(n*(t+3*e*f+y*(7*o+9*r*f))),d*l*(t+e*f+y*(o+r*f))]},h.prototype.inverse=function(h){var c,d,f,i,y=h[0]/l,m=h[1]/l,v=180/Math.PI,x=m;for(i=0;i<12&&(x-=f=(x*(t+e*(c=x*x)+(d=c*c*c)*(o+r*c))-m)/(t+3*e*c+d*(7*o+9*r*c)),!(Math.abs(f)<1e-9));++i);return[v*n*y*(t+3*e*(c=x*x)+(d=c*c*c)*(7*o+9*r*c))/Math.cos(x),v*Math.asin(Math.sin(x)/n)]},h}()})),o(e,"Maps/Projections/Miller.js",[],(function(){var t=Math.PI/4,e=Math.PI/180,o=63.78137;return function(){function r(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return r.prototype.forward=function(r){return[r[0]*e*o,79.7267125*Math.log(Math.tan(t+.4*r[1]*e))]},r.prototype.inverse=function(r){return[r[0]/o/e,2.5*(Math.atan(Math.exp(r[1]/o*.8))-t)/e]},r}()})),o(e,"Maps/Projections/Orthographic.js",[],(function(){var t=Math.PI/180,e=63.78460826781007;return function(){function o(){this.antimeridianCutting=!1,this.bounds={x1:-e,x2:e,y1:-e,y2:e}}return o.prototype.forward=function(o){var r=o[0],n=o[1]*t,l=[Math.cos(n)*Math.sin(r*t)*e,Math.sin(n)*e];return(r<-90||r>90)&&(l.outside=!0),l},o.prototype.inverse=function(o){var r=o[0]/e,n=o[1]/e,l=Math.sqrt(r*r+n*n),h=Math.asin(l),c=Math.sin(h),d=Math.cos(h);return[Math.atan2(r*c,l*d)/t,Math.asin(l&&n*c/l)/t]},o}()})),o(e,"Maps/Projections/WebMercator.js",[],(function(){var t=85.0511287798,e=63.78137,o=Math.PI/180;return function(){function r(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=t}return r.prototype.forward=function(r){var n=Math.sin(r[1]*o),l=[e*r[0]*o,e*Math.log((1+n)/(1-n))/2];return Math.abs(r[1])>t&&(l.outside=!0),l},r.prototype.inverse=function(t){return[t[0]/(e*o),(2*Math.atan(Math.exp(t[1]/e))-Math.PI/2)/o]},r}()})),o(e,"Maps/Projections/ProjectionRegistry.js",[e["Maps/Projections/LambertConformalConic.js"],e["Maps/Projections/EqualEarth.js"],e["Maps/Projections/Miller.js"],e["Maps/Projections/Orthographic.js"],e["Maps/Projections/WebMercator.js"]],(function(t,e,o,r,n){return{EqualEarth:e,LambertConformalConic:t,Miller:o,Orthographic:r,WebMercator:n}})),o(e,"Maps/Projection.js",[e["Core/Geometry/PolygonClip.js"],e["Maps/Projections/ProjectionRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o){var r=this&&this.__spreadArray||function(t,e,o){if(o||2===arguments.length)for(var r,i=0,n=e.length;i<n;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},n=t.clipLineString,l=t.clipPolygon,h=o.clamp,c=o.erase,d=2*Math.PI/360,f=1e-6,y=function(t){return t<-180&&(t+=360),t>180&&(t-=360),t};return function(){function t(e){void 0===e&&(e={}),this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90,this.options=e;var o=e.name,r=e.projectedBounds,n=e.rotation;this.rotator=n?this.getRotator(n):void 0;var l=o?t.registry[o]:void 0;l&&(this.def=new l(e));var h=this.def,c=this.rotator;h&&(this.maxLatitude=h.maxLatitude||90,this.hasGeoProjection=!0),c&&h?(this.forward=function(t){return h.forward(c.forward(t))},this.inverse=function(t){return c.inverse(h.inverse(t))}):h?(this.forward=function(t){return h.forward(t)},this.inverse=function(t){return h.inverse(t)}):c&&(this.forward=c.forward,this.inverse=c.inverse),this.bounds="world"===r?h&&h.bounds:r}return t.add=function(e,o){t.registry[e]=o},t.greatCircle=function(t,e,o){var r=Math.atan2,n=Math.cos,l=Math.sin,h=Math.sqrt,c=t[1]*d,f=t[0]*d,y=e[1]*d,m=e[0]*d,v=y-c,x=m-f,M=l(v/2)*l(v/2)+n(c)*n(y)*l(x/2)*l(x/2),j=2*r(h(M),h(1-M)),C=6371e3*j,w=Math.round(C/5e5),P=[];if(o&&P.push(t),w>1)for(var S=1/w,L=S;L<.999;L+=S){var A=l((1-L)*j)/l(j),T=l(L*j)/l(j),O=A*n(c)*n(f)+T*n(y)*n(m),_=A*n(c)*l(f)+T*n(y)*l(m),z=r(A*l(c)+T*l(y),h(O*O+_*_)),B=r(_,O);P.push([B/d,z/d])}return o&&P.push(e),P},t.insertGreatCircles=function(e){for(var i=e.length-1;i--;)if(Math.max(Math.abs(e[i][0]-e[i+1][0]),Math.abs(e[i][1]-e[i+1][1]))>10){var o=t.greatCircle(e[i],e[i+1]);o.length&&e.splice.apply(e,r([i+1,0],o,!1))}},t.toString=function(t){var e=t||{},o=e.name,r=e.rotation;return[o,r&&r.join(",")].join(";")},t.prototype.lineIntersectsBounds=function(line){var t,e=this.bounds||{},o=e.x1,r=e.x2,n=e.y1,l=e.y2,h=function(line,t,e){var o=line[0],r=line[1],n=t?0:1;if("number"==typeof e&&o[t]>=e!=r[t]>=e){var l=(e-o[t])/(r[t]-o[t]),h=o[n]+l*(r[n]-o[n]);return t?[h,e]:[e,h]}},c=line[0];return((t=h(line,0,o))||(t=h(line,0,r)))&&(c=t,line[1]=t),((t=h(line,1,n))||(t=h(line,1,l)))&&(c=t),c},t.prototype.getRotator=function(t){var e=t[0]*d,o=(t[1]||0)*d,r=(t[2]||0)*d,n=Math.cos(o),l=Math.sin(o),h=Math.cos(r),c=Math.sin(r);if(0!==e||0!==o||0!==r)return{forward:function(t){var o=t[0]*d+e,r=t[1]*d,f=Math.cos(r),y=Math.cos(o)*f,m=Math.sin(o)*f,v=Math.sin(r),x=v*n+y*l;return[Math.atan2(m*h-x*c,y*n-v*l)/d,Math.asin(x*h+m*c)/d]},inverse:function(t){var o=t[0]*d,r=t[1]*d,f=Math.cos(r),y=Math.cos(o)*f,m=Math.sin(o)*f,v=Math.sin(r),x=v*h-m*c;return[(Math.atan2(m*h+v*c,y*n+x*l)-e)/d,Math.asin(x*n-y*l)/d]}}},t.prototype.forward=function(t){return t},t.prototype.inverse=function(t){return t},t.prototype.cutOnAntimeridian=function(e,o){var n,l=180,d=[],m=[e];if(e.forEach((function(t,i){var r=e[i-1];if(!i){if(!o)return;r=e[e.length-1]}var n=r[0],c=t[0];if((n<-90||n>90)&&(c<-90||c>90)&&n>0!=c>0){var f=h((l-(n+360)%360)/((c+360)%360-(n+360)%360),0,1),y=r[1]+f*(t[1]-r[1]);d.push({i:i,lat:y,direction:n<0?1:-1,previousLonLat:r,lonLat:t})}})),d.length)if(o){d.length%2==1&&(n=d.slice().sort((function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)}))[0],c(d,n));for(var i=d.length-2;i>=0;){var v=d[i].i,x=y(l+d[i].direction*f),M=y(l-d[i].direction*f);(z=e.splice.apply(e,r([v,d[i+1].i-v],t.greatCircle([x,d[i].lat],[x,d[i+1].lat],!0),!1))).push.apply(z,t.greatCircle([M,d[i+1].lat],[M,d[i].lat],!0)),m.push(z),i-=2}if(n)for(var j=0;j<m.length;j++){var C=n.direction,w=n.lat,P=m[j],S=P.indexOf(n.lonLat);if(S>-1){for(var L=(w<0?-1:1)*this.maxLatitude,A=y(l+C*f),T=y(l-C*f),O=t.greatCircle([A,w],[A,L],!0),_=A+120*C;_>-180&&_<180;_+=120*C)O.push([_,L]);O.push.apply(O,t.greatCircle([T,L],[T,n.lat],!0)),P.splice.apply(P,r([S,0],O,!1));break}}}else for(i=d.length;i--;){var z;v=d[i].i,(z=e.splice(v,e.length,[y(l+d[i].direction*f),d[i].lat])).unshift([y(l-d[i].direction*f),d[i].lat]),m.push(z)}return m},t.prototype.path=function(e){var o,r=this,h=this,c=h.bounds,d=h.def,y=h.rotator,m=180,path=[],v="Polygon"===e.type||"MultiPolygon"===e.type,x=this.hasGeoProjection,M=!d||!1!==d.antimeridianCutting,j=M?y:void 0,C=M&&d||this;c&&(o=[[c.x1,c.y1],[c.x2,c.y1],[c.x2,c.y2],[c.x1,c.y2]]);var w=function(polygon){var e=polygon.map((function(t){if(M){j&&(t=j.forward(t));var e=t[0];Math.abs(e-m)<f&&(e=e<m?179.999999:180.000001),t=[e,t[1]]}return t})),h=[e];x&&(t.insertGreatCircles(e),M&&(h=r.cutOnAntimeridian(e,v))),h.forEach((function(e){if(!(e.length<2)){var r,h,d=!1,f=!1,y=function(t){d?path.push(["L",t[0],t[1]]):(path.push(["M",t[0],t[1]]),d=!0)},m=!1,j=!1,w=e.map((function(t){var e=C.forward(t);return e.outside?m=!0:j=!0,e[1]===1/0?e[1]=1e10:e[1]===-1/0&&(e[1]=-1e10),e}));if(M){if(v&&w.push(w[0]),m){if(!j)return;if(o)if(v)w=l(w,o);else if(c)return void n(w,o).forEach((function(t){d=!1,t.forEach(y)}))}w.forEach(y)}else for(var i=0;i<w.length;i++){var P=e[i],S=w[i];S.outside?f=!0:(v&&!r&&(r=P,e.push(P),w.push(S)),f&&h&&(v&&x?t.greatCircle(h,P).forEach((function(t){return y(C.forward(t))})):d=!1),y(S),h=P,f=!1)}}}))};return"LineString"===e.type?w(e.coordinates):"MultiLineString"===e.type?e.coordinates.forEach((function(t){return w(t)})):"Polygon"===e.type?(e.coordinates.forEach((function(t){return w(t)})),path.length&&path.push(["Z"])):"MultiPolygon"===e.type&&(e.coordinates.forEach((function(t){t.forEach((function(t){return w(t)}))})),path.length&&path.push(["Z"])),path},t.registry=e,t}()})),o(e,"Maps/MapView.js",[e["Maps/MapViewOptionsDefault.js"],e["Maps/MapViewInsetsOptionsDefault.js"],e["Extensions/GeoJSON.js"],e["Core/Chart/MapChart.js"],e["Maps/MapUtilities.js"],e["Maps/Projection.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,l,h){var c,d=this&&this.__extends||(c=function(t,b){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},c(t,b)},function(t,b){function e(){this.constructor=t}c(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),f=this&&this.__spreadArray||function(t,e,o){if(o||2===arguments.length)for(var r,i=0,n=e.length;i<n;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},y=o.topo2geo,m=r.maps,v=n.boundsFromPath,x=n.pointInPolygon,M=h.addEvent,j=h.clamp,C=h.fireEvent,w=h.isArray,P=h.isNumber,S=h.isObject,L=h.isString,A=h.merge,T=h.pick,O=h.relativeLength,_=400.979322,z=function(b,t){var e=t.width,o=t.height,r=Math.max((b.x2-b.x1)/(e/256),(b.y2-b.y1)/(o/256));return Math.log(_/r)/Math.log(2)},B=function(){function e(o,r){var n,h,c=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof k)){var d=f([o.options.chart.map],(o.options.series||[]).map((function(s){return s.mapData})),!0).map((function(t){return c.getGeoMap(t)})),y=[];d.forEach((function(t){if(t&&(n||(n=t["hc-recommended-mapview"]),t.bbox)){var e=t.bbox,o=e[0],r=e[1],l=e[2],h=e[3];y.push({x1:o,y1:r,x2:l,y2:h})}}));var m=y.length&&e.compositeBounds(y);if(m){var v=m.x1,x=m.y1,j=m.x2,C=m.y2;h=j-v>180&&C-x>90?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[x,C],rotation:[-(v+j)/2]}}this.geoMap=d[0]}this.userOptions=r||{};var w=A(t,{projection:h},n,r),S=n&&n.insets,L=r&&r.insets;S&&L&&(w.insets=e.mergeInsets(S,L)),this.chart=o,this.center=w.center,this.options=w,this.projection=new l(w.projection),this.playingField=o.plotBox,this.zoom=w.zoom||0,this.createInsets(),this.eventsToUnbind.push(M(o,"afterSetChartSize",(function(){c.playingField=c.getField(),void 0!==c.minZoom&&c.minZoom!==c.zoom||(c.fitToBounds(void 0,void 0,!1),!c.chart.hasRendered&&P(c.userOptions.zoom)&&(c.zoom=c.userOptions.zoom),c.userOptions.center&&A(!0,c.center,c.userOptions.center))}))),this.setUpEvents()}return e.mergeInsets=function(a,b){var t=function(t){var e={};return t.forEach((function(t,i){e[t&&t.id||"i".concat(i)]=t})),e},e=A(t(a),t(b));return Object.keys(e).map((function(t){return e[t]}))},e.prototype.createInsets=function(){var t=this,e=this.options,o=e.insets;o&&o.forEach((function(o){var r=new k(t,A(e.insetOptions,o));t.insets.push(r)}))},e.prototype.fitToBounds=function(t,e,o,r){void 0===o&&(o=!0);var b=t||this.getProjectedBounds();if(b){var n=T(e,t?0:this.options.padding),l=this.getField(!1),h=w(n)?n:[n,n,n,n];this.padding=[O(h[0],l.height),O(h[1],l.width),O(h[2],l.height),O(h[3],l.width)],this.playingField=this.getField();var c=z(b,this.playingField);t||(this.minZoom=c);var d=this.projection.inverse([(b.x2+b.x1)/2,(b.y2+b.y1)/2]);this.setView(d,c,o,r)}},e.prototype.getField=function(t){void 0===t&&(t=!0);var e=t?this.padding:[0,0,0,0];return{x:e[3],y:e[0],width:this.chart.plotWidth-e[1]-e[3],height:this.chart.plotHeight-e[0]-e[2]}},e.prototype.getGeoMap=function(map){if(L(map))return m[map];if(S(map,!0)){if("FeatureCollection"===map.type)return map;if("Topology"===map.type)return y(map)}},e.prototype.getMapBBox=function(){var t=this.getProjectedBounds(),e=this.getScale();if(t){var o=this.padding,r=this.projectedUnitsToPixels({x:t.x1,y:t.y2});return{width:(t.x2-t.x1)*e+o[1]+o[3],height:(t.y2-t.y1)*e+o[0]+o[2],x:r.x-o[3],y:r.y-o[0]}}},e.prototype.getProjectedBounds=function(){var t=this.projection,o=this.chart.series.reduce((function(t,s){var e=s.getProjectedBounds&&s.getProjectedBounds();return e&&!1!==s.options.affectsMapView&&t.push(e),t}),[]),r=this.options.fitToGeometry;if(r){if(!this.fitToGeometryCache)if("MultiPoint"===r.type){var n=r.coordinates.map((function(e){return t.forward(e)})),l=n.map((function(t){return t[0]})),h=n.map((function(t){return t[1]}));this.fitToGeometryCache={x1:Math.min.apply(0,l),x2:Math.max.apply(0,l),y1:Math.min.apply(0,h),y2:Math.max.apply(0,h)}}else this.fitToGeometryCache=v(t.path(r));return this.fitToGeometryCache}return this.projection.bounds||e.compositeBounds(o)},e.prototype.getScale=function(){return 256/_*Math.pow(2,this.zoom)},e.prototype.getSVGTransform=function(){var t=this.playingField,e=t.x,o=t.y,r=t.width,n=t.height,l=this.projection.forward(this.center),h=this.projection.hasCoordinates?-1:1,c=this.getScale(),d=c*h;return{scaleX:c,scaleY:d,translateX:e+r/2-l[0]*c,translateY:o+n/2-l[1]*d}},e.prototype.lonLatToPixels=function(t){var e=this.lonLatToProjectedUnits(t);if(e)return this.projectedUnitsToPixels(e)},e.prototype.lonLatToProjectedUnits=function(t){var e=this.chart,o=e.mapTransforms;if(o){for(var r in o)if(Object.hasOwnProperty.call(o,r)&&o[r].hitZone){var n=e.transformFromLatLon(t,o[r]);if(n&&x(n,o[r].hitZone.coordinates[0]))return n}return e.transformFromLatLon(t,o.default)}for(var l=0,h=this.insets;l<h.length;l++){var c=h[l];if(c.options.geoBounds&&x({x:t.lon,y:t.lat},c.options.geoBounds.coordinates[0])){var d=c.projection.forward([t.lon,t.lat]),f=c.projectedUnitsToPixels({x:d[0],y:d[1]});return this.pixelsToProjectedUnits(f)}}var y=this.projection.forward([t.lon,t.lat]);if(!y.outside)return{x:y[0],y:y[1]}},e.prototype.projectedUnitsToLonLat=function(t){var e=this.chart,o=e.mapTransforms;if(o){for(var r in o)if(Object.hasOwnProperty.call(o,r)&&o[r].hitZone&&x(t,o[r].hitZone.coordinates[0]))return e.transformToLatLon(t,o[r]);return e.transformToLatLon(t,o.default)}for(var n=this.projectedUnitsToPixels(t),l=0,h=this.insets;l<h.length;l++){var c=h[l];if(c.hitZone&&x(n,c.hitZone.coordinates[0])){var d=c.pixelsToProjectedUnits(n),f=c.projection.inverse([d.x,d.y]);return{lon:f[0],lat:f[1]}}}var y=this.projection.inverse([t.x,t.y]);return{lon:y[0],lat:y[1]}},e.prototype.redraw=function(t){this.chart.series.forEach((function(s){s.useMapGeometry&&(s.isDirty=!0)})),this.chart.redraw(t)},e.prototype.setView=function(t,e,o,r){void 0===o&&(o=!0),t&&(this.center=t),"number"==typeof e&&("number"==typeof this.minZoom&&(e=Math.max(e,this.minZoom)),"number"==typeof this.options.maxZoom&&(e=Math.min(e,this.options.maxZoom)),P(e)&&(this.zoom=e));var n=this.getProjectedBounds();if(n){var l=this.projection.forward(this.center),h=this.playingField,c=h.x,d=h.y,f=h.width,y=h.height,m=this.getScale(),v=this.projectedUnitsToPixels({x:n.x1,y:n.y1}),x=this.projectedUnitsToPixels({x:n.x2,y:n.y2}),M=[(n.x1+n.x2)/2,(n.y1+n.y2)/2],j=v.x,w=x.y,S=x.x,L=v.y;S-j<f?l[0]=M[0]:j<c&&S<c+f?l[0]+=Math.max(j-c,S-f-c)/m:S>c+f&&j>c&&(l[0]+=Math.min(S-f-c,j-c)/m),L-w<y?l[1]=M[1]:w<d&&L<d+y?l[1]-=Math.max(w-d,L-y-d)/m:L>d+y&&w>d&&(l[1]-=Math.min(L-y-d,w-d)/m),this.center=this.projection.inverse(l),this.insets.forEach((function(t){t.options.field&&(t.hitZone=t.getHitZone(),t.playingField=t.getField())})),this.render()}C(this,"afterSetView"),o&&this.redraw(r)},e.prototype.projectedUnitsToPixels=function(t){var e=this.getScale(),o=this.projection.forward(this.center),r=this.playingField,n=r.x+r.width/2,l=r.y+r.height/2;return{x:n-e*(o[0]-t.x),y:l+e*(o[1]-t.y)}},e.prototype.pixelsToLonLat=function(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))},e.prototype.pixelsToProjectedUnits=function(t){var e=t.x,o=t.y,r=this.getScale(),n=this.projection.forward(this.center),l=this.playingField,h=l.x+l.width/2,c=l.y+l.height/2;return{x:n[0]+(e-h)/r,y:n[1]-(o-c)/r}},e.prototype.setUpEvents=function(){var t,e,o,r=this,n=this.chart,l=function(l){var h=n.pointer.pinchDown,c=r.projection,d=n.mouseDownX,f=n.mouseDownY;if(1===h.length&&(d=h[0].chartX,f=h[0].chartY),"number"==typeof d&&"number"==typeof f){var y=""+d+",".concat(f),m=l.originalEvent,v=m.chartX,x=m.chartY;y!==e&&(e=y,t=r.projection.forward(r.center),o=(r.projection.options.rotation||[0,0]).slice());var M=c.def&&c.def.bounds,C=M&&z(M,r.playingField)||-1/0;if("Orthographic"===c.options.name&&(r.minZoom||1/0)<1.1*C){var w=440/(r.getScale()*Math.min(n.plotWidth,n.plotHeight));if(o){var S=(d-v)*w-o[0],L=j(-o[1]-(f-x)*w,-80,80),A=r.zoom;r.update({projection:{rotation:[-S,-L]}},!1),r.zoom=A,n.redraw(!1)}}else if(P(v)&&P(x)){var T=r.getScale(),O=r.projection.hasCoordinates?1:-1,_=r.projection.inverse([t[0]+(d-v)/T,t[1]-(f-x)/T*O]);r.setView(_,void 0,!0,!1)}l.preventDefault()}};M(n,"pan",l),M(n,"touchpan",l),M(n,"selection",(function(t){if(t.resetSelection)r.zoomBy();else{var e=t.x-n.plotLeft,o=t.y-n.plotTop,l=r.pixelsToProjectedUnits({x:e,y:o}),h=l.y,c=l.x,d=r.pixelsToProjectedUnits({x:e+t.width,y:o+t.height}),f=d.y,y=d.x;r.fitToBounds({x1:c,y1:h,x2:y,y2:f},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||n.showResetZoom(),t.preventDefault()}}))},e.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},e.prototype.update=function(t,e,o){void 0===e&&(e=!0);var r=t.projection,n=r&&l.toString(r)!==l.toString(this.options.projection),h=!1;A(!0,this.userOptions,t),A(!0,this.options,t),"insets"in t&&(this.insets.forEach((function(t){return t.destroy()})),this.insets.length=0,h=!0),(n||"fitToGeometry"in t)&&delete this.fitToGeometryCache,(n||h)&&(this.chart.series.forEach((function(t){var e=t.transformGroups;if(t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0,h&&e)for(;e.length>1;){var o=e.pop();o&&o.destroy()}})),n&&(this.projection=new l(this.options.projection)),h&&this.createInsets(),t.center||P(t.zoom)||this.fitToBounds(void 0,void 0,!1)),t.center||P(t.zoom)?this.setView(this.options.center,t.zoom,!1):"fitToGeometry"in t&&this.fitToBounds(void 0,void 0,!1),e&&this.chart.redraw(o)},e.prototype.zoomBy=function(t,e,o,r){var n=this.chart,l=this.projection.forward(this.center),h=e?this.projection.forward(e):[],c=h[0],d=h[1];if("number"==typeof t){var f=this.zoom+t,y=void 0;if(o){var m=o[0],v=o[1],x=this.getScale(),M=m-n.plotLeft-n.plotWidth/2,j=v-n.plotTop-n.plotHeight/2;c=l[0]+M/x,d=l[1]+j/x}"number"==typeof c&&"number"==typeof d&&(x=1-Math.pow(2,this.zoom)/Math.pow(2,f),M=l[0]-c,j=l[1]-d,l[0]-=M*x,l[1]+=j*x,y=this.projection.inverse(l)),this.setView(y,f,void 0,r)}else this.fitToBounds(void 0,void 0,void 0,r)},e.compositeBounds=function(t){if(t.length)return t.slice(1).reduce((function(t,e){return t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t}),A(t[0]))},e}(),k=function(t){function o(o,r){var n=t.call(this,o.chart,r)||this;if(n.id=r.id,n.mapView=o,n.options=A(e,r),n.allBounds=[],n.options.geoBounds){var path=o.projection.path(n.options.geoBounds);n.geoBoundsProjectedBox=v(path),n.geoBoundsProjectedPolygon=path.map((function(t){return[t[1]||0,t[2]||0]}))}return n}return d(o,t),o.prototype.getField=function(e){void 0===e&&(e=!0);var o=this.hitZone;if(o){var r=e?this.padding:[0,0,0,0],polygon=o.coordinates[0],n=polygon.map((function(t){return t[0]})),l=polygon.map((function(t){return t[1]})),h=Math.min.apply(0,n)+r[3],c=Math.max.apply(0,n)-r[1],d=Math.min.apply(0,l)+r[0],f=Math.max.apply(0,l)-r[2];if(P(h)&&P(d))return{x:h,y:d,width:c-h,height:f-d}}return t.prototype.getField.call(this,e)},o.prototype.getHitZone=function(){var t=this,e=t.chart,o=t.mapView,r=t.options,n=(r.field||{}).coordinates;if(n){var polygon=n[0];if("percent"===r.units){var l="mapBoundingBox"===r.relativeTo&&o.getMapBBox()||A(e.plotBox,{x:0,y:0});polygon=polygon.map((function(t){return[O(t[0]+"%",l.width,l.x),O(t[1]+"%",l.height,l.y)]}))}return{type:"Polygon",coordinates:[polygon]}}},o.prototype.getProjectedBounds=function(){return B.compositeBounds(this.allBounds)},o.prototype.isInside=function(t){var e=this.geoBoundsProjectedBox,o=this.geoBoundsProjectedPolygon;return Boolean(e&&t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2&&o&&x(t,o))},o.prototype.render=function(){var t=this,e=t.chart,o=t.mapView,r=t.options,n=r.borderPath||r.field;if(n&&o.group){var animate=!0;this.border||(this.border=e.renderer.path().addClass("highcharts-mapview-inset-border").add(o.group),animate=!1),e.styledMode||this.border.attr({stroke:r.borderColor,"stroke-width":r.borderWidth});var l=Math.round(this.border.strokeWidth())%2/2,h="mapBoundingBox"===r.relativeTo&&o.getMapBBox()||o.playingField,c=(n.coordinates||[]).reduce((function(t,o){return o.reduce((function(t,o,i){var n=o[0],c=o[1];return"percent"===r.units&&(n=e.plotLeft+O(n+"%",h.width,h.x),c=e.plotTop+O(c+"%",h.height,h.y)),n=Math.floor(n)+l,c=Math.floor(c)+l,t.push(0===i?["M",n,c]:["L",n,c]),t}),t)}),[]);this.border[animate?"animate":"attr"]({d:c})}},o.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach((function(t){return t()}))},o.prototype.setUpEvents=function(){},o}(B);return M(r,"afterInit",(function(){this.mapView=new B(this,this.options.mapView)})),B})),o(e,"Series/Map/MapSeries.js",[e["Core/Animation/AnimationUtilities.js"],e["Series/ColorMapComposition.js"],e["Series/CenteredUtilities.js"],e["Core/Globals.js"],e["Core/Legend/LegendSymbol.js"],e["Core/Chart/MapChart.js"],e["Series/Map/MapPoint.js"],e["Maps/MapView.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,l,h,c,d,f,y,m){var v,x=this&&this.__extends||(v=function(t,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},v(t,b)},function(t,b){function e(){this.constructor=t}v(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),M=t.animObject,j=r.noop,C=l.splitPath,w=f.seriesTypes,P=w.column,S=w.scatter,L=m.extend,A=m.find,T=m.fireEvent,O=m.getNestedProperty,_=m.isArray,z=m.defined,B=m.isNumber,k=m.isObject,I=m.merge,E=m.objectEach,D=m.pick,V=m.splat,G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chart=void 0,e.data=void 0,e.group=void 0,e.joinBy=void 0,e.options=void 0,e.points=void 0,e.processedData=[],e}return x(e,t),e.prototype.animate=function(t){var e=this.chart,o=this.group,r=M(this.options.animation);e.renderer.isSVG&&(t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},r))},e.prototype.animateDrilldown=function(t){var e=this.chart,o=this.group;e.renderer.isSVG&&(t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup)))},e.prototype.animateDrillupFrom=function(){var t=this.chart;t.renderer.isSVG&&this.group.animate({translateX:t.plotLeft+t.plotWidth/2,translateY:t.plotTop+t.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},e.prototype.animateDrillupTo=function(t){P.prototype.animateDrillupTo.call(this,t)},e.prototype.clearBounds=function(){this.points.forEach((function(t){delete t.bounds,delete t.insetIndex,delete t.projectedPath})),delete this.bounds},e.prototype.doFullTranslate=function(){return Boolean(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.hasRendered)},e.prototype.drawMapDataLabels=function(){d.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},e.prototype.drawPoints=function(){var t=this,e=this,o=this,r=o.chart,n=o.group,l=o.transformGroups,h=void 0===l?[]:l,c=r.mapView,d=r.renderer;c&&(this.transformGroups=h,h[0]||(h[0]=d.g().add(n)),c.insets.forEach((function(t,i){h[i+1]||h.push(d.g().add(n))})),this.doFullTranslate()&&(this.points.forEach((function(e){var o=e.graphic,n=e.shapeArgs;e.group=h["number"==typeof e.insetIndex?e.insetIndex+1:0],o&&o.parentGroup!==e.group&&o.add(e.group),n&&r.hasRendered&&!r.styledMode&&(n.fill=t.pointAttribs(e,e.state).fill)})),P.prototype.drawPoints.apply(this),this.points.forEach((function(o){var n=o.graphic;if(n){var l=n.animate,h="";o.name&&(h+="highcharts-name-"+o.name.replace(/ /g,"-").toLowerCase()),o.properties&&o.properties["hc-key"]&&(h+=" highcharts-key-"+o.properties["hc-key"].toString().toLowerCase()),h&&n.addClass(h),r.styledMode&&n.css(t.pointAttribs(o,o.selected?"select":void 0)),n.animate=function(t,o,h){var c=B(t["stroke-width"])&&!B(n["stroke-width"]),d=B(n["stroke-width"])&&!B(t["stroke-width"]);if(c||d){var f=D(e.getStrokeWidth(e.options),1)/(r.mapView&&r.mapView.getScale()||1);c&&(n["stroke-width"]=f),d&&(t["stroke-width"]=f)}var y=l.call(n,t,o,d?function(){n.element.removeAttribute("stroke-width"),delete n["stroke-width"],h&&h.apply(this,arguments)}:h);return y}}}))),h.forEach((function(o,i){var n=(0===i?c:c.insets[i-1]).getSVGTransform(),l=D(t.getStrokeWidth(t.options),1),h=n.scaleX,f=n.scaleY>0?1:-1,y=function(o){(e.points||[]).forEach((function(e){var r,n=e.graphic;n&&n["stroke-width"]&&(r=t.getStrokeWidth(e.options))&&n.attr({"stroke-width":r/o})}))};if(d.globalAnimation&&r.hasRendered){var m=Number(o.attr("translateX")),v=Number(o.attr("translateY")),x=Number(o.attr("scaleX"));o.attr({animator:0}).animate({animator:1},{step:function(t,e){var r=x+(h-x)*e.pos;o.attr({translateX:m+(n.translateX-m)*e.pos,translateY:v+(n.translateY-v)*e.pos,scaleX:r,scaleY:r*f,"stroke-width":l/r}),y(r)}})}else o.attr(I(n,{"stroke-width":l/h})),y(h)})),this.drawMapDataLabels())},e.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var t=this.chart.mapView,e=t.insets,o=t.projection,r=[];(this.points||[]).forEach((function(t){if(t.path||t.geometry){if("string"==typeof t.path?t.path=C(t.path):_(t.path)&&"M"===t.path[0]&&(t.path=y.prototype.pathToSegments(t.path)),!t.bounds){var n=t.getProjectedBounds(o);if(n){t.labelrank=D(t.labelrank,(n.x2-n.x1)*(n.y2-n.y1));var l=n.midX,h=n.midY;if(e&&B(l)&&B(h)){var c=A(e,(function(t){return t.isInside({x:l,y:h})}));c&&(delete t.projectedPath,(n=t.getProjectedBounds(c.projection))&&c.allBounds.push(n),t.insetIndex=e.indexOf(c))}t.bounds=n}}t.bounds&&void 0===t.insetIndex&&r.push(t.bounds)}})),this.bounds=c.compositeBounds(r)}return this.bounds},e.prototype.getStrokeWidth=function(t){var e=this.pointAttrToOptions;return t[e&&e["stroke-width"]||"borderWidth"]},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.pointAttribs=function(t,e){var o=t.series.chart,r=o.mapView,n=o.styledMode?this.colorAttribs(t):P.prototype.pointAttribs.call(this,t,e),l=this.getStrokeWidth(t.options);if(e){var h=I(this.options.states[e],t.options.states&&t.options.states[e]||{}),c=this.getStrokeWidth(h);z(c)&&(l=c)}l&&r&&(l/=r.getScale());var d=this.getStrokeWidth(this.options);return n.dashstyle&&r&&B(d)&&(l=d/r.getScale()),t.visible||(n.fill=this.options.nullColor),z(l)?n["stroke-width"]=l:delete n["stroke-width"],n["stroke-linecap"]=n["stroke-linejoin"]=this.options.linecap,n},e.prototype.updateData=function(){return!this.processedData&&t.prototype.updateData.apply(this,arguments)},e.prototype.setData=function(data,e,o,r){void 0===e&&(e=!0),delete this.bounds,t.prototype.setData.call(this,data,!1,void 0,r),this.processData(),this.generatePoints(),e&&this.chart.redraw(o)},e.prototype.processData=function(){var t,e,i,o,n=this.options,data=n.data,l=this.chart.options.chart,c=this.joinBy,d=n.keys||this.pointArrayMap,f=[],y={},m=this.chart.mapView,v=m&&(k(n.mapData,!0)?m.getGeoMap(n.mapData):m.geoMap),x=this.chart.mapTransforms;this.chart.mapTransforms=x=l.mapTransforms||v&&v["hc-transform"]||x,x&&E(x,(function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))})),_(n.mapData)?o=n.mapData:v&&"FeatureCollection"===v.type&&(this.mapTitle=v.title,o=r.geojson(v,this.type,this)),this.processedData=[];var M=this.processedData;if(data&&data.forEach((function(t,i){var e=0;if(B(t))M[i]={value:t};else if(_(t)){M[i]={},!n.keys&&t.length>d.length&&"string"==typeof t[0]&&(M[i]["hc-key"]=t[0],++e);for(var o=0;o<d.length;++o,++e)d[o]&&void 0!==t[e]&&(d[o].indexOf(".")>0?h.prototype.setNestedProperty(M[i],t[e],d[o]):M[i][d[o]]=t[e])}else M[i]=data[i];c&&"_i"===c[0]&&(M[i]._i=i)})),o){for(this.mapData=o,this.mapMap={},i=0;i<o.length;i++)e=(t=o[i]).properties,t._i=i,c[0]&&e&&e[c[0]]&&(t[c[0]]=e[c[0]]),y[t[c[0]]]=t;if(this.mapMap=y,c[1]){var j=c[1];M.forEach((function(t){var e=O(j,t);y[e]&&f.push(y[e])}))}if(n.allAreas){if(c[1]){var C=c[1];M.forEach((function(t){f.push(O(C,t))}))}var w="|"+f.map((function(t){return t&&t[c[0]]})).join("|")+"|";o.forEach((function(t){c[0]&&-1!==w.indexOf("|"+t[c[0]]+"|")||M.push(I(t,{value:null}))}))}}this.processedXData=new Array(M.length)},e.prototype.setOptions=function(t){var e=d.prototype.setOptions.call(this,t),o=e.joinBy;return null===o&&(o="_i"),(o=this.joinBy=V(o))[1]||(o[1]=o[0]),e},e.prototype.translate=function(){var t=this,e=t.doFullTranslate(),o=this.chart.mapView,r=o&&o.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!o||o.userOptions.center||B(o.userOptions.zoom)?this.getProjectedBounds():o.fitToBounds(void 0,void 0,!1)),o){var n=o.getSVGTransform();t.points.forEach((function(t){var l=B(t.insetIndex)&&o.insets[t.insetIndex].getSVGTransform()||n;l&&t.bounds&&B(t.bounds.midX)&&B(t.bounds.midY)&&(t.plotX=t.bounds.midX*l.scaleX+l.translateX,t.plotY=t.bounds.midY*l.scaleY+l.translateY),e&&(t.shapeType="path",t.shapeArgs={d:h.getProjectedPath(t,r)})}))}T(t,"afterTranslate")},e.defaultOptions=I(S.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return B(e)?t(e,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"butt",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"}}}),e}(S);return L(G.prototype,{type:"map",axisTypes:e.seriesMembers.axisTypes,colorAttribs:e.seriesMembers.colorAttribs,colorKey:e.seriesMembers.colorKey,directTouch:!0,drawDataLabels:j,drawGraph:j,drawLegendSymbol:n.drawRectangle,forceDL:!0,getCenter:o.getCenter,getExtremesFromAll:!0,getSymbol:j,isCartesian:!1,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:e.seriesMembers.pointArrayMap,pointClass:h,preserveAspectRatio:!0,searchPoint:j,trackerGroups:e.seriesMembers.trackerGroups,useMapGeometry:!0}),e.compose(G),f.registerSeriesType("map",G),G})),o(e,"Series/MapLine/MapLineSeries.js",[e["Series/Map/MapSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o){var r,n=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),l=e.series,h=o.extend,c=o.merge,d=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return n(o,e),o.prototype.pointAttribs=function(e,o){var r=t.prototype.pointAttribs.call(this,e,o);return r.fill=this.options.fillColor,r},o.defaultOptions=c(t.defaultOptions,{lineWidth:1,fillColor:"none"}),o}(t);return h(d.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:l.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),e.registerSeriesType("mapline",d),d})),o(e,"Series/MapPoint/MapPointPoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){var o,r=this&&this.__extends||(o=function(t,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},o(t,b)},function(t,b){function e(){this.constructor=t}o(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),n=t.seriesTypes.scatter,l=e.isNumber,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e}return r(e,t),e.prototype.isValid=function(){return Boolean(this.options.geometry||l(this.x)&&l(this.y)||l(this.options.lon)&&l(this.options.lat))},e}(n.prototype.pointClass);return h})),o(e,"Series/MapPoint/MapPointSeries.js",[e["Core/Globals.js"],e["Series/MapPoint/MapPointPoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n){var l,h=this&&this.__extends||(l=function(t,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},l(t,b)},function(t,b){function e(){this.constructor=t}l(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),c=t.noop,d=o.seriesTypes,f=d.map,y=d.scatter,m=n.extend,v=n.fireEvent,x=n.isNumber,M=n.merge,j=(n.pick,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chart=void 0,e.data=void 0,e.options=void 0,e.points=void 0,e.clearBounds=f.prototype.clearBounds,e}return h(e,t),e.prototype.drawDataLabels=function(){t.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},e.prototype.projectPoint=function(t){var e=this.chart.mapView;if(e){var o=t.geometry,r=t.lon,n=t.lat,l=o&&"Point"===o.type&&o.coordinates;if(x(r)&&x(n)&&(l=[r,n]),l)return e.lonLatToProjectedUnits({lon:l[0],lat:l[1]})}},e.prototype.translate=function(){var t=this,e=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),e){var o=e.getSVGTransform(),r=e.projection.hasCoordinates;this.points.forEach((function(p){var n,l=p.x,h=void 0===l?void 0:l,c=p.y,d=void 0===c?void 0:c,f=x(p.insetIndex)&&e.insets[p.insetIndex].getSVGTransform()||o,y=t.projectPoint(p.options)||p.properties&&t.projectPoint(p.properties);if(y?(h=y.x,d=y.y):p.bounds&&(h=p.bounds.midX,d=p.bounds.midY,f&&x(h)&&x(d)&&(p.plotX=h*f.scaleX+f.translateX,p.plotY=d*f.scaleY+f.translateY,n=!0)),x(h)&&x(d)){if(!n){var m=e.projectedUnitsToPixels({x:h,y:d});p.plotX=m.x,p.plotY=r?m.y:t.chart.plotHeight-m.y}}else p.y=p.plotX=p.plotY=void 0;p.isInside=t.isPointInside(p),p.zone=t.zones.length?p.getZone():void 0}))}v(this,"afterTranslate")},e.defaultOptions=M(y.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),e}(y));return r.prototype.symbols.mapmarker=function(t,e,o,r,n){var l,h,c=n&&"legend"===n.context;c?(l=t+o/2,h=e+r):n&&"number"==typeof n.anchorX&&"number"==typeof n.anchorY?(l=n.anchorX,h=n.anchorY):(l=t+o/2,h=e+r/2,e-=r);var d=c?r/3:r/2;return[["M",l,h],["C",l,h,l-d,e+1.5*d,l-d,e+d],["A",d,d,1,1,1,l+d,e+d],["C",l+d,e+1.5*d,l,h,l,h],["Z"]]},m(j.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:c,useMapGeometry:!0}),o.registerSeriesType("mappoint",j),j})),o(e,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),o(e,"Series/Bubble/BubbleLegendItem.js",[e["Core/Color/Color.js"],e["Core/FormatUtilities.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,o,r){var n=t.parse,l=o.noop,h=r.arrayMax,c=r.arrayMin,d=r.isNumber,f=r.merge,y=r.pick,m=r.stableSort;return function(){function t(t,legend){this.chart=void 0,this.fontMetrics=void 0,this.legend=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=l,this.init(t,legend)}return t.prototype.init=function(t,legend){this.options=t,this.visible=!0,this.chart=legend.chart,this.legend=legend},t.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},t.prototype.drawLegendSymbol=function(legend){var t,e=this.chart,o=y(legend.options.itemDistance,20),r=this.legendItem||{},n=this.options,l=n.ranges,h=n.connectorDistance;if(this.fontMetrics=e.renderer.fontMetrics(n.labels.style.fontSize),l&&l.length&&d(l[0].value)){m(l,(function(a,b){return b.value-a.value})),this.ranges=l,this.setOptions(),this.render();var c=this.getMaxLabelSize(),f=this.ranges[0].radius,v=2*f;t=(t=h-f+c.width)>0?t:0,this.maxLabel=c,this.movementX="left"===n.labels.align?t:0,r.labelWidth=v+t+o,r.labelHeight=v+this.fontMetrics.h/2}else legend.options.bubbleLegend.autoRanges=!0},t.prototype.setOptions=function(){var t=this.ranges,e=this.options,o=this.chart.series[e.seriesIndex],r=this.legend.baseline,l={zIndex:e.zIndex,"stroke-width":e.borderWidth},h={zIndex:e.zIndex,"stroke-width":e.connectorWidth},c={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},d=o.options.marker.fillOpacity,m=this.chart.styledMode;t.forEach((function(v,i){m||(l.stroke=y(v.borderColor,e.borderColor,o.color),l.fill=y(v.color,e.color,1!==d?n(o.color).setOpacity(d).get("rgba"):o.color),h.stroke=y(v.connectorColor,e.connectorColor,o.color)),t[i].radius=this.getRangeRadius(v.value),t[i]=f(t[i],{center:t[0].radius-t[i].radius+r}),m||f(!0,t[i],{bubbleAttribs:f(l),connectorAttribs:f(h),labelAttribs:c})}),this)},t.prototype.getRangeRadius=function(t){var e=this.options,o=this.options.seriesIndex,r=this.chart.series[o],n=e.ranges[0].value,l=e.ranges[e.ranges.length-1].value,h=e.minSize,c=e.maxSize;return r.getRadius.call(this,l,n,h,c,t)},t.prototype.render=function(){var t=this.legendItem||{},e=this.chart.renderer,o=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item"),t.symbol.translateX=0,t.symbol.translateY=0;for(var r=0,n=this.ranges;r<n.length;r++){var l=n[r];l.value>=o&&this.renderRange(l)}t.symbol.add(t.label),t.label.add(t.group),this.hideOverlappingLabels()},t.prototype.renderRange=function(t){var e=this.ranges[0],legend=this.legend,o=this.options,r=o.labels,n=this.chart,l=n.series[o.seriesIndex],h=n.renderer,c=this.symbols,d=c.labels,f=t.center,y=Math.abs(t.radius),m=o.connectorDistance||0,v=r.align,x=legend.options.rtl,M=o.borderWidth,j=o.connectorWidth,C=e.radius||0,w=f-y-M/2+j/2,P=this.fontMetrics,S=P.f/2-(P.h-P.f)/2,L=(w%1?1:.5)-(j%2?0:.5),A=h.styledMode,T=x||"left"===v?-m:m;"center"===v&&(T=0,o.connectorDistance=0,t.labelAttribs.align="center");var O=w+o.labels.y,_=C+T+o.labels.x;c.bubbleItems.push(h.circle(C,f+L,y).attr(A?{}:t.bubbleAttribs).addClass((A?"highcharts-color-"+l.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(o.className||"")).add(this.legendItem.symbol)),c.connectors.push(h.path(h.crispLine([["M",C,w],["L",C+T,w]],o.connectorWidth)).attr(A?{}:t.connectorAttribs).addClass((A?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(o.connectorClassName||"")).add(this.legendItem.symbol));var label=h.text(this.formatLabel(t),_,O+S).attr(A?{}:t.labelAttribs).css(A?{}:r.style).addClass("highcharts-bubble-legend-labels "+(o.labels.className||"")).add(this.legendItem.symbol);d.push(label),label.placed=!0,label.alignAttr={x:_,y:O+S}},t.prototype.getMaxLabelSize=function(){var t,e;return this.symbols.labels.forEach((function(label){e=label.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}},t.prototype.formatLabel=function(t){var o=this.options,r=o.labels.formatter,n=o.labels.format,l=this.chart.numberFormatter;return n?e.format(n,t):r?r.call(t):l(t.value,1)},t.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.options.labels.allowOverlap,o=this.symbols;!e&&o&&(t.hideOverlappingLabels(o.labels),o.labels.forEach((function(label,t){label.newOpacity?label.newOpacity!==label.oldOpacity&&o.connectors[t].show():o.connectors[t].hide()})))},t.prototype.getRanges=function(){var t,e,o=this.legend.bubbleLegend,r=o.chart.series,n=o.options.ranges,l=Number.MAX_VALUE,m=-Number.MAX_VALUE;return r.forEach((function(s){s.isBubble&&!s.ignoreSeries&&(e=s.zData.filter(d)).length&&(l=y(s.options.zMin,Math.min(l,Math.max(c(e),!1===s.options.displayNegative?s.options.zThreshold:-Number.MAX_VALUE))),m=y(s.options.zMax,Math.max(m,h(e))))})),t=l===m?[{value:m}]:[{value:l},{value:(l+m)/2},{value:m,autoRanges:!0}],n.length&&n[0].radius&&t.reverse(),t.forEach((function(e,i){n&&n[i]&&(t[i]=f(n[i],e))})),t},t.prototype.predictBubbleSizes=function(){var t,e=this.chart,o=this.fontMetrics,r=e.legend.options,n=r.floating,l="horizontal"===r.layout,h=l?e.legend.lastLineHeight:0,c=e.plotSizeX,d=e.plotSizeY,f=e.series[this.options.seriesIndex],y=f.getPxExtremes(),m=Math.ceil(y.minPxSize),v=Math.ceil(y.maxPxSize),x=Math.min(d,c),M=f.options.maxSize;return n||!/%$/.test(M)?t=v:(M=parseFloat(M),t=(x+h-o.h/2)*M/100/(M/100+1),(l&&d-t>=c||!l&&c-t>=d)&&(t=v)),[m,Math.ceil(t)]},t.prototype.updateRanges=function(t,e){var o=this.legend.options.bubbleLegend;o.minSize=t,o.maxSize=e,o.ranges=this.getRanges()},t.prototype.correctSizes=function(){var legend=this.legend,t=this.chart.series[this.options.seriesIndex].getPxExtremes(),e=t.maxPxSize,o=this.options.maxSize;Math.abs(Math.ceil(e)-o)>1&&(this.updateRanges(this.options.minSize,t.maxPxSize),legend.render())},t}()})),o(e,"Series/Bubble/BubbleLegendComposition.js",[e["Series/Bubble/BubbleLegendDefaults.js"],e["Series/Bubble/BubbleLegendItem.js"],e["Core/Defaults.js"],e["Core/Utilities.js"]],(function(t,e,o,r){var n=o.setOptions,l=r.addEvent,h=r.objectEach,c=r.wrap,d=[];function f(t,e,o){var r,n,l,c=this,legend=c.legend,d=y(c)>=0;legend&&legend.options.enabled&&legend.bubbleLegend&&legend.options.bubbleLegend.autoRanges&&d?(r=legend.bubbleLegend.options,n=legend.bubbleLegend.predictBubbleSizes(),legend.bubbleLegend.updateRanges(n[0],n[1]),r.placed||(legend.group.placed=!1,legend.allItems.forEach((function(t){(l=t.legendItem||{}).group&&(l.group.translateY=null)}))),legend.render(),c.getMargins(),c.axes.forEach((function(t){t.visible&&t.render(),r.placed||(t.setScale(),t.updateNames(),h(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),r.placed=!0,c.getMargins(),t.call(c,e,o),legend.bubbleLegend.correctSizes(),M(legend,m(legend))):(t.call(c,e,o),legend&&legend.options.enabled&&legend.bubbleLegend&&(legend.render(),M(legend,m(legend))))}function y(t){for(var e=t.series,i=0;i<e.length;){if(e[i]&&e[i].isBubble&&e[i].visible&&e[i].zData.length)return i;i++}return-1}function m(legend){var t,e,o,r=legend.allItems,n=[],l=r.length,i=0,h=0;for(i=0;i<l;i++)if(e=r[i].legendItem||{},o=(r[i+1]||{}).legendItem||{},e.labelHeight&&(r[i].itemHeight=e.labelHeight),r[i]===r[l-1]||e.y!==o.y){for(n.push({height:0}),t=n[n.length-1];h<=i;h++)r[h].itemHeight>t.height&&(t.height=r[h].itemHeight);t.step=i}return n}function v(t){var legend=this,o=legend.bubbleLegend,r=legend.options,n=r.bubbleLegend,l=y(legend.chart);o&&o.ranges&&o.ranges.length&&(n.ranges.length&&(n.autoRanges=!!n.ranges[0].autoRanges),legend.destroyItem(o)),l>=0&&r.enabled&&n.enabled&&(n.seriesIndex=l,legend.bubbleLegend=new e(n,legend),legend.bubbleLegend.addToLegend(t.allItems))}function x(){var t,e=this,o=e.chart,r=e.visible,legend=e.chart.legend;legend&&legend.bubbleLegend&&(e.visible=!r,e.ignoreSeries=r,t=y(o)>=0,legend.bubbleLegend.visible!==t&&(legend.update({bubbleLegend:{enabled:t}}),legend.bubbleLegend.visible=t),e.visible=r)}function M(legend,t){var e,o,r,n,l=legend.allItems,h=legend.options.rtl,c=0;l.forEach((function(l,d){(n=l.legendItem||{}).group&&(e=n.group.translateX||0,o=n.y||0,((r=l.movementX)||h&&l.ranges)&&(r=h?e-l.options.maxSize/2:e+r,n.group.attr({translateX:r})),d>t[c].step&&c++,n.group.attr({translateY:Math.round(o+t[c].height/2)}),n.y=o+t[c].height/2)}))}return{compose:function(e,o,r){-1===d.indexOf(e)&&(d.push(e),n({legend:{bubbleLegend:t}}),c(e.prototype,"drawChartBox",f)),-1===d.indexOf(o)&&(d.push(o),l(o,"afterGetAllItems",v)),-1===d.indexOf(r)&&(d.push(r),l(r,"legendItemClick",x))}}})),o(e,"Series/Bubble/BubblePoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o){var r,n=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),l=e.seriesTypes.scatter.prototype.pointClass,h=o.extend,c=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return n(o,e),o.prototype.haloPath=function(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)},o}(l);return h(c.prototype,{ttBelow:!1}),c})),o(e,"Series/Bubble/BubbleSeries.js",[e["Series/Bubble/BubbleLegendComposition.js"],e["Series/Bubble/BubblePoint.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,l){var h,c=this&&this.__extends||(h=function(t,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},h(t,b)},function(t,b){function e(){this.constructor=t}h(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),d=o.parse,f=r.noop,y=n.series,m=n.seriesTypes,v=m.column.prototype,x=m.scatter,M=l.addEvent,j=l.arrayMax,C=l.arrayMin,w=l.clamp,P=l.extend,S=l.isNumber,L=l.merge,A=l.pick,T=[];function O(){var t,e=this,o=this.len,r=this.chart,n=this.isXAxis,l=n?"xData":"yData",h=this.min,c=this.max-h,d=0,f=o,y=o/c;this.series.forEach((function(o){if(o.bubblePadding&&(o.visible||!r.options.chart.ignoreHiddenSeries)){e.allowZoomOutside=!0,t=!0;var data=o[l];if(n&&((o.onPoint||o).getRadii(0,0,o),o.onPoint&&(o.radii=o.onPoint.radii)),c>0)for(var i=data.length;i--;)if(S(data[i])&&e.dataMin<=data[i]&&data[i]<=e.max){var m=o.radii&&o.radii[i]||0;d=Math.min((data[i]-h)*y-m,d),f=Math.max((data[i]-h)*y+m,f)}}})),t&&c>0&&!this.logarithmic&&(f-=o,y*=(o+Math.max(0,d)-Math.min(f,o))/o,[["min","userMin",d],["max","userMax",f]].forEach((function(t){void 0===A(e.options[t[0]],e[t[1]])&&(e[t[0]]+=t[2]/y)})))}var _=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.maxPxSize=void 0,t.minPxSize=void 0,t.options=void 0,t.points=void 0,t.radii=void 0,t.yData=void 0,t.zData=void 0,t}return c(o,e),o.compose=function(e,o,r,n){t.compose(o,r,n),-1===T.indexOf(e)&&(T.push(e),e.prototype.beforePadding=O)},o.prototype.animate=function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach((function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))}),this)},o.prototype.getRadii=function(){var t,i,e,o=this,r=this.zData,n=this.yData,l=[],h=this.chart.bubbleZExtremes,c=this.getPxExtremes(),d=c.minPxSize,f=c.maxPxSize;if(!h){var y,m=Number.MAX_VALUE,v=-Number.MAX_VALUE;this.chart.series.forEach((function(t){if(t.bubblePadding&&(t.visible||!o.chart.options.chart.ignoreHiddenSeries)){var e=(t.onPoint||t).getZExtremes();e&&(m=Math.min(m||e.zMin,e.zMin),v=Math.max(v||e.zMax,e.zMax),y=!0)}})),y?(h={zMin:m,zMax:v},this.chart.bubbleZExtremes=h):h={zMin:0,zMax:0}}for(i=0,t=r.length;i<t;i++)e=r[i],l.push(this.getRadius(h.zMin,h.zMax,d,f,e,n&&n[i]));this.radii=l},o.prototype.getRadius=function(t,e,o,r,n,l){var h=this.options,c="width"!==h.sizeBy,d=h.zThreshold,f=e-t,y=.5;if(null===l||null===n)return null;if(S(n)){if(h.sizeByAbsoluteValue&&(n=Math.abs(n-d),e=f=Math.max(e-d,Math.abs(t-d)),t=0),n<t)return o/2-1;f>0&&(y=(n-t)/f)}return c&&y>=0&&(y=Math.sqrt(y)),Math.ceil(o+y*(r-o))/2},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.pointAttribs=function(t,e){var o=this.options.marker.fillOpacity,r=y.prototype.pointAttribs.call(this,t,e);return 1!==o&&(r.fill=d(r.fill).setOpacity(o).get("rgba")),r},o.prototype.translate=function(){e.prototype.translate.call(this),this.getRadii(),this.translateBubble()},o.prototype.translateBubble=function(){for(var data=this.data,t=this.radii,e=this.getPxExtremes().minPxSize,i=data.length;i--;){var o=data[i],r=t?t[i]:0;S(r)&&r>=e/2?(o.marker=P(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):(o.shapeArgs=o.plotY=o.dlBox=void 0,o.isInside=!1)}},o.prototype.getPxExtremes=function(){var t=Math.min(this.chart.plotWidth,this.chart.plotHeight),e=function(e){var o;return"string"==typeof e&&(o=/%$/.test(e),e=parseInt(e,10)),o?t*e/100:e},o=e(A(this.options.minSize,8));return{minPxSize:o,maxPxSize:Math.max(e(A(this.options.maxSize,"20%")),o)}},o.prototype.getZExtremes=function(){var t=this.options,e=(this.zData||[]).filter(S);if(e.length){var o=A(t.zMin,w(C(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),r=A(t.zMax,j(e));if(S(o)&&S(r))return{zMin:o,zMax:r}}},o.defaultOptions=L(x.defaultOptions,{dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.z;return S(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),o}(x);return P(_.prototype,{alignDataLabel:v.alignDataLabel,applyZones:f,bubblePadding:!0,buildKDTree:f,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),M(_,"updatedData",(function(t){delete t.target.chart.bubbleZExtremes})),M(_,"remove",(function(t){delete t.target.chart.bubbleZExtremes})),n.registerSeriesType("bubble",_),_})),o(e,"Series/MapBubble/MapBubblePoint.js",[e["Series/Bubble/BubblePoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o){var r,n=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),l=e.seriesTypes.map.prototype.pointClass.prototype,h=o.extend,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isValid=function(){return"number"==typeof this.z},e}(t);return h(c.prototype,{applyOptions:l.applyOptions,getProjectedBounds:l.getProjectedBounds}),c})),o(e,"Series/MapBubble/MapBubbleSeries.js",[e["Series/Bubble/BubbleSeries.js"],e["Series/MapBubble/MapBubblePoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o,r){var n,l=this&&this.__extends||(n=function(t,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},n(t,b)},function(t,b){function e(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),h=o.seriesTypes,c=h.map.prototype,d=h.mappoint.prototype,f=r.extend,y=r.merge,m=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.clearBounds=c.clearBounds,t}return l(o,e),o.prototype.searchPoint=function(t,e){return this.searchKDTree({clientX:t.chartX-this.chart.plotLeft,plotY:t.chartY-this.chart.plotTop},e,t)},o.prototype.translate=function(){d.translate.call(this),this.getRadii(),this.translateBubble()},o.defaultOptions=y(t.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),o}(t);return f(m.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:c.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:c.processData,projectPoint:d.projectPoint,setData:c.setData,setOptions:c.setOptions,updateData:c.updateData,useMapGeometry:!0,xyFromShape:!0}),o.registerSeriesType("mapbubble",m),m})),o(e,"Series/Heatmap/HeatmapPoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){var o,r=this&&this.__extends||(o=function(t,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},o(t,b)},function(t,b){function e(){this.constructor=t}o(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),n=t.seriesTypes.scatter.prototype.pointClass,l=e.clamp,h=e.defined,c=e.extend,d=e.pick,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e.value=void 0,e.x=void 0,e.y=void 0,e}return r(e,t),e.prototype.applyOptions=function(e,o){return(this.isNull||null===this.value)&&delete this.color,t.prototype.applyOptions.call(this,e,o),this.formatPrefix=this.isNull||null===this.value?"null":"point",this},e.prototype.getCellAttributes=function(){var t=this,e=t.series,o=e.options,r=(o.colsize||1)/2,n=(o.rowsize||1)/2,c=e.xAxis,f=e.yAxis,y=t.options.marker||e.options.marker,m=e.pointPlacementToXValue(),v=d(t.pointPadding,o.pointPadding,0),x={x1:l(Math.round(c.len-c.translate(t.x-r,!1,!0,!1,!0,-m)),-c.len,2*c.len),x2:l(Math.round(c.len-c.translate(t.x+r,!1,!0,!1,!0,-m)),-c.len,2*c.len),y1:l(Math.round(f.translate(t.y-n,!1,!0,!1,!0)),-f.len,2*f.len),y2:l(Math.round(f.translate(t.y+n,!1,!0,!1,!0)),-f.len,2*f.len)};return[["width","x"],["height","y"]].forEach((function(t){var e=t[0],o=t[1],r=o+"1",n=o+"2",l=Math.abs(x[r]-x[n]),c=y&&y.lineWidth||0,d=Math.abs(x[r]+x[n])/2,f=y&&y[e];if(h(f)&&f<l){var m=f/2+c/2;x[r]=d-m,x[n]=d+m}v&&("y"===o&&(r=n,n=o+"1"),x[r]+=v,x[n]-=v)})),x},e.prototype.haloPath=function(t){if(!t)return[];var e=this.shapeArgs||{},o=e.x,r=void 0===o?0:o,n=e.y,l=void 0===n?0:n,h=e.width,c=void 0===h?0:h,d=e.height,f=void 0===d?0:d;return[["M",r-t,l-t],["L",r-t,l+f+t],["L",r+c+t,l+f+t],["L",r+c+t,l-t],["Z"]]},e.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},e}(n);return c(f.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),f})),o(e,"Series/Heatmap/HeatmapSeries.js",[e["Core/Color/Color.js"],e["Series/ColorMapComposition.js"],e["Series/Heatmap/HeatmapPoint.js"],e["Core/Legend/LegendSymbol.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,l,h){var c,d=this&&this.__extends||(c=function(t,b){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},c(t,b)},function(t,b){function e(){this.constructor=t}c(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),f=n.series,y=n.seriesTypes,m=y.column,v=y.scatter,x=l.prototype.symbols,M=h.extend,j=h.fireEvent,C=h.isNumber,w=h.merge,P=h.pick,S=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.colorAxis=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.valueMax=NaN,t.valueMin=NaN,t}return d(o,e),o.prototype.drawPoints=function(){var t=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(f.prototype.drawPoints.call(this),this.points.forEach((function(e){e.graphic&&(e.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(e)),null===e.value&&e.graphic.addClass("highcharts-null-point"))})))},o.prototype.getExtremes=function(){var t=f.prototype.getExtremes.call(this,this.valueData),e=t.dataMin,o=t.dataMax;return C(e)&&(this.valueMin=e),C(o)&&(this.valueMax=o),f.prototype.getExtremes.call(this)},o.prototype.getValidPoints=function(t,e){return f.prototype.getValidPoints.call(this,t,e,!0)},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.init=function(){e.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=P(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,x.ellipse=x.circle,t.marker&&(t.marker.r=t.borderRadius)},o.prototype.markerAttribs=function(t,e){var o=t.shapeArgs||{};if(t.hasImage)return{x:t.plotX,y:t.plotY};if(e&&"normal"!==e){var r=t.options.marker||{},n=this.options.marker||{},l=n.states&&n.states[e]||{},h=r.states&&r.states[e]||{},c=(h.width||l.width||o.width||0)+(h.widthPlus||l.widthPlus||0),d=(h.height||l.height||o.height||0)+(h.heightPlus||l.heightPlus||0);return{x:(o.x||0)+((o.width||0)-c)/2,y:(o.y||0)+((o.height||0)-d)/2,width:c,height:d}}return o},o.prototype.pointAttribs=function(e,o){var r=this,n=f.prototype.pointAttribs.call(r,e,o),l=r.options||{},h=r.chart.options.plotOptions||{},c=h.series||{},d=h.heatmap||{},y=e&&e.options.borderColor||l.borderColor||d.borderColor||c.borderColor,m=e&&e.options.borderWidth||l.borderWidth||d.borderWidth||c.borderWidth||n["stroke-width"];if(n.stroke=e&&e.marker&&e.marker.lineColor||l.marker&&l.marker.lineColor||y||this.color,n["stroke-width"]=m,o&&"normal"!==o){var v=w(l.states&&l.states[o],l.marker&&l.marker.states&&l.marker.states[o],e&&e.options.states&&e.options.states[o]||{});n.fill=v.color||t.parse(n.fill).brighten(v.brightness||0).get(),n.stroke=v.lineColor||n.stroke}return n},o.prototype.translate=function(){var t=this,e=t.options,symbol=e.marker&&e.marker.symbol||"rect",o=x[symbol]?symbol:"rect",r=-1!==["circle","square"].indexOf(o);t.generatePoints(),t.points.forEach((function(t){var n=t.getCellAttributes(),l=Math.min(n.x1,n.x2),h=Math.min(n.y1,n.y2),c=Math.max(Math.abs(n.x2-n.x1),0),d=Math.max(Math.abs(n.y2-n.y1),0);if(t.hasImage=0===(t.marker&&t.marker.symbol||symbol||"").indexOf("url"),r){var f=Math.abs(c-d);l=Math.min(n.x1,n.x2)+(c<d?0:f/2),h=Math.min(n.y1,n.y2)+(c<d?f/2:0),c=d=Math.min(c,d)}t.hasImage&&(t.marker={width:c,height:d}),t.plotX=t.clientX=(n.x1+n.x2)/2,t.plotY=(n.y1+n.y2)/2,t.shapeType="path",t.shapeArgs=w(!0,{x:l,y:h,width:c,height:d},{d:x[o](l,h,c,d,{r:e.borderRadius})})})),j(t,"afterTranslate")},o.defaultOptions=w(v.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return C(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),o}(v);return M(S.prototype,{axisTypes:e.seriesMembers.axisTypes,colorKey:e.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:o,specialGroup:"group",trackerGroups:e.seriesMembers.trackerGroups,alignDataLabel:m.prototype.alignDataLabel,colorAttribs:e.seriesMembers.colorAttribs,drawLegendSymbol:r.drawRectangle,getSymbol:f.prototype.getSymbol}),e.compose(S),n.registerSeriesType("heatmap",S),S})),o(e,"masters/modules/map.src.js",[e["Core/Globals.js"],e["Core/Axis/Color/ColorAxis.js"],e["Series/MapBubble/MapBubbleSeries.js"],e["Core/Chart/MapChart.js"],e["Maps/MapView.js"],e["Maps/Projection.js"]],(function(t,e,o,r,n,l){var h=t;h.ColorAxis=e,h.MapChart=r,h.mapChart=h.Map=r.mapChart,h.MapView=n,h.maps=r.maps,h.Projection=l,e.compose(h.Chart,h.Fx,h.Legend,h.Series),o.compose(h.Axis,h.Chart,h.Legend,h.Series)}))},t.exports?(l.default=l,t.exports=l):(r=[o(219)],void 0===(n=function(t){return l(t),l.Highcharts=t,l}.apply(e,r))||(t.exports=n))}}]);