(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{471:function(t,e,o){var r,n,l;l=function(t){function e(t,e,q,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,q),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){var o,q=t.parse,r=e.addEvent,p=e.extend,n=e.merge,g=e.pick,l=e.splat;return function(t){function e(){var t=this,a=this.options;this.colorAxis=[],a.colorAxis&&(a.colorAxis=l(a.colorAxis),a.colorAxis.forEach((function(a,e){a.index=e,new v(t,a)})))}function b(t){var e,o,a=this,r=function(e){-1!==(e=t.allItems.indexOf(e))&&(a.destroyItem(t.allItems[e]),t.allItems.splice(e,1))},b=[];for((this.chart.colorAxis||[]).forEach((function(t){(e=t.options)&&e.showInLegend&&(e.dataClasses&&e.visible?b=b.concat(t.getDataClassLegendSymbols()):e.visible&&b.push(t),t.series.forEach((function(t){t.options.showInLegend&&!e.dataClasses||("point"===t.options.legendType?t.points.forEach((function(t){r(t)})):r(t))})))})),o=b.length;o--;)t.allItems.unshift(b[o])}function a(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function o(){var t=this.chart.colorAxis;t&&t.forEach((function(t,a,e){t.update({},e)}))}function u(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function h(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function c(t){var a=this,e=t?"show":"hide";a.visible=a.options.visible=!!t,["graphic","dataLabel"].forEach((function(t){a[t]&&a[t][e]()})),this.series.buildKDTree()}function d(){var t=this,a=this.options.nullColor,e=this.colorAxis,b=this.colorKey;(this.data.length?this.data:this.points).forEach((function(o){var r=o.getNestedProperty(b);(r=o.options.color||(o.isNull||null===o.value?a:e&&void 0!==r?e.toColor(r,o):o.color||t.color))&&o.color!==r&&(o.color=r,"point"===t.options.legendType&&o.legendItem&&o.legendItem.label&&t.chart.legend.colorizeItem(o,o.visible))}))}function f(t){var a=t.prototype.createAxis;t.prototype.createAxis=function(t,e){if("colorAxis"!==t)return a.apply(this,arguments);var b=new v(this,n(e.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0})),g(e.redraw,!0)&&this.redraw(e.animation),b}}function y(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function m(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var v,x=[];t.compose=function(t,n,g,l,M){v||(v=t),-1===x.indexOf(n)&&(x.push(n),(t=n.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],r(n,"afterGetAxes",e),f(n)),-1===x.indexOf(g)&&(x.push(g),(n=g.prototype).fillSetter=y,n.strokeSetter=m),-1===x.indexOf(l)&&(x.push(l),r(l,"afterGetAllItems",b),r(l,"afterColorizeItem",a),r(l,"afterUpdate",o)),-1===x.indexOf(M)&&(x.push(M),p(M.prototype,{optionalAxis:"colorAxis",translateColors:d}),p(M.prototype.pointClass.prototype,{setVisible:c}),r(M,"afterTranslate",u,{order:1}),r(M,"bindAxes",h))},t.pointSetVisible=c}(o||(o={})),o})),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],(function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}})),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Color/Color.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,o,p,r,g,n){var l=this&&this.__extends||function(){var a=function(b,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])})(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=e.parse,c=g.series,b=n.extend,a=n.isNumber,d=n.merge,u=n.pick;return e=function(t){function e(a,e){var o=t.call(this,a,e)||this;return o.beforePadding=!1,o.chart=void 0,o.coll="colorAxis",o.dataClasses=void 0,o.name="",o.options=void 0,o.stops=void 0,o.visible=!0,o.init(a,e),o}return l(e,t),e.compose=function(a,t,o,b){q.compose(e,a,t,o,b)},e.prototype.init=function(a,o){var r=a.options.legend||{},b=o.layout?"vertical"!==o.layout:"vertical"!==r.layout,u=o.visible;r=d(e.defaultColorAxisOptions,o,{showEmpty:!1,title:null,visible:r.enabled&&!1!==u}),this.coll="colorAxis",this.side=o.side||b?2:1,this.reversed=o.reversed||!b,this.opposite=!b,t.prototype.init.call(this,a,r),this.userOptions.visible=u,o.dataClasses&&this.initDataClasses(o),this.initStops(),this.horiz=b,this.zoomEnabled=!1},e.prototype.initDataClasses=function(a){var t,e=this.chart,o=this.legendItem=this.legendItem||{},b=a.dataClasses.length,u=this.options,r=0,n=e.options.chart.colorCount;this.dataClasses=t=[],o.labels=[],(a.dataClasses||[]).forEach((function(o,a){o=d(o),t.push(o),!e.styledMode&&o.color||("category"===u.dataClassColor?(e.styledMode||(a=e.options.colors,n=a.length,o.color=a[r]),o.colorIndex=r,++r===n&&(r=0)):o.color=h(u.minColor).tweenTo(h(u.maxColor),2>b?.5:a/(b-1)))}))},e.prototype.hasData=function(){return!!(this.tickPositions||[]).length},e.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},e.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach((function(a){a.color=h(a[1])}))},e.prototype.setOptions=function(a){t.prototype.setOptions.call(this,a),this.options.crosshair=this.options.marker},e.prototype.setAxisSize=function(){var t,u,a=this.legendItem&&this.legendItem.symbol,b=this.chart,o=b.options.legend||{};a?(this.left=o=a.attr("x"),this.top=t=a.attr("y"),this.width=u=a.attr("width"),this.height=a=a.attr("height"),this.right=b.chartWidth-o-u,this.bottom=b.chartHeight-t-a,this.len=this.horiz?u:a,this.pos=this.horiz?o:t):this.len=(this.horiz?o.symbolWidth:o.symbolHeight)||e.defaultLegendLength},e.prototype.normalizedValue=function(a){return this.logarithmic&&(a=this.logarithmic.log2lin(a)),1-(this.max-a)/(this.max-this.min||1)},e.prototype.toColor=function(a,b){var t,e=this.dataClasses,o=this.stops;if(e)for(t=e.length;t--;){var u=e[t],r=u.from;if(o=u.to,(void 0===r||a>=r)&&(void 0===o||a<=o)){var n=u.color;b&&(b.dataClass=t,b.colorIndex=u.colorIndex);break}}else{for(a=this.normalizedValue(a),t=o.length;t--&&!(a>o[t][0]););r=o[t]||o[t+1],a=1-((o=o[t+1]||r)[0]-a)/(o[0]-r[0]||1),n=r.color.tweenTo(o.color,a)}return n},e.prototype.getOffset=function(){var a=this.legendItem&&this.legendItem.group,b=this.chart.axisOffset[this.side];if(a){this.axisParent=a,t.prototype.getOffset.call(this);var o=this.chart.legend;o.allItems.forEach((function(a){a instanceof e&&a.drawLegendSymbol(o,a)})),o.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=b}},e.prototype.setLegendColor=function(){var a=this.reversed,b=a?1:0;a=a?0:1,b=this.horiz?[b,0,a,0]:[0,a,0,b],this.legendColor={linearGradient:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]},stops:this.stops}},e.prototype.drawLegendSymbol=function(a,b){b=b.legendItem||{};var t=a.padding,o=a.options,r=u(o.itemDistance,10),n=this.horiz,l=u(o.symbolWidth,n?e.defaultLegendLength:12),h=u(o.symbolHeight,n?12:e.defaultLegendLength);o=u(o.labelPadding,n?16:30),this.setLegendColor(),b.symbol||(b.symbol=this.chart.renderer.rect(0,a.baseline-11,l,h).attr({zIndex:1}).add(b.group)),b.labelWidth=l+t+(n?r:this.options.labels.x+this.maxLabelLength),b.labelHeight=h+t+(n?o:0)},e.prototype.setState=function(a){this.series.forEach((function(b){b.setState(a)}))},e.prototype.setVisible=function(){},e.prototype.getSeriesExtremes=function(){var t,a=this.series,b=a.length;for(this.dataMin=1/0,this.dataMax=-1/0;b--;){var e=a[b],o=e.colorKey=u(e.options.colorKey,e.colorKey,e.pointValKey,e.zoneAxis,"y"),r=e.pointArrayMap,n=e[o+"Min"]&&e[o+"Max"];if(e[o+"Data"])var l=e[o+"Data"];else if(r){l=[],r=r.indexOf(o);var g=e.yData;if(0<=r&&g)for(t=0;t<g.length;t++)l.push(u(g[t][r],g[t]))}else l=e.yData;n?(e.minColorValue=e[o+"Min"],e.maxColorValue=e[o+"Max"]):(l=c.prototype.getExtremes.call(e,l),e.minColorValue=l.dataMin,e.maxColorValue=l.dataMax),void 0!==e.minColorValue&&(this.dataMin=Math.min(this.dataMin,e.minColorValue),this.dataMax=Math.max(this.dataMax,e.maxColorValue)),n||c.prototype.applyExtremes.call(e)}},e.prototype.drawCrosshair=function(a,b){var e=this.legendItem||{},o=b&&b.plotX,r=b&&b.plotY,u=this.pos,n=this.len;if(b){var l=this.toPixels(b.getNestedProperty(b.series.colorKey));l<u?l=u-2:l>u+n&&(l=u+n+2),b.plotX=l,b.plotY=this.len-l,t.prototype.drawCrosshair.call(this,a,b),b.plotX=o,b.plotY=r,this.cross&&!this.cross.addedToColorAxis&&e.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(e.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},e.prototype.getPlotLinePath=function(b){var e=this.left,o=b.translatedValue,u=this.top;return a(o)?this.horiz?[["M",o-4,u-6],["L",o+4,u-6],["L",o,u],["Z"]]:[["M",e,o],["L",e-6,o+6],["L",e-6,o-6],["Z"]]:t.prototype.getPlotLinePath.call(this,b)},e.prototype.update=function(a,b){var e=this.chart.legend;this.series.forEach((function(a){a.isDirtyData=!0})),(a.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems(),t.prototype.update.call(this,a,b),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),e.colorizeItem(this,!0))},e.prototype.destroyItems=function(){var a=this.chart,b=this.legendItem||{};if(b.label)a.legend.destroyItem(this);else if(b.labels){var t=0;for(b=b.labels;t<b.length;t++)a.legend.destroyItem(b[t])}a.isDirtyLegend=!0},e.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),t.prototype.destroy.apply(this,[].slice.call(arguments))},e.prototype.remove=function(a){this.destroyItems(),t.prototype.remove.call(this,a)},e.prototype.getDataClassLegendSymbols=function(){var t,a=this,e=a.chart,o=a.legendItem&&a.legendItem.labels||[],n=e.options.legend,l=u(n.valueDecimals,-1),h=u(n.valueSuffix,""),g=function(t){return a.series.reduce((function(a,b){return a.push.apply(a,b.points.filter((function(a){return a.dataClass===t}))),a}),[])};return o.length||a.dataClasses.forEach((function(u,n){var c=u.from,d=u.to,f=e.numberFormatter,y=!0;t="",void 0===c?t="< ":void 0===d&&(t="> "),void 0!==c&&(t+=f(c,l)+h),void 0!==c&&void 0!==d&&(t+=" - "),void 0!==d&&(t+=f(d,l)+h),o.push(b({chart:e,name:t,options:{},drawLegendSymbol:r.drawRectangle,visible:!0,isDataClass:!0,setState:function(a){for(var t=0,b=g(n);t<b.length;t++)b[t].setState(a)},setVisible:function(){this.visible=y=a.visible=!y;for(var t=0,b=g(n);t<b.length;t++)b[t].setVisible(y);e.legend.colorizeItem(this,y)}},u))})),o},e.defaultColorAxisOptions=o,e.defaultLegendLength=200,e.keepProps=["legendItem"],e}(t),Array.prototype.push.apply(t.keepProps,e.keepProps),e})),e(t,"Maps/MapNavigationDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e){return(e=e.extend)(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}})),e(t,"Maps/MapNavigation.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,q){function o(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function p(a){this.navButtons=[],this.init(a)}var r=e.doc,g=q.addEvent,n=q.extend,l=q.isNumber,h=q.merge,c=q.objectEach,b=q.pick;p.prototype.init=function(a){this.chart=a},p.prototype.update=function(a){var t,e=this,u=this.chart,r=u.options.mapNavigation,l=function(a){this.handler.call(u,a),o(a)},d=e.navButtons;for(a&&(r=u.options.mapNavigation=h(u.options.mapNavigation,a));d.length;)d.pop().destroy();b(r.enableButtons,r.enabled)&&!u.renderer.forExport&&(e.navButtonsGroup||(e.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),c(r.buttons,(function(a,b){a=h(r.buttonOptions,a),!u.styledMode&&a.theme&&((t=a.theme).style=h(a.theme.style,a.style));var c=u.renderer.button(a.text||"",0,0,l,t,void 0,void 0,void 0,"zoomIn"===b?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[b]).attr({width:a.width,height:a.height,title:u.options.lang[b],padding:a.padding,zIndex:5}).add(e.navButtonsGroup);if(c.handler=a.onclick,g(c.element,"dblclick",o),d.push(c),n(a,{width:c.width,height:2*c.height}),u.hasLoaded)c.align(a,!1,a.alignTo);else var f=g(u,"load",(function(){c.element&&c.align(a,!1,a.alignTo),f()}))})),a=function(){var a=u.exportingGroup&&u.exportingGroup.getBBox();if(a){var b=e.navButtonsGroup.getBBox();if(!(b.x>=a.x+a.width||b.x+b.width<=a.x||b.y>=a.y+a.height||b.y+b.height<=a.y)){var t=-b.y-b.height+a.y-5;a=a.y+a.height-b.y+5,e.navButtonsGroup.attr({translateY:"bottom"===(r.buttonOptions&&r.buttonOptions.verticalAlign)?t:a})}}},u.hasLoaded||g(u,"render",a)),this.updateEvents(r)},p.prototype.updateEvents=function(a){var t=this.chart;b(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||g(t.container,"dblclick",(function(a){t.pointer.onContainerDblClick(a)})):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),b(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||g(t.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",(function(a){return t.pointer.inClass(a.target,"highcharts-no-mousewheel")||(t.pointer.onContainerMouseWheel(a),o(a)),!1})):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},n(t.prototype,{fitToBox:function(a,b){return[["x","width"],["y","height"]].forEach((function(t){var e=t[0];t=t[1],a[e]+a[t]>b[e]+b[t]&&(a[t]>b[t]?(a[t]=b[t],a[e]=b[e]):a[e]=b[e]+b[t]-a[t]),a[t]>b[t]&&(a[t]=b[t]),a[e]<b[e]&&(a[e]=b[e])})),a},mapZoom:function(a,b,u,t,e){this.mapView&&(l(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,l(b)&&l(u)?this.mapView.projection.inverse([b,u]):void 0,l(t)&&l(e)?[t,e]:void 0))}}),g(t,"beforeRender",(function(){this.mapNavigation=new p(this),this.mapNavigation.update()})),e.MapNavigation=p})),e(t,"Maps/MapPointer.js",[t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,e){var q=e.defined,o=e.extend,p=e.pick;e=e.wrap;var r,n=t.prototype.normalize,g=0;o(t.prototype,{normalize:function(g,t){var e=this.chart;return g=n.call(this,g,t),e&&e.mapView&&(t=e.mapView.pixelsToLonLat({x:g.chartX-e.plotLeft,y:g.chartY-e.plotTop}))&&o(g,t),g},onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart;t=this.normalize(t);var o=q(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(o)&&(g+=Math.abs(o),r&&clearTimeout(r),r=setTimeout((function(){g=0}),50)),10>g&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-o,void 0,[t.chartX,t.chartY],!(1>Math.abs(o))&&void 0)}}),e(t.prototype,"zoomOption",(function(t){var e=this.chart.options.mapNavigation;p(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))})),e(t.prototype,"pinchTranslate",(function(t,e,g,b,a,o,u){t.call(this,e,g,b,a,o,u),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=b.scaleX>b.scaleY,this.pinchTranslateDirection(!t,e,g,b,a,o,u,t?b.scaleX:b.scaleY))}))})),e(t,"Series/ColorMapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){var o,q=t.seriesTypes.column.prototype,r=e.addEvent,p=e.defined;return function(t){function g(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}var e=[];t.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){var e={};return!p(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e},pointAttribs:q.pointAttribs},t.compose=function(t){var o=t.prototype.pointClass;return-1===e.indexOf(o)&&(e.push(o),r(o,"afterSetState",g)),t}}(o||(o={})),o})),e(t,"Maps/MapSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],(function(t){function e(t,e,p,o,g,r,n,l){return[["M",t+g,e],["L",t+p-r,e],["C",t+p-r/2,e,t+p,e+r/2,t+p,e+r],["L",t+p,e+o-n],["C",t+p,e+o-n/2,t+p-n/2,e+o,t+p-n,e+o],["L",t+l,e+o],["C",t+l/2,e+o,t,e+o-l/2,t,e+o-l],["L",t,e+g],["C",t,e+g/2,t+g/2,e,t+g,e],["Z"]]}return(t=t.prototype.symbols).bottombutton=function(t,o,p,r,g){return e(t-1,o-1,p,r,0,0,g=g&&g.r||0,g)},t.topbutton=function(t,o,p,r,g){return e(t-1,o-1,p,r,g=g&&g.r||0,g,0,0)},t})),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,o){var p=this&&this.__extends||function(){var t=function(e,g){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var t in a)a.hasOwnProperty(t)&&(b[t]=a[t])})(e,g)};return function(e,g){function b(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)}}(),r=e.getOptions,g=o.merge,n=o.pick;return t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.init=function(e,b){var a=r().credits;e=g({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:n(a.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:n(a.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},e),t.prototype.init.call(this,e,b)},e}(t),function(t){t.maps={},t.mapChart=function(e,g,b){return new t(e,g,b)},t.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map((function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)}))),q.prototype.pathToSegments(t)}}(t||(t={})),t})),e(t,"Maps/MapUtilities.js",[],(function(){return{boundsFromPath:function(t){var e,o=-Number.MAX_VALUE,q=Number.MAX_VALUE,r=-Number.MAX_VALUE,p=Number.MAX_VALUE;if(t.forEach((function(t){var g=t[t.length-2];t=t[t.length-1],"number"==typeof g&&"number"==typeof t&&(q=Math.min(q,g),o=Math.max(o,g),p=Math.min(p,t),r=Math.max(r,t),e=!0)})),e)return{x1:q,y1:p,x2:o,y2:r}},pointInPolygon:function(t,e){var q,o=!1,p=t.x,r=t.y;for(t=0,q=e.length-1;t<e.length;q=t++)e[t][1]>r!=e[q][1]>r&&p<(e[q][0]-e[t][0])*(r-e[t][1])/(e[q][1]-e[t][1])+e[t][0]&&(o=!o);return o}}})),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapComposition.js"],t["Maps/MapUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,o){var p=this&&this.__extends||function(){var t=function(e,b){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(e,b)};return function(e,b){function a(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),r=e.boundsFromPath,g=o.extend,n=o.isNumber,l=o.pick;return e=function(t){function e(){var b=null!==t&&t.apply(this,arguments)||this;return b.options=void 0,b.path=void 0,b.series=void 0,b}return p(e,t),e.getProjectedPath=function(b,a){return b.projectedPath||(a&&b.geometry?(a.hasCoordinates=!0,b.projectedPath=a.path(b.geometry)):b.projectedPath=b.path),b.projectedPath||[]},e.prototype.applyOptions=function(b,a){var e=this.series;return b=t.prototype.applyOptions.call(this,b,a),a=e.joinBy,e.mapData&&e.mapMap&&((a=void 0!==(a=t.prototype.getNestedProperty.call(b,a[1]))&&e.mapMap[a])?g(b,a):-1!==e.pointArrayMap.indexOf("value")&&(b.value=b.value||null)),b},e.prototype.getProjectedBounds=function(b){b=e.getProjectedPath(this,b),b=r(b);var a=this.properties;if(b){var t=a&&a["hc-middle-x"];return a=a&&a["hc-middle-y"],b.midX=b.x1+(b.x2-b.x1)*l(this.middleX,n(t)?t:.5),t=l(this.middleY,n(a)?a:.5),this.geometry||(t=1-t),b.midY=b.y2-(b.y2-b.y1)*t,b}},e.prototype.onMouseOver=function(b){o.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?t.prototype.onMouseOver.call(this,b):this.series.onMouseOut(b)},e.prototype.setVisible=function(b){var a=b?"show":"hide";this.visible=this.options.visible=!!b,this.dataLabel&&this.dataLabel[a](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))},e.prototype.zoomTo=function(){var b=this.series.chart,a=b.mapView,t=this.bounds;if(a&&t){var e=n(this.insetIndex)&&a.insets[this.insetIndex];if(e){var o=e.projectedUnitsToPixels({x:t.x1,y:t.y1});t=e.projectedUnitsToPixels({x:t.x2,y:t.y2}),o=a.pixelsToProjectedUnits({x:o.x,y:o.y}),t=a.pixelsToProjectedUnits({x:t.x,y:t.y}),t={x1:o.x,y1:o.y,x2:t.x,y2:t.y}}a.fitToBounds(t,void 0,!1),this.series.isDirty=!0,b.redraw()}},e}(q.seriesTypes.scatter.prototype.pointClass),g(e.prototype,{dataLabelOnNull:t.pointMembers.dataLabelOnNull,moveToTopOnHover:t.pointMembers.moveToTopOnHover,isValid:t.pointMembers.isValid}),e})),e(t,"Maps/MapViewOptionsDefault.js",[],(function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}})),e(t,"Maps/MapViewInsetsOptionsDefault.js",[],(function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}})),e(t,"Extensions/GeoJSON.js",[t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,q,o){function p(b,a){if(a||(a=Object.keys(b.objects)[0]),(a=b.objects[a])["hc-decoded-geojson"])return a["hc-decoded-geojson"];var t=b.arcs;if(b.transform){var e=b.transform,o=e.scale,r=e.translate;t=b.arcs.map((function(a){var b=0,t=0;return a.map((function(a){return(a=a.slice())[0]=(b+=a[0])*o[0]+r[0],a[1]=(t+=a[1])*o[1]+r[1],a}))}))}var n=function(a){return"number"==typeof a[0]?a.reduce((function(a,b,e){var o=0>b?t[~b]:t[b];return 0>b?(o=o.slice(0,0===e?o.length:o.length-1)).reverse():e&&(o=o.slice(1)),a.concat(o)}),[]):a.map(n)};return e=a.geometries.map((function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||n(a.arcs)}}})),b={type:"FeatureCollection",copyright:b.copyright,copyrightShort:b.copyrightShort,copyrightUrl:b.copyrightUrl,features:e,"hc-recommended-mapview":a["hc-recommended-mapview"],bbox:b.bbox,title:b.title},a["hc-decoded-geojson"]=b}function r(b,a,t){void 0===a&&(a="map");var e=[];return(b="Topology"===b.type?p(b):b).features.forEach((function(b){var t,o=b.geometry||{},r=o.type;if(o=o.coordinates,b=b.properties,("map"!==a&&"mapbubble"!==a||"Polygon"!==r&&"MultiPolygon"!==r)&&("mapline"!==a||"LineString"!==r&&"MultiLineString"!==r)?"mappoint"===a&&"Point"===r&&o.length&&(t={geometry:{coordinates:o,type:r}}):o.length&&(t={geometry:{coordinates:o,type:r}}),t){r=b&&(b.name||b.NAME),o=b&&b.lon;var n=b&&b.lat;e.push(h(t,{lat:"number"==typeof n?n:void 0,lon:"number"==typeof o?o:void 0,name:"string"==typeof r?r:void 0,properties:b}))}})),t&&b.copyrightShort&&(t.chart.mapCredits=g(t.chart.options.credits.mapText,{geojson:b}),t.chart.mapCreditsFull=g(t.chart.options.credits.mapTextFull,{geojson:b})),e}var g=e.format,n=q.win,l=o.error,h=o.extend,c=o.merge;return e=o.wrap,t.prototype.transformFromLatLon=function(b,a){var t=this.options.chart.proj4||n.proj4;if(t){var e=a.jsonmarginX;e=void 0===e?0:e;var o=a.jsonmarginY;o=void 0===o?0:o;var r=a.jsonres;r=void 0===r?1:r;var h=a.scale;h=void 0===h?1:h;var c=a.xoffset;c=void 0===c?0:c;var d=a.xpan;d=void 0===d?0:d;var g=a.yoffset;g=void 0===g?0:g;var p=a.ypan;p=void 0===p?0:p,b=t(a.crs,[b.lon,b.lat]),t=a.cosAngle||a.rotation&&Math.cos(a.rotation);var f=a.sinAngle||a.rotation&&Math.sin(a.rotation);return{x:(((a=a.rotation?[b[0]*t+b[1]*f,-b[0]*f+b[1]*t]:b)[0]-c)*h+d)*r+e,y:-(((g-a[1])*h+p)*r-o)}}l(21,!1,this)},t.prototype.transformToLatLon=function(b,a){var t=this.options.chart.proj4||n.proj4;if(t){if(null!==b.y){var e=a.jsonmarginX,o=a.jsonmarginY,r=a.jsonres;r=void 0===r?1:r;var h=a.scale;h=void 0===h?1:h;var c=a.xoffset,d=a.xpan,g=a.yoffset,p=a.ypan;return b={x:((b.x-(void 0===e?0:e))/r-(void 0===d?0:d))/h+(void 0===c?0:c),y:((b.y-(void 0===o?0:o))/r+(void 0===p?0:p))/h+(void 0===g?0:g)},e=a.cosAngle||a.rotation&&Math.cos(a.rotation),o=a.sinAngle||a.rotation&&Math.sin(a.rotation),{lat:(a=t(a.crs,"WGS84",a.rotation?{x:b.x*e+b.y*-o,y:b.x*o+b.y*e}:b)).y,lon:a.x}}}else l(21,!1,this)},t.prototype.fromPointToLatLon=function(b){return this.mapView&&this.mapView.projectedUnitsToLonLat(b)},t.prototype.fromLatLonToPoint=function(b){return this.mapView&&this.mapView.lonLatToProjectedUnits(b)},e(t.prototype,"addCredits",(function(b,a){a=c(!0,this.options.credits,a),this.mapCredits&&(a.href=null),b.call(this,a),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})),q.geojson=r,q.topo2geo=p,{geojson:r,topo2geo:p}})),e(t,"Core/Geometry/PolygonClip.js",[],(function(){var q,t,e=function(t,p,e){return(p[0]-t[0])*(e[1]-t[1])>(p[1]-t[1])*(e[0]-t[0])},o=function(t,p,e,g){var o=[t[0]-p[0],t[1]-p[1]],r=[e[0]-g[0],e[1]-g[1]];return t=t[0]*p[1]-t[1]*p[0],e=e[0]*g[1]-e[1]*g[0],g=1/(o[0]*r[1]-o[1]*r[0]),(o=[(t*r[0]-e*o[0])*g,(t*r[1]-e*o[1])*g]).isIntersection=!0,o};return(t=q||(q={})).clipLineString=function(e,o){var g=[];for(e=t.clipPolygon(e,o,!1),o=1;o<e.length;o++)e[o].isIntersection&&e[o-1].isIntersection&&(g.push(e.splice(0,o)),o=0),o===e.length-1&&g.push(e);return g},t.clipPolygon=function(p,t,g){void 0===g&&(g=!0);for(var r,n,l=t[t.length-1],q=p,b=0;b<t.length;b++){var a=q;p=t[b],q=[],r=g?a[a.length-1]:a[0];for(var h=0;h<a.length;h++)n=a[h],e(l,p,n)?(e(l,p,r)||q.push(o(l,p,r,n)),q.push(n)):e(l,p,r)&&q.push(o(l,p,r,n)),r=n;l=p}return q},q})),e(t,"Maps/Projections/LambertConformalConic.js",[],(function(){var t=Math.sign||function(t){return 0===t?0:0<t?1:-1},e=Math.PI/180,q=Math.PI/2;return function(){function o(p){var o,g=(p.parallels||[]).map((function(t){return t*e})),r=g[0]||0;g=null!==(o=g[1])&&void 0!==o?o:r,o=Math.cos(r),"object"==typeof p.projectedBounds&&(this.projectedBounds=p.projectedBounds),p=r===g?Math.sin(r):Math.log(o/Math.cos(g))/Math.log(Math.tan((q+g)/2)/Math.tan((q+r)/2)),1e-10>Math.abs(p)&&(p=1e-10*(t(p)||1)),this.n=p,this.c=o*Math.pow(Math.tan((q+r)/2),p)/p}return o.prototype.forward=function(t){var o=t[0]*e,g=this.c,r=this.n,p=this.projectedBounds;t=t[1]*e,0<g?t<1e-6-q&&(t=1e-6-q):t>q-1e-6&&(t=q-1e-6);var n=g/Math.pow(Math.tan((q+t)/2),r);return g=[t=n*Math.sin(r*o)*63.78137,o=63.78137*(g-n*Math.cos(r*o))],p&&(t<p.x1||t>p.x2||o<p.y1||o>p.y2)&&(g.outside=!0),g},o.prototype.inverse=function(o){var r=o[0]/63.78137,g=this.c,p=this.n;o=g-o[1]/63.78137;var n=t(p)*Math.sqrt(r*r+o*o),l=Math.atan2(r,Math.abs(o))*t(o);return 0>o*p&&(l-=Math.PI*t(r)*t(o)),[l/p/e,(2*Math.atan(Math.pow(g/n,1/p))-q)/e]},o}()})),e(t,"Maps/Projections/EqualEarth.js",[],(function(){var t=Math.sqrt(3)/2;return function(){function e(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return e.prototype.forward=function(e){var o=Math.PI/180,p=Math.asin(t*Math.sin(e[1]*o)),r=p*p,g=r*r*r;return[e[0]*o*Math.cos(p)*74.03120656864502/(t*(1.340264+3*-.081106*r+g*(7*893e-6+.034164*r))),74.03120656864502*p*(1.340264+-.081106*r+g*(893e-6+.003796*r))]},e.prototype.inverse=function(e){var o=e[0]/74.03120656864502;e=e[1]/74.03120656864502;var g,p=180/Math.PI,r=e;for(g=0;12>g;++g){var q=r*r,n=q*q*q,l=r*(1.340264+-.081106*q+n*(893e-6+.003796*q))-e;if(r-=l/=q=1.340264+3*-.081106*q+n*(7*893e-6+.034164*q),1e-9>Math.abs(l))break}return[p*t*o*(1.340264+3*-.081106*(q=r*r)+q*q*q*(7*893e-6+.034164*q))/Math.cos(r),p*Math.asin(Math.sin(r)/t)]},e}()})),e(t,"Maps/Projections/Miller.js",[],(function(){var t=Math.PI/4,e=Math.PI/180;return function(){function q(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return q.prototype.forward=function(o){return[o[0]*e*63.78137,79.7267125*Math.log(Math.tan(t+.4*o[1]*e))]},q.prototype.inverse=function(o){return[o[0]/63.78137/e,2.5*(Math.atan(Math.exp(o[1]/63.78137*.8))-t)/e]},q}()})),e(t,"Maps/Projections/Orthographic.js",[],(function(){var t=Math.PI/180;return function(){function e(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return e.prototype.forward=function(e){var o=e[0];return e=e[1]*t,e=[Math.cos(e)*Math.sin(o*t)*63.78460826781007,63.78460826781007*Math.sin(e)],(-90>o||90<o)&&(e.outside=!0),e},e.prototype.inverse=function(e){var o=e[0]/63.78460826781007;e=e[1]/63.78460826781007;var p=Math.sqrt(o*o+e*e),r=Math.asin(p),g=Math.sin(r);return[Math.atan2(o*g,p*Math.cos(r))/t,Math.asin(p&&e*g/p)/t]},e}()})),e(t,"Maps/Projections/WebMercator.js",[],(function(){var t=Math.PI/180;return function(){function e(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return e.prototype.forward=function(e){var o=Math.sin(e[1]*t);return o=[63.78137*e[0]*t,63.78137*Math.log((1+o)/(1-o))/2],85.0511287798<Math.abs(e[1])&&(o.outside=!0),o},e.prototype.inverse=function(e){return[e[0]/(63.78137*t),(2*Math.atan(Math.exp(e[1]/63.78137))-Math.PI/2)/t]},e}()})),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],(function(t,e,q,o,p){return{EqualEarth:e,LambertConformalConic:t,Miller:q,Orthographic:o,WebMercator:p}})),e(t,"Maps/Projection.js",[t["Core/Geometry/PolygonClip.js"],t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var o=this&&this.__spreadArray||function(t,b,a){if(a||2===arguments.length)for(var e,o=0,r=b.length;o<r;o++)!e&&o in b||(e||(e=Array.prototype.slice.call(b,0,o)),e[o]=b[o]);return t.concat(e||Array.prototype.slice.call(b))},p=t.clipLineString,r=t.clipPolygon,g=q.clamp,n=q.erase,l=2*Math.PI/360,h=function(t){return-180>t&&(t+=360),180<t&&(t-=360),t};return function(){function t(b){void 0===b&&(b={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=b;var a=b.name,e=b.projectedBounds,o=b.rotation;this.rotator=o?this.getRotator(o):void 0,(a=a?t.registry[a]:void 0)&&(this.def=new a(b));var r=this.def,n=this.rotator;r&&(this.maxLatitude=r.maxLatitude||90,this.hasGeoProjection=!0),n&&r?(this.forward=function(a){return r.forward(n.forward(a))},this.inverse=function(a){return n.inverse(r.inverse(a))}):r?(this.forward=function(a){return r.forward(a)},this.inverse=function(a){return r.inverse(a)}):n&&(this.forward=n.forward,this.inverse=n.inverse),this.bounds="world"===e?r&&r.bounds:e}return t.add=function(b,a){t.registry[b]=a},t.greatCircle=function(b,a,t){var e=Math.atan2,o=Math.cos,r=Math.sin,n=Math.sqrt,h=b[1]*l,c=b[0]*l,g=a[1]*l,d=a[0]*l,f=g-h,p=d-c;f=2*e(n(f=r(f/2)*r(f/2)+o(h)*o(g)*r(p/2)*r(p/2)),n(1-f));var q=Math.round(6371e3*f/5e5);if(p=[],t&&p.push(b),1<q)for(q=b=1/q;.999>q;q+=b){var y=r((1-q)*f)/r(f),m=r(q*f)/r(f),v=y*o(h)*o(c)+m*o(g)*o(d),x=y*o(h)*r(c)+m*o(g)*r(d);y=e(y=y*r(h)+m*r(g),n(v*v+x*x)),v=e(x,v),p.push([v/l,y/l])}return t&&p.push(a),p},t.insertGreatCircles=function(b){for(var a=b.length-1;a--;)if(10<Math.max(Math.abs(b[a][0]-b[a+1][0]),Math.abs(b[a][1]-b[a+1][1]))){var e=t.greatCircle(b[a],b[a+1]);e.length&&b.splice.apply(b,o([a+1,0],e,!1))}},t.toString=function(b){var a=(b=b||{}).rotation;return[b.name,a&&a.join(",")].join(";")},t.prototype.lineIntersectsBounds=function(b){var a=this.bounds||{},t=a.x2,e=a.y1,o=a.y2,r=function(a,b,t){var e=a[0];a=a[1];var o=b?0:1;if("number"==typeof t&&e[b]>=t!=a[b]>=t)return e=e[o]+(t-e[b])/(a[b]-e[b])*(a[o]-e[o]),b?[e,t]:[t,e]},g=b[0];return((a=r(b,0,a.x1))||(a=r(b,0,t)))&&(g=a,b[1]=a),((a=r(b,1,e))||(a=r(b,1,o)))&&(g=a),g},t.prototype.getRotator=function(b){var a=b[0]*l,t=(b[1]||0)*l;b=(b[2]||0)*l;var e=Math.cos(t),o=Math.sin(t),r=Math.cos(b),g=Math.sin(b);if(0!==a||0!==t||0!==b)return{forward:function(b){var t=b[0]*l+a,n=b[1]*l,h=Math.cos(n);return b=Math.cos(t)*h,t=Math.sin(t)*h,h=(n=Math.sin(n))*e+b*o,[Math.atan2(t*r-h*g,b*e-n*o)/l,Math.asin(h*r+t*g)/l]},inverse:function(b){var t=b[0]*l,n=b[1]*l,h=Math.cos(n);return b=Math.cos(t)*h,t=Math.sin(t)*h,h=(n=Math.sin(n))*r-t*g,[(Math.atan2(t*r+n*g,b*e+h*o)-a)/l,Math.asin(h*e-b*o)/l]}}},t.prototype.forward=function(b){return b},t.prototype.inverse=function(b){return b},t.prototype.cutOnAntimeridian=function(b,a){var e=[],r=[b];if(b.forEach((function(t,o){var r=b[o-1];if(!o){if(!a)return;r=b[b.length-1]}var n=r[0],l=t[0];(-90>n||90<n)&&(-90>l||90<l)&&0<n!=0<l&&(l=g((180-(n+360)%360)/((l+360)%360-(n+360)%360),0,1),e.push({i:o,lat:r[1]+l*(t[1]-r[1]),direction:0>n?1:-1,previousLonLat:r,lonLat:t}))})),e.length)if(a){if(1==e.length%2){var l=e.slice().sort((function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)}))[0];n(e,l)}for(var c=e.length-2;0<=c;){var d=e[c].i,f=h(180+1e-6*e[c].direction),y=h(180-1e-6*e[c].direction);(d=b.splice.apply(b,o([d,e[c+1].i-d],t.greatCircle([f,e[c].lat],[f,e[c+1].lat],!0),!1))).push.apply(d,t.greatCircle([y,e[c+1].lat],[y,e[c].lat],!0)),r.push(d),c-=2}if(l)for(f=0;f<r.length;f++){c=l.direction;var p=l.lat;if(-1<(d=(y=r[f]).indexOf(l.lonLat))){f=(0>p?-1:1)*this.maxLatitude;var q=h(180+1e-6*c),m=h(180-1e-6*c);for(p=t.greatCircle([q,p],[q,f],!0),q+=120*c;-180<q&&180>q;q+=120*c)p.push([q,f]);p.push.apply(p,t.greatCircle([m,f],[m,l.lat],!0)),y.splice.apply(y,o([d,0],p,!1));break}}}else for(c=e.length;c--;)d=e[c].i,(d=b.splice(d,b.length,[h(180+1e-6*e[c].direction),e[c].lat])).unshift([h(180-1e-6*e[c].direction),e[c].lat]),r.push(d);return r},t.prototype.path=function(b){var e,a=this,o=this.bounds,n=this.def,g=this.rotator,l=[],h="Polygon"===b.type||"MultiPolygon"===b.type,c=this.hasGeoProjection,d=!n||!1!==n.antimeridianCutting,f=d?g:void 0,q=d&&n||this;o&&(e=[[o.x1,o.y1],[o.x2,o.y1],[o.x2,o.y2],[o.x1,o.y2]]);var y=function(b){b=b.map((function(a){if(d){f&&(a=f.forward(a));var b=a[0];1e-6>Math.abs(b-180)&&(b=180>b?179.999999:180.000001),a=[b,a[1]]}return a}));var n=[b];c&&(t.insertGreatCircles(b),d&&(n=a.cutOnAntimeridian(b,h))),n.forEach((function(a){if(!(2>a.length)){var b=!1,n=!1,g=function(a){b?l.push(["L",a[0],a[1]]):(l.push(["M",a[0],a[1]]),b=!0)},f=!1,y=!1,u=a.map((function(a){return(a=q.forward(a)).outside?f=!0:y=!0,1/0===a[1]?a[1]=1e10:-1/0===a[1]&&(a[1]=-1e10),a}));if(d){if(h&&u.push(u[0]),f){if(!y)return;if(e)if(h)u=r(u,e);else if(o)return void p(u,e).forEach((function(a){b=!1,a.forEach(g)}))}u.forEach(g)}else for(var m=0;m<u.length;m++){var v=a[m],x=u[m];if(x.outside)n=!0;else{if(h&&!M){var M=v;a.push(v),u.push(x)}n&&j&&(h&&c?t.greatCircle(j,v).forEach((function(a){return g(q.forward(a))})):b=!1),g(x);var j=v;n=!1}}}}))};return"LineString"===b.type?y(b.coordinates):"MultiLineString"===b.type?b.coordinates.forEach((function(a){return y(a)})):"Polygon"===b.type?(b.coordinates.forEach((function(a){return y(a)})),l.length&&l.push(["Z"])):"MultiPolygon"===b.type&&(b.coordinates.forEach((function(a){a.forEach((function(a){return y(a)}))})),l.length&&l.push(["Z"])),l},t.registry=e,t}()})),e(t,"Maps/MapView.js",[t["Maps/MapViewOptionsDefault.js"],t["Maps/MapViewInsetsOptionsDefault.js"],t["Extensions/GeoJSON.js"],t["Core/Chart/MapChart.js"],t["Maps/MapUtilities.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],(function(t,e,q,o,p,r,g){var n=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),l=this&&this.__spreadArray||function(a,b,t){if(t||2===arguments.length)for(var e,o=0,r=b.length;o<r;o++)!e&&o in b||(e||(e=Array.prototype.slice.call(b,0,o)),e[o]=b[o]);return a.concat(e||Array.prototype.slice.call(b))},h=q.topo2geo,c=o.maps,b=p.boundsFromPath,a=p.pointInPolygon,d=g.addEvent,u=g.clamp,f=g.fireEvent,y=g.isArray,m=g.isNumber,v=g.isObject,x=g.isString,M=g.merge,j=g.pick,C=g.relativeLength,w=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},P=function(){function g(a,b){var e,o=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof S)){var n=l([a.options.chart.map],(a.options.series||[]).map((function(a){return a.mapData})),!0).map((function(a){return o.getGeoMap(a)})),h=[];n.forEach((function(a){a&&(e||(e=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,h.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))}));var c=h.length&&g.compositeBounds(h);if(c){var f=c.x1,u=c.y1,y=c.x2;c=c.y2,f=180<y-f&&90<c-u?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[u,c],rotation:[-(f+y)/2]}}this.geoMap=n[0]}this.userOptions=b||{},n=M(t,{projection:f},e,b),c=e&&e.insets,b=b&&b.insets,c&&b&&(n.insets=g.mergeInsets(c,b)),this.chart=a,this.center=n.center,this.options=n,this.projection=new r(n.projection),this.playingField=a.plotBox,this.zoom=n.zoom||0,this.createInsets(),this.eventsToUnbind.push(d(a,"afterSetChartSize",(function(){o.playingField=o.getField(),void 0!==o.minZoom&&o.minZoom!==o.zoom||(o.fitToBounds(void 0,void 0,!1),!o.chart.hasRendered&&m(o.userOptions.zoom)&&(o.zoom=o.userOptions.zoom),o.userOptions.center&&M(!0,o.center,o.userOptions.center))}))),this.setUpEvents()}return g.mergeInsets=function(a,b){var t=function(a){var b={};return a.forEach((function(a,t){b[a&&a.id||"i".concat(t)]=a})),b},e=M(t(a),t(b));return Object.keys(e).map((function(a){return e[a]}))},g.prototype.createInsets=function(){var a=this,b=this.options,t=b.insets;t&&t.forEach((function(t){t=new S(a,M(b.insetOptions,t)),a.insets.push(t)}))},g.prototype.fitToBounds=function(a,b,t,e){void 0===t&&(t=!0);var o=a||this.getProjectedBounds();if(o){var r=j(b,a?0:this.options.padding);b=this.getField(!1),r=y(r)?r:[r,r,r,r],this.padding=[C(r[0],b.height),C(r[1],b.width),C(r[2],b.height),C(r[3],b.width)],this.playingField=this.getField(),b=w(o,this.playingField),a||(this.minZoom=b),a=this.projection.inverse([(o.x2+o.x1)/2,(o.y2+o.y1)/2]),this.setView(a,b,t,e)}},g.prototype.getField=function(a){return void 0===a&&(a=!0),{x:(a=a?this.padding:[0,0,0,0])[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}},g.prototype.getGeoMap=function(a){if(x(a))return c[a];if(v(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return h(a)}},g.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var t=this.padding,e=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+t[1]+t[3],height:(a.y2-a.y1)*b+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}}},g.prototype.getProjectedBounds=function(){var a=this.projection,t=this.chart.series.reduce((function(a,b){var t=b.getProjectedBounds&&b.getProjectedBounds();return t&&!1!==b.options.affectsMapView&&a.push(t),a}),[]),e=this.options.fitToGeometry;return e?(this.fitToGeometryCache||("MultiPoint"===e.type?(e=e.coordinates.map((function(b){return a.forward(b)})),t=e.map((function(a){return a[0]})),e=e.map((function(a){return a[1]})),this.fitToGeometryCache={x1:Math.min.apply(0,t),x2:Math.max.apply(0,t),y1:Math.min.apply(0,e),y2:Math.max.apply(0,e)}):this.fitToGeometryCache=b(a.path(e))),this.fitToGeometryCache):this.projection.bounds||g.compositeBounds(t)},g.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},g.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,t=a.y,e=a.width;a=a.height;var o=this.projection.forward(this.center),r=this.projection.hasCoordinates?-1:1,n=this.getScale();return{scaleX:n,scaleY:r*=n,translateX:b+e/2-o[0]*n,translateY:t+a/2-o[1]*r}},g.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)},g.prototype.lonLatToProjectedUnits=function(b){var t=this.chart,e=t.mapTransforms;if(e){for(var o in e)if(Object.hasOwnProperty.call(e,o)&&e[o].hitZone){var r=t.transformFromLatLon(b,e[o]);if(r&&a(r,e[o].hitZone.coordinates[0]))return r}return t.transformFromLatLon(b,e.default)}for(e=0,o=this.insets;e<o.length;e++)if((t=o[e]).options.geoBounds&&a({x:b.lon,y:b.lat},t.options.geoBounds.coordinates[0]))return b=t.projection.forward([b.lon,b.lat]),b=t.projectedUnitsToPixels({x:b[0],y:b[1]}),this.pixelsToProjectedUnits(b);if(!(b=this.projection.forward([b.lon,b.lat])).outside)return{x:b[0],y:b[1]}},g.prototype.projectedUnitsToLonLat=function(b){var t=this.chart,e=t.mapTransforms;if(e){for(var o in e)if(Object.hasOwnProperty.call(e,o)&&e[o].hitZone&&a(b,e[o].hitZone.coordinates[0]))return t.transformToLatLon(b,e[o]);return t.transformToLatLon(b,e.default)}e=this.projectedUnitsToPixels(b),o=0;for(var r=this.insets;o<r.length;o++)if((t=r[o]).hitZone&&a(e,t.hitZone.coordinates[0]))return b=t.pixelsToProjectedUnits(e),{lon:(b=t.projection.inverse([b.x,b.y]))[0],lat:b[1]};return{lon:(b=this.projection.inverse([b.x,b.y]))[0],lat:b[1]}},g.prototype.redraw=function(a){this.chart.series.forEach((function(a){a.useMapGeometry&&(a.isDirty=!0)})),this.chart.redraw(a)},g.prototype.setView=function(a,b,t,e){void 0===t&&(t=!0),a&&(this.center=a),"number"==typeof b&&("number"==typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"==typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),m(b)&&(this.zoom=b));var o=this.getProjectedBounds();if(o){a=this.projection.forward(this.center);var r=this.playingField;b=r.x;var n=r.y,g=r.width;r=r.height;var l=this.getScale(),h=this.projectedUnitsToPixels({x:o.x1,y:o.y1}),c=this.projectedUnitsToPixels({x:o.x2,y:o.y2});o=[(o.x1+o.x2)/2,(o.y1+o.y2)/2];var u=h.x,d=c.y;c=c.x,h=h.y,c-u<g?a[0]=o[0]:u<b&&c<b+g?a[0]+=Math.max(u-b,c-g-b)/l:c>b+g&&u>b&&(a[0]+=Math.min(c-g-b,u-b)/l),h-d<r?a[1]=o[1]:d<n&&h<n+r?a[1]-=Math.max(d-n,h-r-n)/l:h>n+r&&d>n&&(a[1]-=Math.min(h-r-n,d-n)/l),this.center=this.projection.inverse(a),this.insets.forEach((function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())})),this.render()}f(this,"afterSetView"),t&&this.redraw(e)},g.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),t=this.projection.forward(this.center),e=this.playingField;return{x:e.x+e.width/2-b*(t[0]-a.x),y:e.y+e.height/2+b*(t[1]-a.y)}},g.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))},g.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var t=this.getScale(),e=this.projection.forward(this.center),o=this.playingField;return{x:e[0]+(b-(o.x+o.width/2))/t,y:e[1]-(a-(o.y+o.height/2))/t}},g.prototype.setUpEvents=function(){var t,e,o,a=this,b=this.chart,r=function(r){var n=b.pointer.pinchDown,g=a.projection,l=b.mouseDownX,h=b.mouseDownY;if(1===n.length&&(l=n[0].chartX,h=n[0].chartY),"number"==typeof l&&"number"==typeof h){var c=""+l+",".concat(h),d=r.originalEvent;n=d.chartX,d=d.chartY,c!==e&&(e=c,t=a.projection.forward(a.center),o=(a.projection.options.rotation||[0,0]).slice()),c=(c=g.def&&g.def.bounds)&&w(c,a.playingField)||-1/0,"Orthographic"===g.options.name&&(a.minZoom||1/0)<1.1*c?(g=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),o&&(l=(l-n)*g-o[0],h=u(-o[1]-(h-d)*g,-80,80),n=a.zoom,a.update({projection:{rotation:[-l,-h]}},!1),a.zoom=n,b.redraw(!1))):m(n)&&m(d)&&(g=a.getScale(),h=a.projection.inverse([t[0]+(l-n)/g,t[1]-(h-d)/g*(a.projection.hasCoordinates?1:-1)]),a.setView(h,void 0,!0,!1)),r.preventDefault()}};d(b,"pan",r),d(b,"touchpan",r),d(b,"selection",(function(t){if(t.resetSelection)a.zoomBy();else{var e=t.x-b.plotLeft,o=t.y-b.plotTop,r=a.pixelsToProjectedUnits({x:e,y:o}),n=r.y;r=r.x,e=a.pixelsToProjectedUnits({x:e+t.width,y:o+t.height}),a.fitToBounds({x1:r,y1:n,x2:e.x,y2:e.y},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||b.showResetZoom(),t.preventDefault()}}))},g.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},g.prototype.update=function(a,b,t){void 0===b&&(b=!0);var e=a.projection;e=e&&r.toString(e)!==r.toString(this.options.projection);var o=!1;M(!0,this.userOptions,a),M(!0,this.options,a),"insets"in a&&(this.insets.forEach((function(a){return a.destroy()})),this.insets.length=0,o=!0),(e||"fitToGeometry"in a)&&delete this.fitToGeometryCache,(e||o)&&(this.chart.series.forEach((function(a){var b=a.transformGroups;if(a.clearBounds&&a.clearBounds(),a.isDirty=!0,a.isDirtyData=!0,o&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()})),e&&(this.projection=new r(this.options.projection)),o&&this.createInsets(),a.center||m(a.zoom)||this.fitToBounds(void 0,void 0,!1)),a.center||m(a.zoom)?this.setView(this.options.center,a.zoom,!1):"fitToGeometry"in a&&this.fitToBounds(void 0,void 0,!1),b&&this.chart.redraw(t)},g.prototype.zoomBy=function(a,b,t,e){var o=this.chart,r=this.projection.forward(this.center),n=(b=b?this.projection.forward(b):[])[0],g=b[1];"number"==typeof a?(a=this.zoom+a,b=void 0,t&&(n=t[0],g=t[1],t=this.getScale(),n=n-o.plotLeft-o.plotWidth/2,o=g-o.plotTop-o.plotHeight/2,n=r[0]+n/t,g=r[1]+o/t),"number"==typeof n&&"number"==typeof g&&(t=1-Math.pow(2,this.zoom)/Math.pow(2,a),n=r[0]-n,o=r[1]-g,r[0]-=n*t,r[1]+=o*t,b=this.projection.inverse(r)),this.setView(b,a,void 0,e)):this.fitToBounds(void 0,void 0,void 0,e)},g.compositeBounds=function(a){if(a.length)return a.slice(1).reduce((function(a,b){return a.x1=Math.min(a.x1,b.x1),a.y1=Math.min(a.y1,b.y1),a.x2=Math.max(a.x2,b.x2),a.y2=Math.max(a.y2,b.y2),a}),M(a[0]))},g}(),S=function(t){function o(a,o){var r=t.call(this,a.chart,o)||this;return r.id=o.id,r.mapView=a,r.options=M(e,o),r.allBounds=[],r.options.geoBounds&&(a=a.projection.path(r.options.geoBounds),r.geoBoundsProjectedBox=b(a),r.geoBoundsProjectedPolygon=a.map((function(a){return[a[1]||0,a[2]||0]}))),r}return n(o,t),o.prototype.getField=function(a){void 0===a&&(a=!0);var b=this.hitZone;if(b){var e=a?this.padding:[0,0,0,0],o=(b=b.coordinates[0]).map((function(a){return a[0]})),r=b.map((function(a){return a[1]}));b=Math.min.apply(0,o)+e[3],o=Math.max.apply(0,o)-e[1];var n=Math.min.apply(0,r)+e[0];if(e=Math.max.apply(0,r)-e[2],m(b)&&m(n))return{x:b,y:n,width:o-b,height:e-n}}return t.prototype.getField.call(this,a)},o.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,t=this.options,e=(t.field||{}).coordinates;if(e){if(e=e[0],"percent"===t.units){var o="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||M(a.plotBox,{x:0,y:0});e=e.map((function(a){return[C(a[0]+"%",o.width,o.x),C(a[1]+"%",o.height,o.y)]}))}return{type:"Polygon",coordinates:[e]}}},o.prototype.getProjectedBounds=function(){return P.compositeBounds(this.allBounds)},o.prototype.isInside=function(b){var t=this.geoBoundsProjectedBox,e=this.geoBoundsProjectedPolygon;return!!(t&&b.x>=t.x1&&b.x<=t.x2&&b.y>=t.y1&&b.y<=t.y2&&e&&a(b,e))},o.prototype.render=function(){var a=this.chart,b=this.mapView,t=this.options,e=t.borderPath||t.field;if(e&&b.group){var o=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),o=!1),a.styledMode||this.border.attr({stroke:t.borderColor,"stroke-width":t.borderWidth});var r=Math.round(this.border.strokeWidth())%2/2,n="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||[]).reduce((function(b,e){return e.reduce((function(b,e,o){var g=e[0];return e=e[1],"percent"===t.units&&(g=a.plotLeft+C(g+"%",n.width,n.x),e=a.plotTop+C(e+"%",n.height,n.y)),g=Math.floor(g)+r,e=Math.floor(e)+r,b.push(0===o?["M",g,e]:["L",g,e]),b}),b)}),[]),this.border[o?"animate":"attr"]({d:b})}},o.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach((function(a){return a()}))},o.prototype.setUpEvents=function(){},o}(P);return d(o,"afterInit",(function(){this.mapView=new P(this,this.options.mapView)})),P})),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapComposition.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Maps/MapView.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,o,p,r,g,n,l,h,c,b){var a=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),d=t.animObject;t=o.noop;var u=r.splitPath,f=(r=h.seriesTypes).column,y=r.scatter;r=b.extend;var m=b.find,v=b.fireEvent,x=b.getNestedProperty,M=b.isArray,j=b.defined,C=b.isNumber,w=b.isObject,P=b.merge,S=b.objectEach,L=b.pick,A=b.splat;return b=function(b){function t(){var a=null!==b&&b.apply(this,arguments)||this;return a.chart=void 0,a.data=void 0,a.group=void 0,a.joinBy=void 0,a.options=void 0,a.points=void 0,a.processedData=[],a}return a(t,b),t.prototype.animate=function(a){var b=this.chart,t=this.group,e=d(this.options.animation);b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},e))},t.prototype.animateDrilldown=function(a){var b=this.chart,t=this.group;b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))},t.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},t.prototype.animateDrillupTo=function(a){f.prototype.animateDrillupTo.call(this,a)},t.prototype.clearBounds=function(){this.points.forEach((function(a){delete a.bounds,delete a.insetIndex,delete a.projectedPath})),delete this.bounds},t.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},t.prototype.drawMapDataLabels=function(){l.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},t.prototype.drawPoints=function(){var a=this,b=this,t=this.chart,e=this.group,o=this.transformGroups,r=void 0===o?[]:o,n=t.mapView,g=t.renderer;n&&(this.transformGroups=r,r[0]||(r[0]=g.g().add(e)),n.insets.forEach((function(a,b){r[b+1]||r.push(g.g().add(e))})),this.doFullTranslate()&&(this.points.forEach((function(b){var e=b.graphic,o=b.shapeArgs;b.group=r["number"==typeof b.insetIndex?b.insetIndex+1:0],e&&e.parentGroup!==b.group&&e.add(b.group),o&&t.hasRendered&&!t.styledMode&&(o.fill=a.pointAttribs(b,b.state).fill)})),f.prototype.drawPoints.apply(this),this.points.forEach((function(e){var o=e.graphic;if(o){var r=o.animate,n="";e.name&&(n+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase()),e.properties&&e.properties["hc-key"]&&(n+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase()),n&&o.addClass(n),t.styledMode&&o.css(a.pointAttribs(e,e.selected?"select":void 0)),o.animate=function(a,e,n){var g=C(a["stroke-width"])&&!C(o["stroke-width"]),l=C(o["stroke-width"])&&!C(a["stroke-width"]);if(g||l){var h=L(b.getStrokeWidth(b.options),1)/(t.mapView&&t.mapView.getScale()||1);g&&(o["stroke-width"]=h),l&&(a["stroke-width"]=h)}return r.call(o,a,e,l?function(){o.element.removeAttribute("stroke-width"),delete o["stroke-width"],n&&n.apply(this,arguments)}:n)}}}))),r.forEach((function(e,o){var r=(0===o?n:n.insets[o-1]).getSVGTransform(),l=L(a.getStrokeWidth(a.options),1),h=r.scaleX,c=0<r.scaleY?1:-1,d=function(t){(b.points||[]).forEach((function(b){var e,o=b.graphic;o&&o["stroke-width"]&&(e=a.getStrokeWidth(b.options))&&o.attr({"stroke-width":e/t})}))};if(g.globalAnimation&&t.hasRendered){var u=Number(e.attr("translateX")),f=Number(e.attr("translateY")),p=Number(e.attr("scaleX"));e.attr({animator:0}).animate({animator:1},{step:function(a,b){a=p+(h-p)*b.pos,e.attr({translateX:u+(r.translateX-u)*b.pos,translateY:f+(r.translateY-f)*b.pos,scaleX:a,scaleY:a*c,"stroke-width":l/a}),d(a)}})}else e.attr(P(r,{"stroke-width":l/h})),d(h)})),this.drawMapDataLabels())},t.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,t=a.projection,e=[];(this.points||[]).forEach((function(a){if(a.path||a.geometry){if("string"==typeof a.path?a.path=u(a.path):M(a.path)&&"M"===a.path[0]&&(a.path=c.prototype.pathToSegments(a.path)),!a.bounds){var o=a.getProjectedBounds(t);if(o){a.labelrank=L(a.labelrank,(o.x2-o.x1)*(o.y2-o.y1));var r=o.midX,n=o.midY;if(b&&C(r)&&C(n)){var g=m(b,(function(a){return a.isInside({x:r,y:n})}));g&&(delete a.projectedPath,(o=a.getProjectedBounds(g.projection))&&g.allBounds.push(o),a.insetIndex=b.indexOf(g))}a.bounds=o}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}})),this.bounds=n.compositeBounds(e)}return this.bounds},t.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]},t.prototype.hasData=function(){return!!this.processedXData.length},t.prototype.pointAttribs=function(a,b){var t=a.series.chart,e=t.mapView;t=t.styledMode?this.colorAttribs(a):f.prototype.pointAttribs.call(this,a,b);var o=this.getStrokeWidth(a.options);return b&&(b=P(this.options.states[b],a.options.states&&a.options.states[b]||{}),b=this.getStrokeWidth(b),j(b)&&(o=b)),o&&e&&(o/=e.getScale()),b=this.getStrokeWidth(this.options),t.dashstyle&&e&&C(b)&&(o=b/e.getScale()),a.visible||(t.fill=this.options.nullColor),j(o)?t["stroke-width"]=o:delete t["stroke-width"],t["stroke-linecap"]=t["stroke-linejoin"]=this.options.linecap,t},t.prototype.updateData=function(){return!this.processedData&&b.prototype.updateData.apply(this,arguments)},t.prototype.setData=function(a,t,e,o){void 0===t&&(t=!0),delete this.bounds,b.prototype.setData.call(this,a,!1,void 0,o),this.processData(),this.generatePoints(),t&&this.chart.redraw(e)},t.prototype.processData=function(){var a=this.options,b=a.data,t=this.chart.options.chart,e=this.joinBy,r=a.keys||this.pointArrayMap,n=[],l={},h=this.chart.mapView;h=h&&(w(a.mapData,!0)?h.getGeoMap(a.mapData):h.geoMap);var c=this.chart.mapTransforms;if((this.chart.mapTransforms=c=t.mapTransforms||h&&h["hc-transform"]||c)&&S(c,(function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))})),M(a.mapData))var d=a.mapData;else h&&"FeatureCollection"===h.type&&(this.mapTitle=h.title,d=o.geojson(h,this.type,this));var u=this.processedData=[];if(b&&b.forEach((function(t,o){var n=0;if(C(t))u[o]={value:t};else if(M(t)){u[o]={},!a.keys&&t.length>r.length&&"string"==typeof t[0]&&(u[o]["hc-key"]=t[0],++n);for(var l=0;l<r.length;++l,++n)r[l]&&void 0!==t[n]&&(0<r[l].indexOf(".")?g.prototype.setNestedProperty(u[o],t[n],r[l]):u[o][r[l]]=t[n])}else u[o]=b[o];e&&"_i"===e[0]&&(u[o]._i=o)})),d){for(this.mapData=d,this.mapMap={},c=0;c<d.length;c++)h=(t=d[c]).properties,t._i=c,e[0]&&h&&h[e[0]]&&(t[e[0]]=h[e[0]]),l[t[e[0]]]=t;if(this.mapMap=l,e[1]){var p=e[1];u.forEach((function(a){a=x(p,a),l[a]&&n.push(l[a])}))}if(a.allAreas){if(e[1]){var q=e[1];u.forEach((function(a){n.push(x(q,a))}))}var f="|"+n.map((function(a){return a&&a[e[0]]})).join("|")+"|";d.forEach((function(a){e[0]&&-1!==f.indexOf("|"+a[e[0]]+"|")||u.push(P(a,{value:null}))}))}}this.processedXData=Array(u.length)},t.prototype.setOptions=function(a){var b=(a=l.prototype.setOptions.call(this,a)).joinBy;return null===b&&(b="_i"),(b=this.joinBy=A(b))[1]||(b[1]=b[0]),a},t.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,t=b&&b.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||C(b.userOptions.zoom)?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1)),b){var e=b.getSVGTransform();this.points.forEach((function(o){var r=C(o.insetIndex)&&b.insets[o.insetIndex].getSVGTransform()||e;r&&o.bounds&&C(o.bounds.midX)&&C(o.bounds.midY)&&(o.plotX=o.bounds.midX*r.scaleX+r.translateX,o.plotY=o.bounds.midY*r.scaleY+r.translateY),a&&(o.shapeType="path",o.shapeArgs={d:g.getProjectedPath(o,t)})}))}v(this,"afterTranslate")},t.defaultOptions=P(y.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return C(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"butt",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"}}}),t}(y),r(b.prototype,{type:"map",axisTypes:e.seriesMembers.axisTypes,colorAttribs:e.seriesMembers.colorAttribs,colorKey:e.seriesMembers.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,drawLegendSymbol:p.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:t,isCartesian:!1,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:e.seriesMembers.pointArrayMap,pointClass:g,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.seriesMembers.trackerGroups,useMapGeometry:!0}),e.compose(b),h.registerSeriesType("map",b),b})),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var o=this&&this.__extends||function(){var t=function(e,g){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var a in b)b.hasOwnProperty(a)&&(t[a]=b[a])})(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}(),p=e.series,r=q.extend,g=q.merge;return q=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return o(r,e),r.prototype.pointAttribs=function(e,g){return(e=t.prototype.pointAttribs.call(this,e,g)).fill=this.options.fillColor,e},r.defaultOptions=g(t.defaultOptions,{lineWidth:1,fillColor:"none"}),r}(t),r(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:p.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),e.registerSeriesType("mapline",q),q})),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){var q=this&&this.__extends||function(){var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var g in e)e.hasOwnProperty(g)&&(t[g]=e[g])},t(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}(),o=e.isNumber;return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e}return q(e,t),e.prototype.isValid=function(){return!!(this.options.geometry||o(this.x)&&o(this.y)||o(this.options.lon)&&o(this.options.lat))},e}(t.seriesTypes.scatter.prototype.pointClass)})),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,o,p){var a,r=this&&this.__extends||(a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)},function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)});t=t.noop;var g=q.seriesTypes,n=g.map,l=g.scatter;g=p.extend;var h=p.fireEvent,c=p.isNumber,b=p.merge;return p=function(a){function t(){var b=null!==a&&a.apply(this,arguments)||this;return b.chart=void 0,b.data=void 0,b.options=void 0,b.points=void 0,b.clearBounds=n.prototype.clearBounds,b}return r(t,a),t.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},t.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var t=a.geometry,e=a.lon;if(a=a.lat,t=t&&"Point"===t.type&&t.coordinates,c(e)&&c(a)&&(t=[e,a]),t)return b.lonLatToProjectedUnits({lon:t[0],lat:t[1]})}},t.prototype.translate=function(){var a=this,b=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),b){var t=b.getSVGTransform(),e=b.projection.hasCoordinates;this.points.forEach((function(o){var r=o.x;r=void 0===r?void 0:r;var n=o.y;n=void 0===n?void 0:n;var g=c(o.insetIndex)&&b.insets[o.insetIndex].getSVGTransform()||t,l=a.projectPoint(o.options)||o.properties&&a.projectPoint(o.properties);if(l)r=l.x,n=l.y;else if(o.bounds&&(r=o.bounds.midX,n=o.bounds.midY,g&&c(r)&&c(n))){o.plotX=r*g.scaleX+g.translateX,o.plotY=n*g.scaleY+g.translateY;var h=!0}c(r)&&c(n)?h||(h=b.projectedUnitsToPixels({x:r,y:n}),o.plotX=h.x,o.plotY=e?h.y:a.chart.plotHeight-h.y):o.y=o.plotX=o.plotY=void 0,o.isInside=a.isPointInside(o),o.zone=a.zones.length?o.getZone():void 0}))}h(this,"afterTranslate")},t.defaultOptions=b(l.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),t}(l),o.prototype.symbols.mapmarker=function(a,b,t,e,o){var r=o&&"legend"===o.context;return r?(a+=t/2,o=b+e):o&&"number"==typeof o.anchorX&&"number"==typeof o.anchorY?(a=o.anchorX,o=o.anchorY):(a+=t/2,o=b+e/2,b-=e),[["M",a,o],["C",a,o,a-(e=r?e/3:e/2),b+1.5*e,a-e,b+e],["A",e,e,1,1,1,a+e,b+e],["C",a+e,b+1.5*e,a,o,a,o],["Z"]]},g(p.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),q.registerSeriesType("mappoint",p),p})),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,q,o){var p=t.parse,r=q.noop,g=o.arrayMax,n=o.arrayMin,l=o.isNumber,h=o.merge,c=o.pick,b=o.stableSort;return t=function(){function a(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0,this.setState=r,this.init(a,b)}return a.prototype.init=function(a,b){this.options=a,this.visible=!0,this.chart=b.chart,this.legend=b},a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)},a.prototype.drawLegendSymbol=function(a){var t=this.chart,e=c(a.options.itemDistance,20),o=this.legendItem||{},g=this.options,r=g.ranges,n=g.connectorDistance;this.fontMetrics=t.renderer.fontMetrics(g.labels.style.fontSize),r&&r.length&&l(r[0].value)?(b(r,(function(a,b){return b.value-a.value})),this.ranges=r,this.setOptions(),this.render(),a=this.getMaxLabelSize(),t=2*(r=this.ranges[0].radius),n=0<(n=n-r+a.width)?n:0,this.maxLabel=a,this.movementX="left"===g.labels.align?n:0,o.labelWidth=t+n+e,o.labelHeight=t+this.fontMetrics.h/2):a.options.bubbleLegend.autoRanges=!0},a.prototype.setOptions=function(){var a=this.ranges,b=this.options,t=this.chart.series[b.seriesIndex],e=this.legend.baseline,g={zIndex:b.zIndex,"stroke-width":b.borderWidth},o={zIndex:b.zIndex,"stroke-width":b.connectorWidth},r={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},n=t.options.marker.fillOpacity,q=this.chart.styledMode;a.forEach((function(l,d){q||(g.stroke=c(l.borderColor,b.borderColor,t.color),g.fill=c(l.color,b.color,1!==n?p(t.color).setOpacity(n).get("rgba"):t.color),o.stroke=c(l.connectorColor,b.connectorColor,t.color)),a[d].radius=this.getRangeRadius(l.value),a[d]=h(a[d],{center:a[0].radius-a[d].radius+e}),q||h(!0,a[d],{bubbleAttribs:h(g),connectorAttribs:h(o),labelAttribs:r})}),this)},a.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)},a.prototype.render=function(){var a=this.legendItem||{},b=this.chart.renderer,t=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),a.symbol=b.g("bubble-legend"),a.label=b.g("bubble-legend-item"),a.symbol.translateX=0,b=a.symbol.translateY=0;for(var e=this.ranges;b<e.length;b++){var g=e[b];g.value>=t&&this.renderRange(g)}a.symbol.add(a.label),a.label.add(a.group),this.hideOverlappingLabels()},a.prototype.renderRange=function(a){var b=this.options,t=b.labels,e=this.chart,o=e.series[b.seriesIndex],g=e.renderer,r=this.symbols;e=r.labels;var n=a.center,l=Math.abs(a.radius),h=b.connectorDistance||0,p=t.align,q=b.connectorWidth,c=this.ranges[0].radius||0,d=n-l-b.borderWidth/2+q/2,f=this.fontMetrics;f=f.f/2-(f.h-f.f)/2;var y=g.styledMode;h=this.legend.options.rtl||"left"===p?-h:h,"center"===p&&(h=0,b.connectorDistance=0,a.labelAttribs.align="center"),p=d+b.labels.y;var m=c+h+b.labels.x;r.bubbleItems.push(g.circle(c,n+((d%1?1:.5)-(q%2?0:.5)),l).attr(y?{}:a.bubbleAttribs).addClass((y?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendItem.symbol)),r.connectors.push(g.path(g.crispLine([["M",c,d],["L",c+h,d]],b.connectorWidth)).attr(y?{}:a.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendItem.symbol)),a=g.text(this.formatLabel(a),m,p+f).attr(y?{}:a.labelAttribs).css(y?{}:t.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendItem.symbol),e.push(a),a.placed=!0,a.alignAttr={x:m,y:p+f}},a.prototype.getMaxLabelSize=function(){var a,b;return this.symbols.labels.forEach((function(t){b=t.getBBox(!0),a=a?b.width>a.width?b:a:b})),a||{}},a.prototype.formatLabel=function(a){var b=this.options,t=b.labels.formatter;b=b.labels.format;var o=this.chart.numberFormatter;return b?e.format(b,a):t?t.call(a):o(a.value,1)},a.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach((function(a,t){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[t].show():b.connectors[t].hide()})))},a.prototype.getRanges=function(){var t,a=this.legend.bubbleLegend,b=a.options.ranges,e=Number.MAX_VALUE,o=-Number.MAX_VALUE;a.chart.series.forEach((function(a){a.isBubble&&!a.ignoreSeries&&(t=a.zData.filter(l)).length&&(e=c(a.options.zMin,Math.min(e,Math.max(n(t),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),o=c(a.options.zMax,Math.max(o,g(t))))}));var r=e===o?[{value:o}]:[{value:e},{value:(e+o)/2},{value:o,autoRanges:!0}];return b.length&&b[0].radius&&r.reverse(),r.forEach((function(a,t){b&&b[t]&&(r[t]=h(b[t],a))})),r},a.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,t=a.legend.options,e=t.floating,g=(t="horizontal"===t.layout)?a.legend.lastLineHeight:0,o=a.plotSizeX,r=a.plotSizeY,n=a.series[this.options.seriesIndex],l=n.getPxExtremes();a=Math.ceil(l.minPxSize),l=Math.ceil(l.maxPxSize);var p=Math.min(r,o);return n=n.options.maxSize,e||!/%$/.test(n)?b=l:(n=parseFloat(n),b=(p+g-b.h/2)*n/100/(n/100+1),(t&&r-b>=o||!t&&o-b>=r)&&(b=l)),[a,Math.ceil(b)]},a.prototype.updateRanges=function(a,b){var t=this.legend.options.bubbleLegend;t.minSize=a,t.maxSize=b,t.ranges=this.getRanges()},a.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())},a}(),t})),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e,q,o){function p(b,t,e){var o,n=this.legend,l=0<=r(this);if(n&&n.options.enabled&&n.bubbleLegend&&n.options.bubbleLegend.autoRanges&&l){var c=n.bubbleLegend.options;l=n.bubbleLegend.predictBubbleSizes(),n.bubbleLegend.updateRanges(l[0],l[1]),c.placed||(n.group.placed=!1,n.allItems.forEach((function(a){(o=a.legendItem||{}).group&&(o.group.translateY=null)}))),n.render(),this.getMargins(),this.axes.forEach((function(b){b.visible&&b.render(),c.placed||(b.setScale(),b.updateNames(),a(b.ticks,(function(a){a.isNew=!0,a.isNewLabel=!0})))})),c.placed=!0,this.getMargins(),b.call(this,t,e),n.bubbleLegend.correctSizes(),h(n,g(n))}else b.call(this,t,e),n&&n.options.enabled&&n.bubbleLegend&&(n.render(),h(n,g(n)))}function r(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function g(a){var t,b=[],e=(a=a.allItems).length,o=0;for(t=0;t<e;t++){var r=a[t].legendItem||{},g=(a[t+1]||{}).legendItem||{};if(r.labelHeight&&(a[t].itemHeight=r.labelHeight),a[t]===a[e-1]||r.y!==g.y){for(b.push({height:0}),r=b[b.length-1];o<=t;o++)a[o].itemHeight>r.height&&(r.height=a[o].itemHeight);r.step=t}}return b}function n(a){var b=this.bubbleLegend,t=this.options,o=t.bubbleLegend,n=r(this.chart);b&&b.ranges&&b.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(b)),0<=n&&t.enabled&&o.enabled&&(o.seriesIndex=n,this.bubbleLegend=new e(o,this),this.bubbleLegend.addToLegend(a.allItems))}function l(){var a=this.chart,b=this.visible,t=this.chart.legend;t&&t.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=r(a),t.bubbleLegend.visible!==a&&(t.update({bubbleLegend:{enabled:a}}),t.bubbleLegend.visible=a),this.visible=b)}function h(a,b){var t,e,g,o,r=a.options.rtl,n=0;a.allItems.forEach((function(a,l){(o=a.legendItem||{}).group&&(t=o.group.translateX||0,e=o.y||0,((g=a.movementX)||r&&a.ranges)&&(g=r?t-a.options.maxSize/2:t+g,o.group.attr({translateX:g})),l>b[n].step&&n++,o.group.attr({translateY:Math.round(e+b[n].height/2)}),o.y=e+b[n].height/2)}))}var c=q.setOptions,b=o.addEvent,a=o.objectEach,d=o.wrap,u=[];return{compose:function(a,e,g){-1===u.indexOf(a)&&(u.push(a),c({legend:{bubbleLegend:t}}),d(a.prototype,"drawChartBox",p)),-1===u.indexOf(e)&&(u.push(e),b(e,"afterGetAllItems",n)),-1===u.indexOf(g)&&(u.push(g),b(g,"legendItemClick",l))}}})),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var o=this&&this.__extends||function(){var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var g in e)e.hasOwnProperty(g)&&(t[g]=e[g])},t(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}();return q=q.extend,e=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return o(r,e),r.prototype.haloPath=function(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)},r}(e.seriesTypes.scatter.prototype.pointClass),q(e.prototype,{ttBelow:!1}),e})),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,o,p,r){function g(){var p,a=this,b=this.len,t=this.chart,e=this.isXAxis,o=e?"xData":"yData",r=this.min,g=this.max-r,n=0,l=b,h=b/g;this.series.forEach((function(b){if(b.bubblePadding&&(b.visible||!t.options.chart.ignoreHiddenSeries)){p=a.allowZoomOutside=!0;var c=b[o];if(e&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii)),0<g)for(var q=c.length;q--;)if(y(c[q])&&a.dataMin<=c[q]&&c[q]<=a.max){var d=b.radii&&b.radii[q]||0;n=Math.min((c[q]-r)*h-d,n),l=Math.max((c[q]-r)*h+d,l)}}})),p&&0<g&&!this.logarithmic&&(l-=b,h*=(b+Math.max(0,n)-Math.min(l,b))/b,[["min","userMin",n],["max","userMax",l]].forEach((function(b){void 0===v(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/h)})))}var n=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),l=q.parse;q=o.noop;var h=p.series,c=p.seriesTypes;o=c.column.prototype;var b=c.scatter;c=r.addEvent;var a=r.arrayMax,d=r.arrayMin,u=r.clamp,f=r.extend,y=r.isNumber,m=r.merge,v=r.pick,x=[];return r=function(e){function o(){var a=null!==e&&e.apply(this,arguments)||this;return a.data=void 0,a.maxPxSize=void 0,a.minPxSize=void 0,a.options=void 0,a.points=void 0,a.radii=void 0,a.yData=void 0,a.zData=void 0,a}return n(o,e),o.compose=function(a,b,e,o){t.compose(b,e,o),-1===x.indexOf(a)&&(x.push(a),a.prototype.beforePadding=g)},o.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach((function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))}),this)},o.prototype.getRadii=function(){var a=this,b=this.zData,t=this.yData,e=[],o=this.chart.bubbleZExtremes,r=this.getPxExtremes(),g=r.minPxSize,n=r.maxPxSize;if(!o){var l,h=Number.MAX_VALUE,c=-Number.MAX_VALUE;this.chart.series.forEach((function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(h=Math.min(h||b.zMin,b.zMin),c=Math.max(c||b.zMax,b.zMax),l=!0)})),l?(o={zMin:h,zMax:c},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}var d=0;for(r=b.length;d<r;d++){var p=b[d];e.push(this.getRadius(o.zMin,o.zMax,g,n,p,t&&t[d]))}this.radii=e},o.prototype.getRadius=function(a,b,t,e,o,r){var g=this.options,n="width"!==g.sizeBy,l=g.zThreshold,h=b-a,c=.5;if(null===r||null===o)return null;if(y(o)){if(g.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(b-l,Math.abs(a-l)),a=0),o<a)return t/2-1;0<h&&(c=(o-a)/h)}return n&&0<=c&&(c=Math.sqrt(c)),Math.ceil(t+c*(e-t))/2},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.pointAttribs=function(a,b){var t=this.options.marker.fillOpacity;return a=h.prototype.pointAttribs.call(this,a,b),1!==t&&(a.fill=l(a.fill).setOpacity(t).get("rgba")),a},o.prototype.translate=function(){e.prototype.translate.call(this),this.getRadii(),this.translateBubble()},o.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,t=this.getPxExtremes().minPxSize,e=a.length;e--;){var o=a[e],r=b?b[e]:0;y(r)&&r>=t/2?(o.marker=f(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):(o.shapeArgs=o.plotY=o.dlBox=void 0,o.isInside=!1)}},o.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"==typeof b){var t=/%$/.test(b);b=parseInt(b,10)}return t?a*b/100:b},t=b(v(this.options.minSize,8));return{minPxSize:t,maxPxSize:b=Math.max(b(v(this.options.maxSize,"20%")),t)}},o.prototype.getZExtremes=function(){var b=this.options,t=(this.zData||[]).filter(y);if(t.length){var e=v(b.zMin,u(d(t),!1===b.displayNegative?b.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(b=v(b.zMax,a(t)),y(e)&&y(b))return{zMin:e,zMax:b}}},o.defaultOptions=m(b.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return y(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),o}(b),f(r.prototype,{alignDataLabel:o.alignDataLabel,applyZones:q,bubblePadding:!0,buildKDTree:q,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),c(r,"updatedData",(function(a){delete a.target.chart.bubbleZExtremes})),c(r,"remove",(function(a){delete a.target.chart.bubbleZExtremes})),p.registerSeriesType("bubble",r),r})),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Series/Bubble/BubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var o=this&&this.__extends||function(){var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var g in e)e.hasOwnProperty(g)&&(t[g]=e[g])},t(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}();return e=e.seriesTypes.map.prototype.pointClass.prototype,q=q.extend,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return"number"==typeof this.z},e}(t),q(t.prototype,{applyOptions:e.applyOptions,getProjectedBounds:e.getProjectedBounds}),t})),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,o){var p=this&&this.__extends||function(){var t=function(e,b){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(e,b)};return function(e,b){function a(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),r=q.seriesTypes,g=r.map.prototype,n=r.mappoint.prototype;r=o.extend;var l=o.merge;return o=function(e){function o(){var b=null!==e&&e.apply(this,arguments)||this;return b.data=void 0,b.options=void 0,b.points=void 0,b.clearBounds=g.clearBounds,b}return p(o,e),o.prototype.searchPoint=function(b,a){return this.searchKDTree({clientX:b.chartX-this.chart.plotLeft,plotY:b.chartY-this.chart.plotTop},a,b)},o.prototype.translate=function(){n.translate.call(this),this.getRadii(),this.translateBubble()},o.defaultOptions=l(t.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),o}(t),r(o.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:g.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:g.processData,projectPoint:n.projectPoint,setData:g.setData,setOptions:g.setOptions,updateData:g.updateData,useMapGeometry:!0,xyFromShape:!0}),q.registerSeriesType("mapbubble",o),o})),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){var q=this&&this.__extends||function(){var t=function(e,g){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var a in b)b.hasOwnProperty(a)&&(t[a]=b[a])})(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}(),o=e.clamp,p=e.defined,r=e.extend,g=e.pick;return t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e.value=void 0,e.x=void 0,e.y=void 0,e}return q(e,t),e.prototype.applyOptions=function(e,g){return(this.isNull||null===this.value)&&delete this.color,t.prototype.applyOptions.call(this,e,g),this.formatPrefix=this.isNull||null===this.value?"null":"point",this},e.prototype.getCellAttributes=function(){var t=this.series,e=t.options,b=(e.colsize||1)/2,a=(e.rowsize||1)/2,r=t.xAxis,n=t.yAxis,q=this.options.marker||t.options.marker;t=t.pointPlacementToXValue();var l=g(this.pointPadding,e.pointPadding,0),h={x1:o(Math.round(r.len-r.translate(this.x-b,!1,!0,!1,!0,-t)),-r.len,2*r.len),x2:o(Math.round(r.len-r.translate(this.x+b,!1,!0,!1,!0,-t)),-r.len,2*r.len),y1:o(Math.round(n.translate(this.y-a,!1,!0,!1,!0)),-n.len,2*n.len),y2:o(Math.round(n.translate(this.y+a,!1,!0,!1,!0)),-n.len,2*n.len)};return[["width","x"],["height","y"]].forEach((function(a){var b=a[0],t=(a=a[1])+"1",e=a+"2",o=Math.abs(h[t]-h[e]),g=q&&q.lineWidth||0,r=Math.abs(h[t]+h[e])/2;b=q&&q[b],p(b)&&b<o&&(b=b/2+g/2,h[t]=r-b,h[e]=r+b),l&&("y"===a&&(t=e,e=a+"1"),h[t]+=l,h[e]-=l)})),h},e.prototype.haloPath=function(t){if(!t)return[];var e=this.shapeArgs||{},b=e.x;b=void 0===b?0:b;var a=e.y;a=void 0===a?0:a;var o=e.width;return o=void 0===o?0:o,[["M",b-t,a-t],["L",b-t,a+(e=void 0===(e=e.height)?0:e)+t],["L",b+o+t,a+e+t],["L",b+o+t,a-t],["Z"]]},e.prototype.isValid=function(){return 1/0!==this.value&&-1/0!==this.value},e}(t.seriesTypes.scatter.prototype.pointClass),r(t.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),t})),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapComposition.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,o,p,r,g){var n=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),l=p.series,h=p.seriesTypes,c=h.column,b=h.scatter,a=r.prototype.symbols;r=g.extend;var d=g.fireEvent,u=g.isNumber,f=g.merge,y=g.pick;return g=function(e){function g(){var a=null!==e&&e.apply(this,arguments)||this;return a.colorAxis=void 0,a.data=void 0,a.options=void 0,a.points=void 0,a.valueMax=NaN,a.valueMin=NaN,a}return n(g,e),g.prototype.drawPoints=function(){var a=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(l.prototype.drawPoints.call(this),this.points.forEach((function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})))},g.prototype.getExtremes=function(){var a=l.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;return a=a.dataMax,u(b)&&(this.valueMin=b),u(a)&&(this.valueMax=a),l.prototype.getExtremes.call(this)},g.prototype.getValidPoints=function(a,b){return l.prototype.getValidPoints.call(this,a,b,!0)},g.prototype.hasData=function(){return!!this.processedXData.length},g.prototype.init=function(){e.prototype.init.apply(this,arguments);var b=this.options;b.pointRange=y(b.pointRange,b.colsize||1),this.yAxis.axisPointRange=b.rowsize||1,a.ellipse=a.circle,b.marker&&(b.marker.r=b.borderRadius)},g.prototype.markerAttribs=function(a,b){var t=a.shapeArgs||{};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b&&"normal"!==b){var e=a.options.marker||{};return a=(a=this.options.marker||{}).states&&a.states[b]||{},b=((e=e.states&&e.states[b]||{}).width||a.width||t.width||0)+(e.widthPlus||a.widthPlus||0),a=(e.height||a.height||t.height||0)+(e.heightPlus||a.heightPlus||0),{x:(t.x||0)+((t.width||0)-b)/2,y:(t.y||0)+((t.height||0)-a)/2,width:b,height:a}}return t},g.prototype.pointAttribs=function(a,b){var e=l.prototype.pointAttribs.call(this,a,b),o=this.options||{},r=this.chart.options.plotOptions||{},g=r.series||{},n=r.heatmap||{};return r=a&&a.options.borderColor||o.borderColor||n.borderColor||g.borderColor,g=a&&a.options.borderWidth||o.borderWidth||n.borderWidth||g.borderWidth||e["stroke-width"],e.stroke=a&&a.marker&&a.marker.lineColor||o.marker&&o.marker.lineColor||r||this.color,e["stroke-width"]=g,b&&"normal"!==b&&(a=f(o.states&&o.states[b],o.marker&&o.marker.states&&o.marker.states[b],a&&a.options.states&&a.options.states[b]||{}),e.fill=a.color||t.parse(e.fill).brighten(a.brightness||0).get(),e.stroke=a.lineColor||e.stroke),e},g.prototype.translate=function(){var b=this.options,t=b.marker&&b.marker.symbol||"rect",e=a[t]?t:"rect",g=-1!==["circle","square"].indexOf(e);this.generatePoints(),this.points.forEach((function(o){var r=o.getCellAttributes(),n=Math.min(r.x1,r.x2),l=Math.min(r.y1,r.y2),h=Math.max(Math.abs(r.x2-r.x1),0),c=Math.max(Math.abs(r.y2-r.y1),0);o.hasImage=0===(o.marker&&o.marker.symbol||t||"").indexOf("url"),g&&(l=Math.abs(h-c),n=Math.min(r.x1,r.x2)+(h<c?0:l/2),l=Math.min(r.y1,r.y2)+(h<c?l/2:0),h=c=Math.min(h,c)),o.hasImage&&(o.marker={width:h,height:c}),o.plotX=o.clientX=(r.x1+r.x2)/2,o.plotY=(r.y1+r.y2)/2,o.shapeType="path",o.shapeArgs=f(!0,{x:n,y:l,width:h,height:c},{d:a[e](n,l,h,c,{r:b.borderRadius})})})),d(this,"afterTranslate")},g.defaultOptions=f(b.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return u(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),g}(b),r(g.prototype,{axisTypes:e.seriesMembers.axisTypes,colorKey:e.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:q,specialGroup:"group",trackerGroups:e.seriesMembers.trackerGroups,alignDataLabel:c.prototype.alignDataLabel,colorAttribs:e.seriesMembers.colorAttribs,drawLegendSymbol:o.drawRectangle,getSymbol:l.prototype.getSymbol}),e.compose(g),p.registerSeriesType("heatmap",g),g})),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Core/Chart/MapChart.js"],t["Maps/MapView.js"],t["Maps/Projection.js"]],(function(t,e,q,o,p,r){t.ColorAxis=e,t.MapChart=o,t.mapChart=t.Map=o.mapChart,t.MapView=p,t.maps=o.maps,t.Projection=r,e.compose(t.Chart,t.Fx,t.Legend,t.Series),q.compose(t.Axis,t.Chart,t.Legend,t.Series)}))},t.exports?(l.default=l,t.exports=l):(r=[o(219)],void 0===(n=function(t){return l(t),l.Highcharts=t,l}.apply(e,r))||(t.exports=n))}}]);