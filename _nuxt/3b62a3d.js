(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{608:function(t,e,r){var n,o,a;a=function(a){function t(a,t,b,e){a.hasOwnProperty(t)||(a[t]=e.apply(null,b),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:a[t]}})))}t(a=a?a._modules:{},"Core/Geometry/GeometryUtilities.js",[],(function(){var a;return function(a){a.getCenterOfPoints=function(a){var b=a.reduce((function(a,b){return a.x+=b.x,a.y+=b.y,a}),{x:0,y:0});return{x:b.x/a.length,y:b.y/a.length}},a.getDistanceBetweenPoints=function(a,t){return Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))},a.getAngleBetweenPoints=function(a,t){return Math.atan2(t.x-a.x,t.y-a.y)}}(a||(a={})),a})),t(a,"Core/Geometry/CircleUtilities.js",[a["Core/Geometry/GeometryUtilities.js"]],(function(a){var t,e=a.getAngleBetweenPoints,b=a.getCenterOfPoints,r=a.getDistanceBetweenPoints;return function(a){function t(a,t){return t=Math.pow(10,t),Math.round(a*t)/t}function q(a){if(0>=a)throw Error("radius of circle must be a positive number.");return Math.PI*a*a}function n(a,t){return a*a*Math.acos(1-t/a)-(a-t)*Math.sqrt(t*(2*a-t))}function o(a,e){var b=r(a,e),n=a.r,p=e.r,o=[];if(b<n+p&&b>Math.abs(n-p)){var c=((n*=n)-p*p+b*b)/(2*b);p=Math.sqrt(n-c*c),n=a.x,o=e.x,a=a.y;var l=e.y;e=n+c*(o-n)/b,c=a+c*(l-a)/b,a=p/b*-(l-a),b=p/b*-(o-n),o=[{x:t(e+a,14),y:t(c-b,14)},{x:t(e-a,14),y:t(c+b,14)}]}return o}function c(a){return a.reduce((function(a,b,t,p){return p=p.slice(t+1).reduce((function(a,e,p,r){var n=[t,p+t+1];return a.concat(o(b,e).map((function(a){return a.indexes=n,a})))}),[]),a.concat(p)}),[])}function l(a,t){return r(a,t)<=t.r+1e-10}function f(a,t){return!t.some((function(t){return!l(a,t)}))}function h(a){return c(a).filter((function(t){return f(t,a)}))}a.round=t,a.getAreaOfCircle=q,a.getCircularSegmentArea=n,a.getOverlapBetweenCircles=function(a,e,b){var r=0;return b<a+e&&(b<=Math.abs(e-a)?r=q(a<e?a:e):(b-=r=(a*a-e*e+b*b)/(2*b),r=n(a,a-r)+n(e,e-b)),r=t(r,14)),r},a.getCircleCircleIntersection=o,a.getCirclesIntersectionPoints=c,a.isCircle1CompletelyOverlappingCircle2=function(a,b){return r(a,b)+b.r<a.r+1e-10},a.isPointInsideCircle=l,a.isPointInsideAllCircles=f,a.isPointOutsideAllCircles=function(a,b){return!b.some((function(b){return l(a,b)}))},a.getCirclesIntersectionPolygon=h,a.getAreaOfIntersectionBetweenCircles=function(a){var t=h(a);if(1<t.length){var n=b(t);t=t.map((function(a){return a.angle=e(n,a),a})).sort((function(a,b){return b.angle-a.angle}));var o=t[t.length-1];if(t=t.reduce((function(t,n){var o=t.startPoint,c=b([o,n]),l=n.indexes.filter((function(a){return-1<o.indexes.indexOf(a)})).reduce((function(u,g){g=a[g];var t=e(g,n),l=e(g,o);return t=l-(l-t+(l<t?2*Math.PI:0))/2,(t=r(c,{x:g.x+g.r*Math.sin(t),y:g.y+g.r*Math.cos(t)}))>2*(g=g.r)&&(t=2*g),(!u||u.width>t)&&(u={r:g,largeArc:t>g?1:0,width:t,x:n.x,y:n.y}),u}),null);if(l){var f=l.r;t.arcs.push(["A",f,f,0,l.largeArc,1,l.x,l.y]),t.startPoint=n}return t}),{startPoint:o,arcs:[]}).arcs,0!==t.length&&1!==t.length){t.unshift(["M",o.x,o.y]);var c={center:n,d:t}}}return c}}(t||(t={})),t})),t(a,"Series/DrawPointUtilities.js",[a["Core/Utilities.js"]],(function(a){return{draw:function(a,b){var t=b.animatableAttribs,e=b.onComplete,r=b.css,n=b.renderer,q=a.series&&a.series.chart.hasRendered?void 0:a.series&&a.series.options.animation,o=a.graphic;if(b.attribs=b.attribs||{},b.attribs.class=a.getClassName(),a.shouldDraw())o||(a.graphic=o="text"===b.shapeType?n.text():n[b.shapeType](b.shapeArgs||{}),o.add(b.group)),r&&o.css(r),o.attr(b.attribs).animate(t,!b.isNew&&q,e);else if(o){var c=function(){a.graphic=o=o&&o.destroy(),"function"==typeof e&&e()};Object.keys(t).length?o.animate(t,void 0,(function(){return c()})):c()}}}})),t(a,"Series/Venn/VennPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t){var b=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),e=t.isNumber;return function(a){function t(){var b=null!==a&&a.apply(this,arguments)||this;return b.options=void 0,b.series=void 0,b}return b(t,a),t.prototype.isValid=function(){return e(this.value)},t.prototype.shouldDraw=function(){return!!this.shapeArgs},t}(a.seriesTypes.scatter.prototype.pointClass)})),t(a,"Series/Venn/VennUtils.js",[a["Core/Geometry/CircleUtilities.js"],a["Core/Geometry/GeometryUtilities.js"],a["Core/Utilities.js"]],(function(a,t,b){function e(a){var b=a.filter((function(a){return 2===a.sets.length})).reduce((function(a,t){return t.sets.forEach((function(e,b,g){P(a[e])||(a[e]={overlapping:{},totalOverlap:0}),a[e].totalOverlap+=t.value,a[e].overlapping[g[1-b]]=t.value})),a}),{});return a.filter(c).forEach((function(a){O(a,b[a.sets[0]])})),a}function r(a,b,g,t,e){var r=a(b),u=a(g);e=e||100,t=t||1e-10;var n=g-b,o=1;if(b>=g)throw Error("a must be smaller than b.");if(0<r*u)throw Error("f(a) and f(b) must have opposite signs.");if(0===r)var c=b;else if(0===u)c=g;else for(;o++<=e&&0!==l&&n>t;){var l=a(c=b+(n=(g-b)/2));0<r*l?b=c:g=c}return c}function n(a){for(var b=(a=a.slice(0,-1)).length,g=[],t=function(a,t){return a.sum+=t[a.i],a},e=0;e<b;e++)g[e]=a.reduce(t,{sum:0,i:e}).sum/b;return g}function o(a,b,g){var t=a+b;return 0>=g?t:d(a<b?a:b)<=g?0:r((function(t){return t=p(a,b,t),g-t}),0,t)}function c(a){return w(a.sets)&&1===a.sets.length}function l(a){var b={};return P(a)&&A(a.value)&&-1<a.value&&w(a.sets)&&0<a.sets.length&&!a.sets.some((function(a){var t=!1;return!b[a]&&j(a)?b[a]=!0:t=!0,t}))}function f(a,b){return b.reduce((function(b,t){var e=0;return 1<t.sets.length&&(e=t.value,t=function(a){var b=0;return 2===a.length&&(b=a[0],a=a[1],b=p(b.r,a.r,C(b,a))),b}(t.sets.map((function(t){return a[t]}))),t=e-t,e=Math.round(t*t*1e11)/1e11),b+e}),0)}function h(a,b){return b.totalOverlap-a.totalOverlap}var d=a.getAreaOfCircle,y=a.getCircleCircleIntersection,p=a.getOverlapBetweenCircles,v=a.isPointInsideAllCircles,x=a.isPointInsideCircle,m=a.isPointOutsideAllCircles,C=t.getDistanceBetweenPoints,O=b.extend,w=b.isArray,A=b.isNumber,P=b.isObject,j=b.isString;return{geometry:t,geometryCircles:a,addOverlapToSets:e,getCentroid:n,getDistanceBetweenCirclesByOverlap:o,getLabelWidth:function(a,b,g){var t=b.reduce((function(a,t){return Math.min(t.r,a)}),1/0),e=g.filter((function(t){return!x(a,t)}));return g=function(t,g){return r((function(r){var n={x:a.x+g*r,y:a.y};return n=v(n,b)&&m(n,e),-(t-r)+(n?0:Number.MAX_VALUE)}),0,t)},2*Math.min(g(t,-1),g(t,1))},getMarginFromCircles:function(a,b,g){return b=b.reduce((function(t,b){return(b=b.r-C(a,b))<=t?b:t}),Number.MAX_VALUE),g.reduce((function(t,b){return(b=C(a,b)-b.r)<=t?b:t}),b)},isSet:c,layoutGreedyVenn:function(a){var b=[],g={};a.filter((function(a){return 1===a.sets.length})).forEach((function(a){g[a.sets[0]]=a.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(a.value/Math.PI)}}));var t=function(a,t){var e=a.circle;e.x=t.x,e.y=t.y,b.push(a)};e(a);var r=a.filter(c).sort(h);t(r.shift(),{x:0,y:0});var n=a.filter((function(a){return 2===a.sets.length}));return r.forEach((function(a){var e=a.circle,r=e.r,c=a.overlapping,l=b.reduce((function(a,t,l){var h=t.circle,u=o(r,h.r,c[t.sets[0]]),d=[{x:h.x+u,y:h.y},{x:h.x-u,y:h.y},{x:h.x,y:h.y+u},{x:h.x,y:h.y-u}];return b.slice(l+1).forEach((function(a){var t=a.circle;a=o(r,t.r,c[a.sets[0]]),d=d.concat(y({x:h.x,y:h.y,r:u},{x:t.x,y:t.y,r:a}))})),d.forEach((function(t){e.x=t.x,e.y=t.y;var b=f(g,n);b<a.loss&&(a.loss=b,a.coordinates=t)})),a}),{loss:Number.MAX_VALUE,coordinates:void 0});t(a,l.coordinates)})),g},loss:f,nelderMead:function(a,b){var g=function(a,t){return a.fx-t.fx},t=function(a,t,b,e){return t.map((function(t,g){return a*t+b*e[g]}))},e=function(t,b){return b.fx=a(b),t[t.length-1]=b,t},r=function(b){var e=b[0];return b.map((function(b){return(b=t(.5,e,.5,b)).fx=a(b),b}))},o=function(b,e,g,r){return(b=t(g,b,r,e)).fx=a(b),b};b=function(b){var t=b.length,e=Array(t+1);e[0]=b,e[0].fx=a(b);for(var g=0;g<t;++g){var r=b.slice();r[g]=r[g]?1.05*r[g]:.001,r.fx=a(r),e[g+1]=r}return e}(b);for(var c=0;100>c;c++){b.sort(g);var l=b[b.length-1],f=n(b),h=o(f,l,2,-1);if(h.fx<b[0].fx)b=e(b,(l=o(f,l,3,-2)).fx<h.fx?l:h);else if(h.fx>=b[b.length-2].fx){var d=void 0;b=h.fx>l.fx?(d=o(f,l,.5,.5)).fx<l.fx?e(b,d):r(b):(d=o(f,l,1.5,-.5)).fx<h.fx?e(b,d):r(b)}else b=e(b,h)}return b[0]},processVennData:function(a){var b=(a=w(a)?a:[]).reduce((function(a,b){return l(b)&&c(b)&&0<b.value&&-1===a.indexOf(b.sets[0])&&a.push(b.sets[0]),a}),[]).sort(),g=a.reduce((function(a,t){return l(t)&&!t.sets.some((function(a){return-1===b.indexOf(a)}))&&(a[t.sets.sort().join()]=t),a}),{});return b.reduce((function(a,b,g,t){return t.slice(g+1).forEach((function(t){a.push(b+","+t)})),a}),[]).forEach((function(a){if(!g[a]){var b={sets:a.split(","),value:0};g[a]=b}})),Object.keys(g).map((function(a){return g[a]}))},sortByTotalOverlap:h}})),t(a,"Series/Venn/VennSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Geometry/CircleUtilities.js"],a["Series/DrawPointUtilities.js"],a["Core/Geometry/GeometryUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Venn/VennPoint.js"],a["Series/Venn/VennUtils.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Utilities.js"]],(function(a,t,b,e,r,n,o,q,c,l){var f=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=a.animObject,d=t.parse,y=b.getAreaOfIntersectionBetweenCircles,p=b.getCirclesIntersectionPolygon,v=b.isCircle1CompletelyOverlappingCircle2,x=b.isPointInsideAllCircles,m=b.isPointOutsideAllCircles,C=r.getCenterOfPoints,O=n.seriesTypes.scatter;a=l.addEvent;var w=l.extend,A=l.isArray,P=l.isNumber,j=l.isObject,M=l.merge;return l=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.data=void 0,b.mapOfIdToRelation=void 0,b.options=void 0,b.points=void 0,b}return f(b,a),b.getLabelPosition=function(a,b){var t=a.reduce((function(t,e){var r=e.r/2;return[{x:e.x,y:e.y},{x:e.x+r,y:e.y},{x:e.x-r,y:e.y},{x:e.x,y:e.y+r},{x:e.x,y:e.y-r}].reduce((function(t,e){var r=q.getMarginFromCircles(e,a,b);return t.margin<r&&(t.point=e,t.margin=r),t}),t)}),{point:void 0,margin:-Number.MAX_VALUE}).point;return t={x:(t=q.nelderMead((function(t){return-q.getMarginFromCircles({x:t[0],y:t[1]},a,b)}),[t.x,t.y]))[0],y:t[1]},x(t,a)&&m(t,b)||(t=1<a.length?C(p(a)):{x:a[0].x,y:a[0].y}),t},b.getLabelValues=function(a,t){var e=a.sets,r=t.reduce((function(a,b){return a[-1<e.indexOf(b.sets[0])?"internal":"external"].push(b.circle),a}),{internal:[],external:[]});return r.external=r.external.filter((function(a){return r.internal.some((function(b){return!v(a,b)}))})),{position:a=b.getLabelPosition(r.internal,r.external),width:t=q.getLabelWidth(a,r.internal,r.external)}},b.layout=function(a){var t={},e={};if(0<a.length){var r=q.layoutGreedyVenn(a),g=a.filter(q.isSet);a.forEach((function(a){var n=a.sets,o=n.join();(n=q.isSet(a)?r[o]:y(n.map((function(a){return r[a]}))))&&(t[o]=n,e[o]=b.getLabelValues(a,g))}))}return{mapOfIdToShape:t,mapOfIdToLabelValues:e}},b.getScale=function(a,b,t){var e=t.bottom-t.top,r=t.right-t.left;return{scale:e=Math.min(0<r?1/r*a:1,0<e?1/e*b:1),centerX:a/2-(t.right+t.left)/2*e,centerY:b/2-(t.top+t.bottom)/2*e}},b.updateFieldBoundaries=function(a,b){var t=b.x-b.r,e=b.x+b.r,r=b.y+b.r;return b=b.y-b.r,(!P(a.left)||a.left>t)&&(a.left=t),(!P(a.right)||a.right<e)&&(a.right=e),(!P(a.top)||a.top>b)&&(a.top=b),(!P(a.bottom)||a.bottom<r)&&(a.bottom=r),a},b.prototype.animate=function(a){if(!a){var b=h(this.options.animation);this.points.forEach((function(a){var t=a.shapeArgs;if(a.graphic&&t){var e={},r={};t.d?e.opacity=.001:(e.r=0,r.r=t.r),a.graphic.attr(e).animate(r,b),t.d&&setTimeout((function(){a&&a.graphic&&a.graphic.animate({opacity:1})}),b.duration)}}),this)}},b.prototype.drawPoints=function(){var a=this,b=a.chart,t=a.group,r=b.renderer;(a.points||[]).forEach((function(n){var o={zIndex:A(n.sets)?n.sets.length:0},g=n.shapeArgs;b.styledMode||w(o,a.pointAttribs(n,n.state)),e.draw(n,{isNew:!n.graphic,animatableAttribs:g,attribs:o,group:t,renderer:r,shapeType:g&&g.d?"path":"circle"})}))},b.prototype.init=function(){O.prototype.init.apply(this,arguments),delete this.opacity},b.prototype.pointAttribs=function(a,b){var t=this.options||{};return a=M(t,{color:a&&a.color},a&&a.options||{},b&&t.states[b]||{}),{fill:d(a.color).brighten(a.brightness).get(),opacity:a.opacity,stroke:a.borderColor,"stroke-width":a.borderWidth,dashstyle:a.borderDashStyle}},b.prototype.translate=function(){var a=this.chart;this.processedXData=this.xData,this.generatePoints();var t=q.processVennData(this.options.data),e=(t=b.layout(t)).mapOfIdToShape,g=t.mapOfIdToLabelValues;t=Object.keys(e).filter((function(a){return(a=e[a])&&P(a.r)})).reduce((function(a,t){return b.updateFieldBoundaries(a,e[t])}),{top:0,bottom:0,left:0,right:0});var r=(a=b.getScale(a.plotWidth,a.plotHeight,t)).scale,n=a.centerX,o=a.centerY;this.points.forEach((function(a){var b=A(a.sets)?a.sets:[],t=b.join(),c=e[t],l=g[t]||{};t=l.width,l=l.position;var f=a.options&&a.options.dataLabels;if(c){if(c.r)var h={x:n+c.x*r,y:o+c.y*r,r:c.r*r};else c.d&&((c=c.d).forEach((function(a){"M"===a[0]?(a[1]=n+a[1]*r,a[2]=o+a[2]*r):"A"===a[0]&&(a[1]*=r,a[2]*=r,a[6]=n+a[6]*r,a[7]=o+a[7]*r)})),h={d:c});l?(l.x=n+l.x*r,l.y=o+l.y*r):l={},P(t)&&(t=Math.round(t*r))}a.shapeArgs=h,l&&h&&(a.plotX=l.x,a.plotY=l.y),t&&h&&(a.dlOptions=M(!0,{style:{width:t}},j(f,!0)?f:void 0)),a.name=a.options.name||b.join("∩")}))},b.defaultOptions=M(O.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"}}),b}(O),w(l.prototype,{axisTypes:[],directTouch:!0,drawLegendSymbol:c.drawRectangle,isCartesian:!1,pointArrayMap:["value"],pointClass:o,utils:q}),n.registerSeriesType("venn",l),a(l,"afterSetOptions",(function(a){var b=a.options.states;this.is("venn")&&Object.keys(b).forEach((function(a){b[a].halo=!1}))})),l})),t(a,"masters/modules/venn.src.js",[],(function(){}))},t.exports?(a.default=a,t.exports=a):(n=[r(223)],void 0===(o=function(t){return a(t),a.Highcharts=t,a}.apply(e,n))||(t.exports=o))}}]);