/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{593:function(e,t,r){var o,n,l;l=function(e){"use strict";var t=e?e._modules:{};function r(e,path,t,r){e.hasOwnProperty(path)||(e[path]=r.apply(null,t),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:path,module:e[path]}})))}r(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],(function(e,t){var r,o=t.addEvent,n=t.find,l=t.fireEvent,d=t.isArray,c=t.isNumber,f=t.pick;return function(t){var r=[];function h(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function v(){var e=this;e.brokenAxis&&e.brokenAxis.hasBreaks&&(e.options.ordinal=!1)}function m(){var e=this,t=e.brokenAxis;if(t&&t.hasBreaks){for(var r=e.tickPositions,o=e.tickPositions.info,n=[],i=0;i<r.length;i++)t.isInAnyBreak(r[i])||n.push(r[i]);e.tickPositions=n,e.tickPositions.info=o}}function x(){var e=this;e.brokenAxis||(e.brokenAxis=new P(e))}function k(){var e=this,t=e.isDirty,r=e.options.connectNulls,o=e.points,n=e.xAxis,l=e.yAxis;if(t)for(var i=o.length;i--;){var d=o[i],c=!(null===d.y&&!1===r)&&(n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(d.x,!0)||l&&l.brokenAxis&&l.brokenAxis.isInAnyBreak(d.y,!0));d.visible=!c&&!1!==d.options.visible}}function y(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,f(this.pointArrayMap,["y"]))}function A(e,t){var r,o,n,d,h=this,v=h.points;if(e&&e.brokenAxis&&e.brokenAxis.hasBreaks){var m=e.brokenAxis;t.forEach((function(t){r=m&&m.breakArray||[],o=e.isXAxis?e.min:f(h.options.threshold,e.min),v.forEach((function(h){d=f(h["stack"+t.toUpperCase()],h[t]),r.forEach((function(t){c(o)&&c(d)&&(n=!1,o<t.from&&d>t.to||o>t.from&&d<t.from?n="pointBreak":(o<t.from&&d>t.from&&d<t.to||o>t.from&&d>t.to&&d<t.from)&&(n="pointInBreak"),n&&l(e,n,{point:h,brk:t}))}))}))}))}}function G(){var t=this.currentDataGrouping,r=t&&t.gapSize,o=this.points.slice(),n=this.yAxis,l=this.options.gapSize,i=o.length-1;if(l&&i>0){"value"!==this.options.gapUnit&&(l*=this.basePointRange),r&&r>l&&r>=this.basePointRange&&(l=r);for(var d=void 0,c=void 0;i--;)if(c&&!1!==c.visible||(c=o[i+1]),d=o[i],!1!==c.visible&&!1!==d.visible){if(c.x-d.x>l){var f=(d.x+c.x)/2;o.splice(i+1,0,{isNull:!0,x:f}),n.stacking&&this.options.stacking&&((n.stacking.stacks[this.stackKey][f]=new e(n,n.options.stackLabels,!1,f,this.stack)).total=0)}c=d}}return this.getGraphPath(o)}t.compose=function(e,t){if(-1===r.indexOf(e)&&(r.push(e),e.keepProps.push("brokenAxis"),o(e,"init",x),o(e,"afterInit",h),o(e,"afterSetTickPositions",m),o(e,"afterSetOptions",v)),-1===r.indexOf(t)){r.push(t);var n=t.prototype;n.drawBreaks=A,n.gappedPath=G,o(t,"afterGeneratePoints",k),o(t,"afterRender",y)}return e};var P=function(){function e(e){this.hasBreaks=!1,this.axis=e}return e.isInBreak=function(e,t){var r=e.repeat||1/0,o=e.from,n=e.to-e.from,l=t>=o?(t-o)%r:r-(o-t)%r;return e.inclusive?l<=n:l<n&&0!==l},e.lin2Val=function(t){var r=this.brokenAxis,o=r&&r.breakArray;if(!o||!c(t))return t;var n,i,l=t;for(i=0;i<o.length&&!((n=o[i]).from>=l);i++)(n.to<l||e.isInBreak(n,l))&&(l+=n.len);return l},e.val2Lin=function(t){var r=this.brokenAxis,o=r&&r.breakArray;if(!o||!c(t))return t;var n,i,l=t;for(i=0;i<o.length;i++)if((n=o[i]).to<=t)l-=n.len;else{if(n.from>=t)break;if(e.isInBreak(n,t)){l-=t-n.from;break}}return l},e.prototype.findBreakAt=function(e,t){return n(t,(function(b){return b.from<e&&e<b.to}))},e.prototype.isInAnyBreak=function(t,r){var o,n,l,d=this.axis,h=d.options.breaks||[],i=h.length;if(i&&c(t)){for(;i--;)e.isInBreak(h[i],t)&&(o=!0,n||(n=f(h[i].showPoints,!d.isXAxis)));l=o&&r?o&&!n:o}return l},e.prototype.setBreaks=function(t,r){var o=this,n=o.axis,h=d(t)&&!!t.length;n.isDirty=o.hasBreaks!==h,o.hasBreaks=h,n.options.breaks=n.userOptions.breaks=t,n.forceRedraw=!0,n.series.forEach((function(e){e.isDirty=!0})),h||n.val2lin!==e.val2Lin||(delete n.val2lin,delete n.lin2val),h&&(n.userOptions.ordinal=!1,n.lin2val=e.lin2Val,n.val2lin=e.val2Lin,n.setExtremes=function(e,t,r,l,d){if(o.hasBreaks){for(var c=this.options.breaks||[],f=void 0;f=o.findBreakAt(e,c);)e=f.to;for(;f=o.findBreakAt(t,c);)t=f.from;t<e&&(t=e)}n.constructor.prototype.setExtremes.call(this,e,t,r,l,d)},n.setAxisTranslation=function(){if(n.constructor.prototype.setAxisTranslation.call(this),o.unitLength=void 0,o.hasBreaks){var t,r,d,h,v=n.options.breaks||[],m=[],x=[],k=f(n.pointRangePadding,0),y=0,A=n.userMin||n.min,G=n.userMax||n.max;v.forEach((function(t){r=t.repeat||1/0,c(A)&&c(G)&&(e.isInBreak(t,A)&&(A+=t.to%r-A%r),e.isInBreak(t,G)&&(G-=G%r-t.from%r))})),v.forEach((function(e){if(d=e.from,r=e.repeat||1/0,c(A)&&c(G)){for(;d-r>A;)d-=r;for(;d<A;)d+=r;for(h=d;h<G;h+=r)m.push({value:h,move:"in"}),m.push({value:h+e.to-e.from,move:"out",size:e.breakSize})}})),m.sort((function(a,b){return a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value})),t=0,d=A,m.forEach((function(e){1===(t+="in"===e.move?1:-1)&&"in"===e.move&&(d=e.value),0===t&&c(d)&&(x.push({from:d,to:e.value,len:e.value-d-(e.size||0)}),y+=e.value-d-(e.size||0))})),o.breakArray=x,c(A)&&c(G)&&c(n.min)&&(o.unitLength=G-A-y+k,l(n,"afterBreaks"),n.staticScale?n.transA=n.staticScale:o.unitLength&&(n.transA*=(G-n.min+k)/o.unitLength),k&&(n.minPixelPadding=n.transA*(n.minPointOffset||0)),n.min=A,n.max=G)}}),f(r,!0)&&n.chart.redraw()},e}();t.Additions=P}(r||(r={})),r})),r(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,r,o){var n,l=r.dateFormats,d=o.addEvent,c=o.defined,f=o.erase,h=o.find,v=o.isArray,m=o.isNumber,x=o.merge,k=o.pick,y=o.timeUnits,A=o.wrap;!function(e){e[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left"}(n||(n={}));var G=[];function P(e){return Array.prototype.slice.call(e,1)}function O(e){return o.isObject(e,!0)}function T(e,t){var r={width:0,height:0};if(t.forEach((function(t){var label,o=e[t],n=0,l=0;O(o)&&(n=(label=O(o.label)?o.label:{}).getBBox?label.getBBox().height:0,label.textStr&&!m(label.textPxLength)&&(label.textPxLength=label.getBBox().width),l=m(label.textPxLength)?Math.round(label.textPxLength):0,label.textStr&&(l=Math.round(label.getBBox().width)),r.height=Math.max(n,r.height),r.width=Math.max(l,r.width))})),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){var o=this.treeGrid.mapOfPosToGridNode[-1].height||0;r.width+=this.options.labels.indentation*(o-1)}return r}function B(){var e=this.grid;(e&&e.columns||[]).forEach((function(e){e.getOffset()}))}function C(e){var t=this;if(!0===(t.options.grid||{}).enabled){var r=t.axisTitle,o=t.height,l=t.horiz,d=t.left,c=t.offset,f=t.opposite,h=t.options,v=t.top,m=t.width,x=t.tickSize(),y=r&&r.getBBox().width,A=h.title.x,G=h.title.y,P=k(h.title.margin,l?5:10),O=t.chart.renderer.fontMetrics(h.title.style.fontSize,r).f,T=(l?v+o:d)+(l?1:-1)*(f?-1:1)*(x?x[0]/2:0)+(t.side===n.bottom?O:0);e.titlePosition.x=l?d-(y||0)/2-P+A:T+(f?m:0)+c+A,e.titlePosition.y=l?T-(f?o:0)+(f?O:-O)/2+c+G:v-P+G}}function w(){var t=this,r=t.chart,o=t.options.grid,n=void 0===o?{}:o,l=t.userOptions;if(n.enabled&&function(e){var t=e.options;t.labels.align=k(t.labels.align,"center"),e.categories||(t.showLastLabel=!1),e.labelRotation=0,t.labels.rotation=0}(t),n.columns)for(var d=t.grid.columns=[],c=t.grid.columnIndex=0;++c<n.columns.length;){var h=x(l,n.columns[n.columns.length-c-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete h.grid.columns;var v=new e(t.chart,h);v.grid.isColumn=!0,v.grid.columnIndex=c,f(r.axes,v),f(r[t.coll],v),d.push(v)}}function E(){var e=this,t=e.grid,r=e.options;if(!0===(r.grid||{}).enabled){var o=e.min||0,l=e.max||0;if(e.maxLabelDimensions=e.getMaxLabelDimensions(e.ticks,e.tickPositions),e.rightWall&&e.rightWall.destroy(),e.grid&&e.grid.isOuterAxis()&&e.axisLine){var d=r.lineWidth;if(d){var c=e.getLinePath(d),f=c[0],h=c[1],v=((e.tickSize("tick")||[1])[0]-1)*(e.side===n.top||e.side===n.left?-1:1);if("M"===f[0]&&"L"===h[0]&&(e.horiz?(f[2]+=v,h[2]+=v):(f[1]+=v,h[1]+=v)),!e.horiz&&e.chart.marginRight){var m=[f,["L",e.left,f[2]||0]],x=["L",e.chart.chartWidth-e.chart.marginRight,e.toPixels(l+e.tickmarkOffset)],k=[["M",h[1]||0,e.toPixels(l+e.tickmarkOffset)],x];e.grid.upperBorder||o%1==0||(e.grid.upperBorder=e.grid.renderBorder(m)),e.grid.upperBorder&&(e.grid.upperBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),e.grid.upperBorder.animate({d:m})),e.grid.lowerBorder||l%1==0||(e.grid.lowerBorder=e.grid.renderBorder(k)),e.grid.lowerBorder&&(e.grid.lowerBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),e.grid.lowerBorder.animate({d:k}))}e.grid.axisLineExtra?(e.grid.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),e.grid.axisLineExtra.animate({d:c})):e.grid.axisLineExtra=e.grid.renderBorder(c),e.axisLine[e.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach((function(e){return e.render()})),!e.horiz&&e.chart.hasRendered&&(e.scrollbar||e.linkedParent&&e.linkedParent.scrollbar)){for(var y=e.tickmarkOffset,A=e.tickPositions[e.tickPositions.length-1],G=e.tickPositions[0],label=void 0,P=void 0;(label=e.hiddenLabels.pop())&&label.element;)label.show();for(;(P=e.hiddenMarks.pop())&&P.element;)P.show();(label=e.ticks[G].label)&&(o-G>y?e.hiddenLabels.push(label.hide()):label.show()),(label=e.ticks[A].label)&&(A-l>y?e.hiddenLabels.push(label.hide()):label.show());var mark=e.ticks[A].mark;mark&&A-l<y&&A-l>0&&e.ticks[A].isLast&&e.hiddenMarks.push(mark.hide())}}}function I(){var e=this,t=e.tickPositions&&e.tickPositions.info,r=e.options,o=r.grid||{},n=e.userOptions.labels||{};o.enabled&&(e.horiz?(e.series.forEach((function(e){e.options.pointRange=0})),t&&r.dateTimeLabelFormats&&r.labels&&!c(n.align)&&(!1===r.dateTimeLabelFormats[t.unitName].range||t.count>1)&&(r.labels.align="left",c(n.x)||(r.labels.x=3))):"treegrid"!==this.options.type&&e.grid&&e.grid.columns&&(this.minPointOffset=this.tickInterval))}function L(e){var t,r=this.options,o=e.userOptions,n=r&&O(r.grid)?r.grid:{};!0===n.enabled&&(t=x(!0,{className:"highcharts-grid-axis "+(o.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},o),"xAxis"===this.coll&&(c(o.linkedTo)&&!c(o.tickPixelInterval)&&(t.tickPixelInterval=350),c(o.tickPixelInterval)||!c(o.linkedTo)||c(o.tickPositioner)||c(o.tickInterval)||(t.tickPositioner=function(e,r){var o=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(o){for(var n=t.units||[],l=void 0,d=1,c="year",i=0;i<n.length;i++){var f=n[i];if(f&&f[0]===o.unitName){l=i;break}}var h=m(l)&&n[l+1];if(h){c=h[0]||"year";var v=h[1];d=v&&v[0]||1}else"year"===o.unitName&&(d=10*o.count);var x=y[c];return this.tickInterval=x*d,this.chart.time.getTimeTicks({unitRange:x,count:d,unitName:c},e,r,this.options.startOfWeek)}})),x(!0,this.options,t),this.horiz&&(r.minPadding=k(o.minPadding,0),r.maxPadding=k(o.maxPadding,0)),m(r.grid.borderWidth)&&(r.tickWidth=r.lineWidth=n.borderWidth))}function N(e){var t=e.userOptions,r=t&&t.grid||{},o=r.columns;r.enabled&&o&&x(!0,this.options,o[o.length-1])}function S(){(this.grid.columns||[]).forEach((function(e){return e.setScale()}))}function M(e){var r=t.defaultLeftAxisOptions,o=this,n=o.horiz,l=o.maxLabelDimensions,d=o.options.grid,c=void 0===d?{}:d;if(c.enabled&&l){var f=2*Math.abs(r.labels.x),h=n?c.cellHeight||f+l.height:f+l.width;v(e.tickSize)?e.tickSize[0]=h:e.tickSize=[h,0]}}function j(){this.axes.forEach((function(e){(e.grid&&e.grid.columns||[]).forEach((function(e){e.setAxisSize(),e.setAxisTranslation()}))}))}function z(e){var t=this.grid;(t.columns||[]).forEach((function(t){return t.destroy(e.keepEvents)})),t.columns=void 0}function D(e){var t=this,r=e.userOptions||{},o=r.grid||{};o.enabled&&c(o.borderColor)&&(r.tickColor=r.lineColor=o.borderColor),t.grid||(t.grid=new H(t)),t.hiddenLabels=[],t.hiddenMarks=[]}function W(e){var t,r,o,l,d,c,f,h=this,label=h.label,v=h.axis,x=v.reversed,k=v.chart,y=v.options.grid||{},A=v.options.labels,G=A.align,P=n[v.side],O=e.tickmarkOffset,T=v.tickPositions,B=h.pos-O,C=m(T[e.index+1])?T[e.index+1]-O:(v.max||0)+O,w=v.tickSize("tick"),E=w?w[0]:0,I=w?w[1]/2:0;!0===y.enabled&&("top"===P?d=(l=v.top+v.offset)-E:"bottom"===P?l=(d=k.chartHeight-v.bottom+v.offset)+E:(l=v.top+v.len-(v.translate(x?C:B)||0),d=v.top+v.len-(v.translate(x?B:C)||0)),"right"===P?f=(c=k.chartWidth-v.right+v.offset)+E:"left"===P?c=(f=v.left+v.offset)-E:(c=Math.round(v.left+(v.translate(x?C:B)||0))-I,f=Math.min(Math.round(v.left+(v.translate(x?B:C)||0))-I,v.left+v.len)),h.slotWidth=f-c,e.pos.x="left"===G?c:"right"===G?f:c+(f-c)/2,e.pos.y=d+(l-d)/2,r=k.renderer.fontMetrics(A.style.fontSize,label&&label.element),t=label?label.getBBox().height:0,A.useHTML?e.pos.y+=r.b+-t/2:(o=Math.round(t/r.h),e.pos.y+=(r.b-(r.h-r.f))/2+-(o-1)*r.h/2),e.pos.x+=v.horiz&&A.x||0)}function R(e){var t=e.axis,o=e.value;if(t.options.grid&&t.options.grid.enabled){var n=t.tickPositions,l=(t.linkedParent||t).series[0],d=o===n[0],c=o===n[n.length-1],f=l&&h(l.options.data,(function(p){return p[t.isXAxis?"x":"y"]===o})),v=void 0;f&&l.is("gantt")&&(v=x(f),r.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(v)),e.isFirst=d,e.isLast=c,e.point=v}}function U(){var e=this,t=e.options,r=t.grid||{},o=e.categories,n=e.tickPositions,l=n[0],d=n[n.length-1],c=e.linkedParent&&e.linkedParent.min,f=e.linkedParent&&e.linkedParent.max,h=c||e.min,v=f||e.max,m=e.tickInterval,x=l<h&&l+m>h,k=d>v&&d-m<v;!0!==r.enabled||o||!e.horiz&&!e.isLinked||(x&&!t.startOnTick&&(n[0]=h),k&&!t.endOnTick&&(n[n.length-1]=v))}function F(e){var t=this,r=t.options.grid,o=void 0===r?{}:r;return!0===o.enabled&&t.categories?t.tickInterval:e.apply(t,P(arguments))}var H=function(){function e(e){this.axis=e}return e.prototype.isOuterAxis=function(){var e=this.axis,t=e.chart,r=e.grid.columnIndex,o=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns,n=r?e.linkedParent:e,l=-1,d=0;return(t[e.coll]||[]).forEach((function(t,r){t.side!==e.side||t.options.isInternal||(d=r,t===n&&(l=r))})),d===l&&(!m(r)||o.length===r)},e.prototype.renderBorder=function(path){var e=this.axis,t=e.chart.renderer,r=e.options,o=t.path(path).addClass("highcharts-axis-line").add(e.axisBorder);return t.styledMode||o.attr({stroke:r.lineColor,"stroke-width":r.lineWidth,zIndex:7}),o},e}();return l.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},l.W=function(e){var time=this,t=new this.Date(e);["Hours","Milliseconds","Minutes","Seconds"].forEach((function(e){time.set(e,t,0)}));var r=(this.get("Day",t)+6)%7,o=new this.Date(t.valueOf());this.set("Date",o,this.get("Date",t)-r+3);var n=new this.Date(this.get("FullYear",o),0,1);return 4!==this.get("Day",n)&&(this.set("Month",t,0),this.set("Date",t,1+(11-this.get("Day",n))%7)),(1+Math.floor((o.valueOf()-n.valueOf())/6048e5)).toString()},{compose:function(e,t,r){return-1===G.indexOf(e)&&(G.push(e),e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=T,A(e.prototype,"unsquish",F),d(e,"init",D),d(e,"afterGetOffset",B),d(e,"afterGetTitlePosition",C),d(e,"afterInit",w),d(e,"afterRender",E),d(e,"afterSetAxisTranslation",I),d(e,"afterSetOptions",L),d(e,"afterSetOptions",N),d(e,"afterSetScale",S),d(e,"afterTickSize",M),d(e,"trimTicks",U),d(e,"destroy",z)),-1===G.indexOf(t)&&d(t,"afterSetChartSize",j),-1===G.indexOf(r)&&(d(r,"afterGetLabelPosition",W),d(r,"labelFormat",R)),e}}})),r(t,"Gantt/Tree.js",[t["Core/Utilities.js"]],(function(e){var t=e.extend,r=e.isNumber,o=e.pick,n=function(data,e){var t=data.reduce((function(e,t){var r=o(t.parent,"");return void 0===e[r]&&(e[r]=[]),e[r].push(t),e}),{});return Object.keys(t).forEach((function(r,o){var n=t[r];""!==r&&-1===e.indexOf(r)&&(n.forEach((function(e){o[""].push(e)})),delete o[r])})),t},l=function(e,n,d,data,c,f){var h,v,m,x=0,k=0,y=f&&f.after,A=f&&f.before,G={data:data,depth:d-1,id:e,level:d,parent:n};return"function"==typeof A&&A(G,f),m=(c[e]||[]).map((function(t){var o=l(t.id,e,d+1,t,c,f),n=t.start,m=!0===t.milestone?n:t.end;return h=!r(h)||n<h?n:h,v=!r(v)||m>v?m:v,x=x+1+o.descendants,k=Math.max(o.height+1,k),o})),data&&(data.start=o(data.start,h),data.end=o(data.end,v)),t(G,{children:m,descendants:x,height:k}),"function"==typeof y&&y(G,f),G};return{getListOfParents:n,getNode:l,getTree:function(data,e){var t=data.map((function(e){return e.id})),r=n(data,t);return l("",null,1,null,r,e)}}})),r(t,"Core/Axis/TreeGrid/TreeGridTick.js",[t["Core/Utilities.js"]],(function(e){var t=e.addEvent,r=e.isObject,o=e.isNumber,n=e.pick,l=e.wrap,d=[];function c(){var e=this;e.treeGrid||(e.treeGrid=new k(e))}function f(label){label.addClass("highcharts-treegrid-node-active"),label.renderer.styledMode||label.css({textDecoration:"underline"})}function h(label,e){var t=r(e.style)?e.style:{};label.removeClass("highcharts-treegrid-node-active"),label.renderer.styledMode||label.css({textDecoration:t.textDecoration})}function v(e,t){var r=e.treeGrid,l=!r.labelIcon,d=t.renderer,c=t.xy,f=t.options,h=f.width||0,v=f.height||0,m={x:c.x-h/2-(f.padding||0),y:c.y-v/2},x=t.collapsed?90:180,k=t.show&&o(m.y),y=r.labelIcon;y||(r.labelIcon=y=d.path(d.symbols[f.type](f.x||0,f.y||0,h,v)).addClass("highcharts-label-icon").add(t.group)),y[k?"show":"hide"](),d.styledMode||y.attr({cursor:"pointer",fill:n(t.color,"#666666"),"stroke-width":1,stroke:f.lineColor,strokeWidth:f.lineWidth||0}),y[l?"attr":"animate"]({translateX:m.x,translateY:m.y,rotation:x})}function m(e,t,l,label,d,c,f,h,v){var m,x,k,y,A,G=this,P=n(G.options&&G.options.labels,c),O=G.pos,T=G.axis,B="treegrid"===T.options.type,C=e.apply(G,[t,l,label,d,P,f,h,v]);return B&&(m=P&&r(P.symbol,!0)?P.symbol:{},x=P&&o(P.indentation)?P.indentation:0,A=(y=(k=T.treeGrid.mapOfPosToGridNode)&&k[O])&&y.depth||1,C.x+=(m.width||0)+2*(m.padding||0)+(A-1)*x),C}function x(e){var o,l,d,c=this,m=c.pos,x=c.axis,label=c.label,k=x.treeGrid.mapOfPosToGridNode,y=x.options,A=n(c.options&&c.options.labels,y&&y.labels),G=A&&r(A.symbol,!0)?A.symbol:{},P=k&&k[m],O=P&&P.depth,T="treegrid"===y.type,B=x.tickPositions.indexOf(m)>-1,C="highcharts-treegrid-node-",w=x.chart.styledMode;T&&P&&label&&label.element&&label.addClass(C+"level-"+O),e.apply(c,Array.prototype.slice.call(arguments,1)),T&&label&&label.element&&P&&P.descendants&&P.descendants>0&&(o=x.treeGrid.isCollapsed(P),v(c,{color:!w&&label.styles&&label.styles.color||"",collapsed:o,group:label.parentGroup,options:G,renderer:label.renderer,show:B,xy:label.xy}),l=C+(o?"collapsed":"expanded"),d=C+(o?"expanded":"collapsed"),label.addClass(l).removeClass(d),w||label.css({cursor:"pointer"}),[label,c.treeGrid.labelIcon].forEach((function(object){object&&!object.attachedTreeGridEvents&&(t(object.element,"mouseover",(function(){f(label)})),t(object.element,"mouseout",(function(){h(label,A)})),t(object.element,"click",(function(){c.treeGrid.toggleCollapse()})),object.attachedTreeGridEvents=!0)})))}var k=function(){function e(e){this.tick=e}return e.compose=function(e){-1===d.indexOf(e)&&(d.push(e),t(e,"init",c),l(e.prototype,"getLabelPosition",m),l(e.prototype,"renderLabel",x),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})},e.prototype.collapse=function(e){var t=this.tick,r=t.axis,o=r.brokenAxis;if(o&&r.treeGrid.mapOfPosToGridNode){var l=t.pos,d=r.treeGrid.mapOfPosToGridNode[l],c=r.treeGrid.collapse(d);o.setBreaks(c,n(e,!0))}},e.prototype.destroy=function(){this.labelIcon&&this.labelIcon.destroy()},e.prototype.expand=function(e){var t=this.tick,r=t.axis,o=r.brokenAxis;if(o&&r.treeGrid.mapOfPosToGridNode){var l=t.pos,d=r.treeGrid.mapOfPosToGridNode[l],c=r.treeGrid.expand(d);o.setBreaks(c,n(e,!0))}},e.prototype.toggleCollapse=function(e){var t=this.tick,r=t.axis,o=r.brokenAxis;if(o&&r.treeGrid.mapOfPosToGridNode){var l=t.pos,d=r.treeGrid.mapOfPosToGridNode[l],c=r.treeGrid.toggleCollapse(d);o.setBreaks(c,n(e,!0))}},e}();return k})),r(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(e,t){var r=t.extend,o=t.isArray,n=t.isNumber,l=t.isObject,d=t.merge,c=t.pick,f={getColor:function(t,r){var o,n,l,d,f,h,v=r.index,m=r.mapOptionsToLevel,x=r.parentColor,k=r.parentColorIndex,y=r.series,A=r.colors,G=r.siblings,P=y.points,O=y.chart.options.chart;return t&&(o=P[t.i],n=m[t.level]||{},o&&n.colorByPoint&&(d=o.index%(A?A.length:O.colorCount),l=A&&A[d]),y.chart.styledMode||(f=c(o&&o.options.color,n&&n.color,l,x&&function(t){var r=n&&n.colorVariation;return r&&"brightness"===r.key&&v&&G?e.parse(t).brighten(r.to*(v/G)).get():t}(x),y.color)),h=c(o&&o.options.colorIndex,n&&n.colorIndex,d,k,r.colorIndex)),{color:f,colorIndex:h}},getLevelOptions:function(e){var t,r,i,f,h,v,m={};if(l(e))for(f=n(e.from)?e.from:1,v=e.levels,r={},t=l(e.defaults)?e.defaults:{},o(v)&&(r=v.reduce((function(e,r){var o,h,v;return l(r)&&n(r.level)&&(v=d({},r),h=c(v.levelIsConstant,t.levelIsConstant),delete v.levelIsConstant,delete v.level,o=r.level+(h?0:f-1),l(e[o])?d(!0,e[o],v):e[o]=v),e}),{})),h=n(e.to)?e.to:1,i=0;i<=h;i++)m[i]=d({},t,l(r[i])?r[i]:{});return m},setTreeValues:function e(t,o){var n=o.before,l=o.idRoot,d=o.mapIdToNode[l],f=!1!==o.levelIsConstant,h=o.points[t.i],v=h&&h.options||{},m=[],x=0;t.levelDynamic=t.level-(f?0:d.level),t.name=c(h&&h.name,""),t.visible=l===t.id||!0===o.visible,"function"==typeof n&&(t=n(t,o)),t.children.forEach((function(n,i){var l=r({},o);r(l,{index:i,siblings:t.children.length,visible:t.visible}),n=e(n,l),m.push(n),n.visible&&(x+=n.val)}));var k=c(v.value,x);return t.visible=k>=0&&(x>0||t.visible),t.children=m,t.childrenTotal=x,t.isLeaf=t.visible&&!x,t.val=k,t},updateRootId:function(e){var t,r;return l(e)&&(r=l(e.options)?e.options:{},t=c(e.rootNode,r.rootId,""),l(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}};return f})),r(t,"Core/Axis/TreeGrid/TreeGridAxis.js",[t["Core/Axis/BrokenAxis.js"],t["Core/Axis/GridAxis.js"],t["Gantt/Tree.js"],t["Core/Axis/TreeGrid/TreeGridTick.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(e,t,r,o,n,l){var d,c=n.getLevelOptions,f=l.addEvent,h=l.find,v=l.fireEvent,m=l.isArray,x=l.isObject,k=l.isString,y=l.merge,A=l.pick,G=l.wrap,P=[];function O(e,t){var r=e.collapseEnd||0,o=e.collapseStart||0;return r>=t&&(o-=.5),{from:o,to:r,showPoints:!1}}function T(data,e,t){var o=[],n=[],l={},d="boolean"==typeof e&&e,c={},f=-1,v={after:function(e){var t=c[e.pos],r=0,o=0;t.children.forEach((function(e){o+=(e.descendants||0)+1,r=Math.max((e.height||0)+1,r)})),t.descendants=o,t.height=r,t.collapsed&&n.push(t)},before:function(e){var t,r,data=x(e.data,!0)?e.data:{},n=k(data.name)?data.name:"",v=l[e.parent],m=x(v,!0)?c[v.pos]:null;d&&x(m,!0)&&(t=h(m.children,(function(e){return e.name===n})))?(r=t.pos,t.nodes.push(e)):r=f++,c[r]||(c[r]=t={depth:m?m.depth+1:0,name:n,id:data.id,nodes:[e],children:[],pos:r},-1!==r&&o.push(n),x(m,!0)&&m.children.push(t)),k(e.id)&&(l[e.id]=e),t&&!0===data.collapsed&&(t.collapsed=!0),e.pos=r}},m=r.getTree(data,v);return c=function(map,e){var t=function(r,o,n){var l=r.nodes,d=.5,c=o+(-1===o?0:e-1),f=(c-o)/2,h=o+f;return l.forEach((function(e){var data=e.data;x(data,!0)&&(data.y=o+(data.seriesIndex||0),delete data.seriesIndex),e.pos=h})),n[h]=r,r.pos=h,r.tickmarkOffset=f+d,r.collapseStart=c+d,r.children.forEach((function(e){t(e,c+1,n),c=(e.collapseEnd||0)-d})),r.collapseEnd=c+d,n};return t(map[-1],-1,{})}(c,t),{categories:o,mapOfIdToNode:l,mapOfPosToGridNode:c,collapsedNodes:n,tree:m}}function B(e){e.target.axes.filter((function(e){return"treegrid"===e.options.type})).forEach((function(t){var data,r,o=t.options||{},n=o.labels,l=o.uniqueNames,d=o.max,f=!t.treeGrid.mapOfPosToGridNode||t.series.some((function(e){return!e.hasRendered||e.isDirtyData||e.isDirty})),h=0;if(f){if(data=t.series.reduce((function(e,s){return s.visible&&((s.options.data||[]).forEach((function(data){s.options.keys&&s.options.keys.length&&(data=s.pointClass.prototype.optionsToObject.call({series:s},data),s.pointClass.setGanttPointAliases(data)),x(data,!0)&&(data.seriesIndex=h,e.push(data))})),!0===l&&h++),e}),[]),d&&data.length<d)for(var i=data.length;i<=d;i++)data.push({name:i+"​"});r=T(data,l||!1,!0===l?h:1),t.categories=r.categories,t.treeGrid.mapOfPosToGridNode=r.mapOfPosToGridNode,t.hasNames=!0,t.treeGrid.tree=r.tree,t.series.forEach((function(e){var t=(e.options.data||[]).map((function(t){return m(t)&&e.options.keys&&e.options.keys.length&&data.forEach((function(e){t.indexOf(e.x)>=0&&t.indexOf(e.x2)>=0&&(t=e)})),x(t,!0)?y(t):t}));e.visible&&e.setData(t,!1)})),t.treeGrid.mapOptionsToLevel=c({defaults:n,from:1,levels:n&&n.levels,to:t.treeGrid.tree&&t.treeGrid.tree.height}),"beforeRender"===e.type&&(t.treeGrid.collapsedNodes=r.collapsedNodes)}}))}function C(e,t){var r,o,n,l=this,c=l.treeGrid.mapOptionsToLevel||{},f="treegrid"===l.options.type,h=l.ticks,v=h[t];f&&l.treeGrid.mapOfPosToGridNode?((r=c[(n=l.treeGrid.mapOfPosToGridNode[t]).depth])&&(o={labels:r}),!v&&d?h[t]=v=new d(l,t,void 0,void 0,{category:n.name,tickmarkOffset:n.tickmarkOffset,options:o}):(v.parameters.category=n.name,v.options=o,v.addLabel())):e.apply(l,Array.prototype.slice.call(arguments,1))}function w(e,t,r){var o=this,n="treegrid"===r.type;o.treeGrid||(o.treeGrid=new I(o)),n&&(f(t,"beforeRender",B),f(t,"beforeRedraw",B),f(t,"addSeries",(function(e){if(e.options.data){var t=T(e.options.data,r.uniqueNames||!1,1);o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes)}})),f(o,"foundExtremes",(function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach((function(e){var t=o.treeGrid.collapse(e);o.brokenAxis&&(o.brokenAxis.setBreaks(t,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter((function(t){return e.collapseStart!==t.collapseStart||e.collapseEnd!==t.collapseEnd}))))}))})),f(o,"afterBreaks",(function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)})),r=y({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},r,{reversed:!0,grid:{columns:void 0}})),e.apply(o,[t,r]),n&&(o.hasNames=!0,o.options.showLastLabel=!0)}function E(e){var t=this,r=t.options,o="treegrid"===r.type;o?(t.min=A(t.userMin,r.min,t.dataMin),t.max=A(t.userMax,r.max,t.dataMax),v(t,"foundExtremes"),t.setAxisTranslation(),t.tickmarkOffset=.5,t.tickInterval=1,t.tickPositions=t.treeGrid.mapOfPosToGridNode?t.treeGrid.getTickPositions():[]):e.apply(t,Array.prototype.slice.call(arguments,1))}var I=function(){function n(e){this.axis=e}return n.compose=function(n,l,c,f){if(-1===P.indexOf(n)){P.push(n),-1===n.keepProps.indexOf("treeGrid")&&n.keepProps.push("treeGrid");var h=n.prototype;G(h,"generateTick",C),G(h,"init",w),G(h,"setTickInterval",E),h.utils={getNode:r.getNode}}return-1===P.indexOf(f)&&(P.push(f),d||(d=f)),t.compose(n,l,f),e.compose(n,c),o.compose(f),n},n.prototype.setCollapsedStatus=function(e){var t=this.axis,r=t.chart;t.series.forEach((function(t){var data=t.options.data;if(e.id&&data){var o=r.get(e.id),n=data[t.data.indexOf(o)];o&&n&&(o.collapsed=e.collapsed,n.collapsed=e.collapsed)}}))},n.prototype.collapse=function(e){var t=this.axis,r=t.options.breaks||[],o=O(e,t.max);return r.push(o),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),r},n.prototype.expand=function(e){var t=this.axis,r=t.options.breaks||[],o=O(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),r.reduce((function(e,b){return b.to===o.to&&b.from===o.from||e.push(b),e}),[])},n.prototype.getTickPositions=function(){var e=this.axis,t=Math.floor(e.min/e.tickInterval)*e.tickInterval,r=Math.ceil(e.max/e.tickInterval)*e.tickInterval;return Object.keys(e.treeGrid.mapOfPosToGridNode||{}).reduce((function(o,n){var l=+n;return!(l>=t&&l<=r)||e.brokenAxis&&e.brokenAxis.isInAnyBreak(l)||o.push(l),o}),[])},n.prototype.isCollapsed=function(e){var t=this.axis,r=t.options.breaks||[],o=O(e,t.max);return r.some((function(b){return b.from===o.from&&b.to===o.to}))},n.prototype.toggleCollapse=function(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)},n}();return I})),r(t,"masters/modules/treegrid.src.js",[t["Core/Globals.js"],t["Core/Axis/TreeGrid/TreeGridAxis.js"]],(function(e,t){var r=e;t.compose(r.Axis,r.Chart,r.Series,r.Tick)}))},e.exports?(l.default=l,e.exports=l):(o=[r(219)],void 0===(n=function(e){return l(e),l.Highcharts=e,l}.apply(t,o))||(e.exports=n))}}]);