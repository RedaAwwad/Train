(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{598:function(t,e,o){var r,n,a;a=function(a){function u(a,t,e,g){a.hasOwnProperty(t)||(a[t]=g.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:a[t]}})))}u(a=a?a._modules:{},"Series/ColorMapComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t){var e,o=a.seriesTypes.column.prototype,g=t.addEvent,r=t.defined;return function(a){function t(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}var e=[];a.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value&&(void 0===this.value||!isNaN(this.value))}},a.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){var b={};return!r(t.color)||t.state&&"normal"!==t.state||(b[this.colorProp||"fill"]=t.color),b},pointAttribs:o.pointAttribs},a.compose=function(o){var b=o.prototype.pointClass;return-1===e.indexOf(b)&&(e.push(b),g(b,"afterSetState",t)),o}}(e||(e={})),e})),u(a,"Series/Treemap/TreemapAlgorithmGroup.js",[],(function(){return function(){function a(a,t,g,e){this.height=a,this.width=t,this.plot=e,this.startDirection=this.direction=g,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(a,g){return Math.max(a/g,g/a)}}}return a.prototype.addElement=function(a){this.lP.total=this.elArr[this.elArr.length-1],this.total+=a,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(a)},a.prototype.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0},a}()})),u(a,"Series/DrawPointUtilities.js",[a["Core/Utilities.js"]],(function(a){function t(a){return"treemap"===(a.series&&a.series.type)?e(a.plotY)&&null!==a.y:!a.isNull}var e=a.isNumber;return{draw:function(a,e){var o=e.animatableAttribs,g=e.onComplete,r=e.css,n=e.renderer,l=a.series&&a.series.chart.hasRendered?void 0:a.series&&a.series.options.animation,b=a.graphic;if(e.attribs=e.attribs||{},e.attribs.class=a.getClassName(),t(a))b||(a.graphic=b="text"===e.shapeType?n.text():n[e.shapeType](e.shapeArgs||{}),b.add(e.group)),r&&b.css(r),b.attr(e.attribs).animate(o,!e.isNew&&l,g);else if(b){var d=function(){a.graphic=b=b&&b.destroy(),"function"==typeof g&&g()};Object.keys(o).length?b.animate(o,void 0,(function(){return d()})):d()}},shouldDraw:t}})),u(a,"Series/Treemap/TreemapPoint.js",[a["Series/DrawPointUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,e){var g=this&&this.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},a(t,e)};return function(t,e){function b(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}(),o=t.series.prototype.pointClass,r=t.seriesTypes;t=r.pie.prototype.pointClass;var n=e.extend,l=e.isNumber,d=e.pick;return e=function(t){function b(){var a=null!==t&&t.apply(this,arguments)||this;return a.name=void 0,a.node=void 0,a.options=void 0,a.series=void 0,a.value=void 0,a}return g(b,t),b.prototype.draw=function(t){a.draw(this,t)},b.prototype.getClassName=function(){var a=o.prototype.getClassName.call(this),t=this.series,b=t.options;return this.node.level<=t.nodeMap[t.rootNode].level?a+=" highcharts-above-level":this.node.isLeaf||d(b.interactByLeaf,!b.allowTraversingTree)?this.node.isLeaf||(a+=" highcharts-internal-node"):a+=" highcharts-internal-node-interactive",a},b.prototype.isValid=function(){return!(!this.id&&!l(this.value))},b.prototype.setState=function(a){o.prototype.setState.call(this,a),this.graphic&&this.graphic.attr({zIndex:"hover"===a?1:0})},b.prototype.shouldDraw=function(){return a.shouldDraw(this)},b}(r.scatter.prototype.pointClass),n(e.prototype,{setVisible:t.prototype.setVisible}),e})),u(a,"Series/Treemap/TreemapUtilities.js",[a["Core/Utilities.js"]],(function(a){var t,e=a.objectEach;return function(a){a.AXIS_MAX=100,a.isBoolean=function(a){return"boolean"==typeof a},a.eachObject=function(a,t,o){o=o||this,e(a,(function(e,r){t.call(o,e,r,a)}))},a.recursive=function t(a,e,o){void 0===o&&(o=this),!1!==(a=e.call(o,a))&&t(a,e,o)}}(t||(t={})),t})),u(a,"Series/TreeUtilities.js",[a["Core/Color/Color.js"],a["Core/Utilities.js"]],(function(a,t){var g=t.extend,e=t.isArray,o=t.isNumber,r=t.isObject,n=t.merge,l=t.pick;return{getColor:function(t,b){var e,o=b.index,r=b.mapOptionsToLevel,n=b.parentColor,d=b.parentColorIndex,p=b.series,h=b.colors,c=b.siblings,v=p.points,g=p.chart.options.chart;if(t){if(v=v[t.i],t=r[t.level]||{},r=v&&t.colorByPoint)var f=v.index%(h?h.length:g.colorCount),y=h&&h[f];p.chart.styledMode||(h=v&&v.options.color,g=t&&t.color,(e=n)&&(e=(e=t&&t.colorVariation)&&"brightness"===e.key&&o&&c?a.parse(n).brighten(o/c*e.to).get():n),e=l(h,g,y,e,p.color));var m=l(v&&v.options.colorIndex,t&&t.colorIndex,f,d,b.colorIndex)}return{color:e,colorIndex:m}},getLevelOptions:function(a){var b=null;if(r(a)){b={};var t=o(a.from)?a.from:1,d=a.levels,h={},c=r(a.defaults)?a.defaults:{};for(e(d)&&(h=d.reduce((function(a,b){if(r(b)&&o(b.level)){var p=n({},b),e=l(p.levelIsConstant,c.levelIsConstant);delete p.levelIsConstant,delete p.level,b=b.level+(e?0:t-1),r(a[b])?n(!0,a[b],p):a[b]=p}return a}),{})),d=o(a.to)?a.to:1,a=0;a<=d;a++)b[a]=n({},c,r(h[a])?h[a]:{})}return b},setTreeValues:function t(a,b){var e=b.before,o=b.idRoot,r=b.mapIdToNode[o],n=b.points[a.i],p=n&&n.options||{},d=[],h=0;return a.levelDynamic=a.level-(!1!==b.levelIsConstant?0:r.level),a.name=l(n&&n.name,""),a.visible=o===a.id||!0===b.visible,"function"==typeof e&&(a=e(a,b)),a.children.forEach((function(e,o){var p=g({},b);g(p,{index:o,siblings:a.children.length,visible:a.visible}),e=t(e,p),d.push(e),e.visible&&(h+=e.val)})),e=l(p.value,h),a.visible=0<=e&&(0<h||a.visible),a.children=d,a.childrenTotal=h,a.isLeaf=a.visible&&!h,a.val=e,a},updateRootId:function(a){if(r(a)){var b=r(a.options)?a.options:{};b=l(a.rootNode,b.rootId,""),r(a.userOptions)&&(a.userOptions.rootId=b),a.rootNode=b}return b}}})),u(a,"Extensions/Breadcrumbs.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"],a["Core/FormatUtilities.js"]],(function(a,t,e,g,o){var r=o.format;o=g.addEvent;var n=g.objectEach,l=g.extend,d=g.fireEvent,h=g.merge,b=g.pick,u=g.defined,c=g.isString;return l(e.defaultOptions.lang,{mainBreadcrumb:"Main"}),e=function(){function a(b,p){this.group=void 0,this.list=[],this.elementList={},this.isDirty=!0,this.level=0,this.options=void 0,p=h(b.options.drilldown&&b.options.drilldown.drillUpButton,a.defaultBreadcrumbsOptions,b.options.navigation&&b.options.navigation.breadcrumbs,p),this.chart=b,this.options=p||{}}return a.prototype.updateProperties=function(a){this.setList(a),this.setLevel(),this.isDirty=!0},a.prototype.setList=function(a){this.list=a},a.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1},a.prototype.getLevel=function(){return this.level},a.prototype.getButtonText=function(a){var t=this.chart,e=this.options,o=t.options.lang,n=b(e.format,e.showFullPath?"{level.name}":"← {level.name}");return o=o&&b(o.drillUpText,o.mainBreadcrumb),a=e.formatter&&e.formatter(a)||r(n,{level:a.levelOptions},t)||"",(c(a)&&!a.length||"← "===a)&&u(o)&&(a=e.showFullPath?o:"← "+o),a},a.prototype.redraw=function(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1},a.prototype.render=function(){var a=this.chart,b=this.options;!this.group&&b&&(this.group=a.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:b.zIndex}).add()),b.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()},a.prototype.renderFullPathButtons=function(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()},a.prototype.renderSingleButton=function(){var a=this.chart,b=this.list,t=this.options.buttonSpacing;this.destroyListElements();var e=this.group?this.group.getBBox().width:t;b=b[b.length-2],!a.drillUpButton&&0<this.level?a.drillUpButton=this.renderButton(b,e,t):a.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())},a.prototype.alignBreadcrumbsGroup=function(a){if(this.group){var t=this.options,e=t.buttonTheme,o=t.position,r="chart"===t.relativeTo||"spacingBox"===t.relativeTo?void 0:"scrollablePlotBox",g=this.group.getBBox();t=2*(e.padding||0)+t.buttonSpacing,o.width=g.width+t,o.height=g.height+t,g=h(o),a&&(g.x+=a),this.options.rtl&&(g.x+=o.width),g.y=b(g.y,this.yOffset,0),this.group.align(g,!0,r)}},a.prototype.renderButton=function(a,b,t){var e=this,o=this.chart,r=e.options,g=h(r.buttonTheme);return b=o.renderer.button(e.getButtonText(a),b,t,(function(b){var t,o=r.events&&r.events.click;o&&(t=o.call(e,b,a)),!1!==t&&(b.newLevel=r.showFullPath?a.level:e.level-1,d(e,"up",b))}),g).addClass("highcharts-breadcrumbs-button").add(e.group),o.styledMode||b.attr(r.style),b},a.prototype.renderSeparator=function(a,b){var t=this.chart,e=this.options.separator;return a=t.renderer.label(e.text,a,b,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),t.styledMode||a.css(e.style),a},a.prototype.update=function(a){h(!0,this.options,a),this.destroy(),this.isDirty=!0},a.prototype.updateSingleButton=function(){var a=this.chart,b=this.list[this.level-1];a.drillUpButton&&a.drillUpButton.attr({text:this.getButtonText(b)})},a.prototype.destroy=function(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0},a.prototype.destroyListElements=function(a){var b=this.elementList;n(b,(function(t,e){!a&&b[e].updated||((t=b[e]).button&&t.button.destroy(),t.separator&&t.separator.destroy(),delete t.button,delete t.separator,delete b[e])})),a&&(this.elementList={})},a.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)},a.prototype.resetElementListState=function(){n(this.elementList,(function(a){a.updated=!1}))},a.prototype.updateListElements=function(){var t,a=this,b=a.elementList,e=a.options.buttonSpacing,o=a.list,r=a.options.rtl,n=r?-1:1,g=function(a,b){return n*a.getBBox().width+n*b},l=a.group?g(a.group,e):e;o.forEach((function(d,p){if(p=p===o.length-1,b[d.level]){var h=(t=b[d.level]).button;if(t.separator||p)t.separator&&p&&(t.separator.destroy(),delete t.separator);else{if(l+=n*e,t.separator=a.renderSeparator(l,e),r){var c=t.separator;c.translate(l-c.getBBox().width,e)}l+=g(t.separator,e)}b[d.level].updated=!0}else h=a.renderButton(d,l,e),r&&h.translate(l-h.getBBox().width,e),l+=g(h,e),p||(c=a.renderSeparator(l,e),r&&c.translate(l-c.getBBox().width,e),l+=g(c,e)),b[d.level]={button:h,separator:c,updated:!0};h&&h.setState(p?2:0)}))},a.defaultBreadcrumbsOptions={buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#335cad"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7},a}(),t.Breadcrumbs||(t.Breadcrumbs=e,o(a,"getMargins",(function(){var a=this.breadcrumbs;if(a&&!a.options.floating&&a.level){var b=a.options,t=b.buttonTheme;t=(t.height||0)+2*(t.padding||0)+b.buttonSpacing,"bottom"===(b=b.position.verticalAlign)?(this.marginBottom=(this.marginBottom||0)+t,a.yOffset=t):"middle"!==b?(this.plotTop+=t,a.yOffset=-t):a.yOffset=void 0}})),o(a,"redraw",(function(){this.breadcrumbs&&this.breadcrumbs.redraw()})),o(a,"destroy",(function(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)})),o(a,"afterShowResetZoom",(function(){if(this.breadcrumbs){var a=this.resetZoomButton&&this.resetZoomButton.getBBox(),b=this.breadcrumbs.options;a&&"right"===b.position.align&&"plotBox"===b.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-a.width-b.buttonSpacing)}})),o(a,"selection",(function(a){!0===a.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}))),e})),u(a,"Series/Treemap/TreemapComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Series/Treemap/TreemapUtilities.js"],a["Core/Utilities.js"]],(function(a,t,e){var g=e.addEvent,o=e.extend,r=!1;g(a.series,"afterBindAxes",(function(){var a=this.xAxis,e=this.yAxis;if(a&&e)if(this.is("treemap")){var g={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:t.AXIS_MAX,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};o(e.options,g),o(a.options,g),r=!0}else r&&(e.setOptions(e.userOptions),a.setOptions(a.userOptions),r=!1)}))})),u(a,"Series/Treemap/TreemapSeries.js",[a["Core/Color/Color.js"],a["Series/ColorMapComposition.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Treemap/TreemapAlgorithmGroup.js"],a["Series/Treemap/TreemapPoint.js"],a["Series/Treemap/TreemapUtilities.js"],a["Series/TreeUtilities.js"],a["Extensions/Breadcrumbs.js"],a["Core/Utilities.js"]],(function(a,t,e,g,o,r,n,l,d,h,b){var u=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},a(b,t)};return function(b,t){function q(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(q.prototype=t.prototype,new q)}}(),c=a.parse;a=e.noop;var v=o.series,f=(e=o.seriesTypes).column,p=e.heatmap,y=e.scatter,m=d.getColor,x=d.getLevelOptions,w=d.updateRootId,T=b.addEvent,B=b.correctFloat,A=b.defined,C=b.error,S=b.extend,L=b.fireEvent,P=b.isArray,O=b.isObject,M=b.isString,j=b.merge,I=b.pick,R=b.stableSort;return d=function(a){function b(){var t=null!==a&&a.apply(this,arguments)||this;return t.axisRatio=void 0,t.data=void 0,t.mapOptionsToLevel=void 0,t.nodeMap=void 0,t.options=void 0,t.points=void 0,t.rootNode=void 0,t.tree=void 0,t.level=void 0,t}return u(b,a),b.prototype.algorithmCalcPoints=function(a,b,t,e){var o,q,r,n,l=t.lW,d=t.lH,g=t.plot,h=0,c=t.elArr.length-1;if(b)l=t.nW,d=t.nH;else var v=t.elArr[t.elArr.length-1];t.elArr.forEach((function(a){(b||h<c)&&(0===t.direction?(o=g.x,q=g.y,n=a/(r=l)):(o=g.x,q=g.y,r=a/(n=d)),e.push({x:o,y:q,width:r,height:B(n)}),0===t.direction?g.y+=n:g.x+=r),h+=1})),t.reset(),0===t.direction?t.width-=l:t.height-=d,g.y=g.parent.y+(g.parent.height-t.height),g.x=g.parent.x+(g.parent.width-t.width),a&&(t.direction=1-t.direction),b||t.addElement(v)},b.prototype.algorithmFill=function(a,b,t){var q,e,o,r,n,l=[],d=b.direction,h=b.x,c=b.y,g=b.width,v=b.height;return t.forEach((function(t){q=t.val/b.val*b.height*b.width,e=h,o=c,0===d?(g-=r=q/(n=v),h+=r):(v-=n=q/(r=g),c+=n),l.push({x:e,y:o,width:r,height:n}),a&&(d=1-d)})),l},b.prototype.algorithmLowAspectRatio=function(a,b,t){var e,o=[],q=this,n={x:b.x,y:b.y,parent:b},l=0,g=t.length-1,d=new r(b.height,b.width,b.direction,n);return t.forEach((function(t){e=t.val/b.val*b.height*b.width,d.addElement(e),d.lP.nR>d.lP.lR&&q.algorithmCalcPoints(a,!1,d,o,n),l===g&&q.algorithmCalcPoints(a,!0,d,o,n),l+=1})),o},b.prototype.alignDataLabel=function(a,b,t){var e=t.style;e&&!A(e.textOverflow)&&b.text&&b.getBBox().width>b.text.textWidth&&b.css({textOverflow:"ellipsis",width:e.width+="px"}),f.prototype.alignDataLabel.apply(this,arguments),a.dataLabel&&a.dataLabel.attr({zIndex:(a.node.zIndex||0)+1})},b.prototype.buildNode=function(a,b,t,e,o){var g,r=this,q=[],n=r.points[b],l=0;return(e[a]||[]).forEach((function(b){g=r.buildNode(r.points[b].id,b,t+1,e,a),l=Math.max(g.height+1,l),q.push(g)})),b={id:a,i:b,children:q,height:l,level:t,parent:o,visible:!1},r.nodeMap[b.id]=b,n&&(n.node=b),b},b.prototype.calculateChildrenAreas=function(a,b){var t,e=this,o=e.options,r=e.mapOptionsToLevel[a.level+1],q=I(e[r&&r.layoutAlgorithm]&&r.layoutAlgorithm,o.layoutAlgorithm),n=o.alternateStartingDirection;a=a.children.filter((function(a){return!a.ignore})),r&&r.layoutStartingDirection&&(b.direction="vertical"===r.layoutStartingDirection?0:1),t=e[q](b,a),a.forEach((function(a,o){o=t[o],a.values=j(o,{val:a.childrenTotal,direction:n?1-b.direction:b.direction}),a.pointValues=j(o,{x:o.x/e.axisRatio,y:l.AXIS_MAX-o.y-o.height,width:o.width/e.axisRatio}),a.children.length&&e.calculateChildrenAreas(a,a.values)}))},b.prototype.createList=function(a){var b=this.chart,t=[];if(b.breadcrumbs){var e=0;t.push({level:e,levelOptions:b.series[0]}),b=a.target.nodeMap[a.newRootId];for(var o=[];b.parent||""===b.parent;)o.push(b),b=a.target.nodeMap[b.parent];o.reverse().forEach((function(a){t.push({level:++e,levelOptions:a})})),1>=t.length&&(t.length=0)}return t},b.prototype.drawDataLabels=function(){var t,e,a=this,b=a.mapOptionsToLevel;a.points.filter((function(a){return a.node.visible})).forEach((function(o){e=b[o.node.level],t={style:{}},o.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=j(t,e.dataLabels),a._hasPointLabels=!0),o.shapeArgs&&(t.style.width=o.shapeArgs.width,o.dataLabel&&o.dataLabel.css({width:o.shapeArgs.width+"px"})),o.dlOptions=j(t,o.options.dataLabels)})),v.prototype.drawDataLabels.call(this)},b.prototype.drawPoints=function(){var a=this,b=a.chart,t=b.renderer,e=b.styledMode,o=a.options,r=e?{}:o.shadow,g=o.borderRadius,n=b.pointCount<o.animationLimit,l=o.allowTraversingTree;a.points.forEach((function(b){var d=b.node.levelDynamic,q={},h={},c={},v="level-group-"+b.node.level,f=!!b.graphic,y=n&&f,m=b.shapeArgs;b.shouldDraw()&&(b.isInside=!0,g&&(h.r=g),j(!0,y?q:h,f?m:{},e?{}:a.pointAttribs(b,b.selected?"select":void 0)),a.colorAttribs&&e&&S(c,a.colorAttribs(b)),a[v]||(a[v]=t.g(v).attr({zIndex:1e3-(d||0)}).add(a.group),a[v].survive=!0)),b.draw({animatableAttribs:q,attribs:h,css:c,group:a[v],renderer:t,shadow:r,shapeArgs:m,shapeType:"rect"}),l&&b.graphic&&(b.drillId=o.interactByLeaf?a.drillToByLeaf(b):a.drillToByGroup(b))}))},b.prototype.drillToByGroup=function(a){var b=!1;return 1!=a.node.level-this.nodeMap[this.rootNode].level||a.node.isLeaf||(b=a.id),b},b.prototype.drillToByLeaf=function(a){var b=!1;if(a.node.parent!==this.rootNode&&a.node.isLeaf)for(a=a.node;!b;)(a=this.nodeMap[a.parent]).parent===this.rootNode&&(b=a.id);return b},b.prototype.drillToNode=function(a,b){C(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(a,b)},b.prototype.drillUp=function(){var a=this.nodeMap[this.rootNode];a&&M(a.parent)&&this.setRootNode(a.parent,!0,{trigger:"traverseUpButton"})},b.prototype.getExtremes=function(){var a=v.prototype.getExtremes.call(this,this.colorValueData),b=a.dataMax;return this.valueMin=a.dataMin,this.valueMax=b,v.prototype.getExtremes.call(this)},b.prototype.getListOfParents=function(a,b){a=P(a)?a:[];var t=P(b)?b:[];return b=a.reduce((function(a,b,t){return void 0===a[b=I(b.parent,"")]&&(a[b]=[]),a[b].push(t),a}),{"":[]}),l.eachObject(b,(function(a,b,e){""!==b&&-1===t.indexOf(b)&&(a.forEach((function(a){e[""].push(a)})),delete e[b])})),b},b.prototype.getTree=function(){var a=this.data.map((function(a){return a.id}));return a=this.getListOfParents(this.data,a),this.nodeMap={},this.buildNode("",-1,0,a)},b.prototype.hasData=function(){return!!this.processedXData.length},b.prototype.init=function(a,b){var t=this,e=j(b.drillUpButton,b.breadcrumbs),o=T(t,"setOptions",(function(a){a=a.userOptions,A(a.allowDrillToNode)&&!A(a.allowTraversingTree)&&(a.allowTraversingTree=a.allowDrillToNode,delete a.allowDrillToNode),A(a.drillUpButton)&&!A(a.traverseUpButton)&&(a.traverseUpButton=a.drillUpButton,delete a.drillUpButton)}));v.prototype.init.call(t,a,b),delete t.opacity,t.eventsToUnbind.push(o),t.options.allowTraversingTree&&(t.eventsToUnbind.push(T(t,"click",t.onClickDrillToNode)),t.eventsToUnbind.push(T(t,"setRootNode",(function(a){var b=t.chart;b.breadcrumbs&&b.breadcrumbs.updateProperties(t.createList(a))}))),t.eventsToUnbind.push(T(t,"update",(function(a,b){(b=this.chart.breadcrumbs)&&a.options.breadcrumbs&&b.update(a.options.breadcrumbs)}))),t.eventsToUnbind.push(T(t,"destroy",(function(a){var b=this.chart;b.breadcrumbs&&(b.breadcrumbs.destroy(),a.keepEventsForUpdate||(b.breadcrumbs=void 0))})))),a.breadcrumbs||(a.breadcrumbs=new h(a,e)),t.eventsToUnbind.push(T(a.breadcrumbs,"up",(function(a){a=this.level-a.newLevel;for(var b=0;b<a;b++)t.drillUp()})))},b.prototype.onClickDrillToNode=function(a){var b=(a=a.point)&&a.drillId;M(b)&&(a.setState(""),this.setRootNode(b,!0,{trigger:"click"}))},b.prototype.pointAttribs=function(a,b){var t=O(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},e=a&&t[a.node.level]||{};t=this.options;var o=b&&t.states&&t.states[b]||{},r=a&&a.getClassName()||"";return a={stroke:a&&a.borderColor||e.borderColor||o.borderColor||t.borderColor,"stroke-width":I(a&&a.borderWidth,e.borderWidth,o.borderWidth,t.borderWidth),dashstyle:a&&a.borderDashStyle||e.borderDashStyle||o.borderDashStyle||t.borderDashStyle,fill:a&&a.color||this.color},-1!==r.indexOf("highcharts-above-level")?(a.fill="none",a["stroke-width"]=0):-1!==r.indexOf("highcharts-internal-node-interactive")?(b=I(o.opacity,t.opacity),a.fill=c(a.fill).setOpacity(b).get(),a.cursor="pointer"):-1!==r.indexOf("highcharts-internal-node")?a.fill="none":b&&(a.fill=c(a.fill).brighten(o.brightness).get()),a},b.prototype.setColorRecursive=function(a,b,t,e,o){var r=this,n=r&&r.chart;if(n=n&&n.options&&n.options.colors,a){var g=m(a,{colors:n,index:e,mapOptionsToLevel:r.mapOptionsToLevel,parentColor:b,parentColorIndex:t,series:r,siblings:o});(b=r.points[a.i])&&(b.color=g.color,b.colorIndex=g.colorIndex),(a.children||[]).forEach((function(b,t){r.setColorRecursive(b,g.color,g.colorIndex,t,a.children.length)}))}},b.prototype.setPointValues=function(){var a=this,b=a.xAxis,t=a.yAxis,e=a.chart.styledMode;a.points.forEach((function(o){var r=o.node,n=r.pointValues;if(r=r.visible,n&&r){r=n.height;var g=n.width,q=n.x,l=n.y,d=e?0:(a.pointAttribs(o)["stroke-width"]||0)%2/2;n=Math.round(b.toPixels(q,!0))-d,g=Math.round(b.toPixels(q+g,!0))-d,q=Math.round(t.toPixels(l,!0))-d,r=Math.round(t.toPixels(l+r,!0))-d,r={x:Math.min(n,g),y:Math.min(q,r),width:Math.abs(g-n),height:Math.abs(r-q)},o.plotX=r.x+r.width/2,o.plotY=r.y+r.height/2,o.shapeArgs=r}else delete o.plotX,delete o.plotY}))},b.prototype.setRootNode=function(a,b,t){a=S({newRootId:a,previousRootId:this.rootNode,redraw:I(b,!0),series:this},t),L(this,"setRootNode",a,(function(a){var b=a.series;b.idPreviousRoot=a.previousRootId,b.rootNode=a.newRootId,b.isDirty=!0,a.redraw&&b.chart.redraw()}))},b.prototype.setState=function(a){this.options.inactiveOtherPoints=!0,v.prototype.setState.call(this,a,!1),this.options.inactiveOtherPoints=!1},b.prototype.setTreeValues=function(a){var b=this,t=b.options,e=b.nodeMap[b.rootNode];t=!l.isBoolean(t.levelIsConstant)||t.levelIsConstant;var o=0,r=[],n=b.points[a.i];a.children.forEach((function(a){a=b.setTreeValues(a),r.push(a),a.ignore||(o+=a.val)})),R(r,(function(a,b){return(a.sortIndex||0)-(b.sortIndex||0)}));var g=I(n&&n.options.value,o);return n&&(n.value=g),S(a,{children:r,childrenTotal:o,ignore:!(I(n&&n.visible,!0)&&0<g),isLeaf:a.visible&&!o,levelDynamic:a.level-(t?0:e.level),name:I(n&&n.name,""),sortIndex:I(n&&n.sortIndex,-g),val:g}),a},b.prototype.sliceAndDice=function(a,b){return this.algorithmFill(!0,a,b)},b.prototype.squarified=function(a,b){return this.algorithmLowAspectRatio(!0,a,b)},b.prototype.strip=function(a,b){return this.algorithmLowAspectRatio(!1,a,b)},b.prototype.stripes=function(a,b){return this.algorithmFill(!1,a,b)},b.prototype.translate=function(){var a=this,b=a.options,t=w(a);v.prototype.translate.call(a);var e=a.tree=a.getTree(),o=a.nodeMap[t];""===t||o&&o.children.length||(a.setRootNode("",!1),t=a.rootNode,o=a.nodeMap[t]),a.mapOptionsToLevel=x({from:o.level+1,levels:b.levels,to:e.height,defaults:{levelIsConstant:a.options.levelIsConstant,colorByPoint:b.colorByPoint}}),l.recursive(a.nodeMap[a.rootNode],(function(b){var t=!1,e=b.parent;return b.visible=!0,(e||""===e)&&(t=a.nodeMap[e]),t})),l.recursive(a.nodeMap[a.rootNode].children,(function(a){var b=!1;return a.forEach((function(a){a.visible=!0,a.children.length&&(b=(b||[]).concat(a.children))})),b})),a.setTreeValues(e),a.axisRatio=a.xAxis.len/a.yAxis.len,a.nodeMap[""].pointValues=t={x:0,y:0,width:l.AXIS_MAX,height:l.AXIS_MAX},a.nodeMap[""].values=t=j(t,{width:t.width*a.axisRatio,direction:"vertical"===b.layoutStartingDirection?0:1,val:e.val}),a.calculateChildrenAreas(e,t),a.colorAxis||b.colorByPoint||a.setColorRecursive(a.tree),b.allowTraversingTree&&(b=o.pointValues,a.xAxis.setExtremes(b.x,b.x+b.width,!1),a.yAxis.setExtremes(b.y,b.y+b.height,!1),a.xAxis.setScale(),a.yAxis.setScale()),a.setPointValues()},b.defaultOptions=j(y.defaultOptions,{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var a=this&&this.point?this.point:{};return M(a.name)?a.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:p?0:.1,halo:!1,opacity:.75,shadow:!1}}}),b}(y),S(d.prototype,{buildKDTree:a,colorAttribs:t.seriesMembers.colorAttribs,colorKey:"colorValue",directTouch:!0,drawLegendSymbol:g.drawRectangle,getExtremesFromAll:!0,getSymbol:a,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:n,trackerGroups:["group","dataLabelsGroup"],utils:{recursive:l.recursive}}),t.compose(d),o.registerSeriesType("treemap",d),d})),u(a,"masters/modules/treemap.src.js",[a["Core/Globals.js"],a["Extensions/Breadcrumbs.js"]],(function(a,t){a.Breadcrumbs=t}))},t.exports?(a.default=a,t.exports=a):(r=[o(222)],void 0===(n=function(u){return a(u),a.Highcharts=u,a}.apply(e,r))||(t.exports=n))}}]);