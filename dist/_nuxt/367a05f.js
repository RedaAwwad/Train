/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{483:function(t,o,n){var e,r,h;h=function(t){"use strict";var o=t?t._modules:{};function n(t,path,o,n){t.hasOwnProperty(path)||(t[path]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:path,module:t[path]}})))}n(o,"Extensions/Annotations/AnnotationChart.js",[o["Core/Utilities.js"]],(function(t){var o,n=t.addEvent,e=t.erase,r=t.find,h=t.fireEvent,l=t.pick,c=t.wrap,d=[];function f(t,o){var n=this.initAnnotation(t);return this.options.annotations.push(n.options),l(o,!0)&&(n.redraw(),n.graphic.attr({opacity:1})),n}function y(){var t=this;t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach((function(o,i){if(!t.annotations.some((function(t){return t.options===o}))){var n=t.initAnnotation(o);t.options.annotations[i]=n.options}})),t.drawAnnotations(),n(t,"redraw",t.drawAnnotations),n(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),n(t,"exportData",(function(o){var n=t.annotations,e=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,r=!o.dataRows[1].xValues,h=t.options.lang&&t.options.lang.exportData&&t.options.lang.exportData.annotationHeader,l=o.dataRows[0].length,c=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.itemDelimiter,d=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.join;n.forEach((function(t){t.options.labelOptions&&t.options.labelOptions.includeInDataExport&&t.labels.forEach((function(label){if(label.options.text){var t=label.options.text;label.points.forEach((function(n){var e=n.x,r=n.series.xAxis?n.series.xAxis.options.index:-1,h=!1;if(-1===r){for(var f=o.dataRows[0].length,y=new Array(f),i=0;i<f;++i)y[i]="";y.push(t),y.xValues=[],y.xValues[r]=e,o.dataRows.push(y),h=!0}if(h||o.dataRows.forEach((function(o){!h&&o.xValues&&void 0!==r&&e===o.xValues[r]&&(d&&o.length>l?o[o.length-1]+=c+t:o.push(t),h=!0)})),!h){for(f=o.dataRows[0].length,y=new Array(f),i=0;i<f;++i)y[i]="";y[0]=e,y.push(t),y.xValues=[],void 0!==r&&(y.xValues[r]=e),o.dataRows.push(y)}}))}}))}));var f=0;o.dataRows.forEach((function(t){f=Math.max(f,t.length)}));for(var y,s,x=f-o.dataRows[0].length,i=0;i<x;i++){var header=(y=i+1,s=void 0,e&&!1!==(s=e(y))?s:(s=h+" "+y,r?{columnTitle:s,topLevelColumnTitle:s}:s));r?(o.dataRows[0].push(header.topLevelColumnTitle),o.dataRows[1].push(header.columnTitle)):o.dataRows[0].push(header)}}))}function x(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}function v(t){var o=this.annotations,n="annotations"===t.coll?t:r(o,(function(o){return o.options.id===t}));n&&(h(n,"remove"),e(this.options.annotations,n.options),e(o,n),n.destroy())}function A(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function m(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}return function(t){t.compose=function(t,o,e){if(-1===d.indexOf(o)){d.push(o),n(o,"afterInit",A);var r=o.prototype;r.addAnnotation=f,r.callbacks.push(y),r.collectionsWithInit.annotations=[f],r.collectionsWithUpdate.push("annotations"),r.drawAnnotations=x,r.removeAnnotation=v,r.initAnnotation=function(o){var n=new(t.types[o.type]||t)(this,o);return this.annotations.push(n),n}}if(-1===d.indexOf(e)){d.push(e);var h=e.prototype;c(h,"onContainerMouseDown",m)}}}(o||(o={})),o})),n(o,"Extensions/Annotations/AnnotationDefaults.js",[o["Core/Utilities.js"]],(function(t){var o=t.defined;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return o(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},visible:!1,events:{}},events:{},zIndex:6}})),n(o,"Extensions/Annotations/EventEmitter.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],(function(t,o){var n=t.doc,e=t.isTouchDevice,r=o.addEvent,h=o.fireEvent,l=o.objectEach,c=o.pick,d=o.removeEvent;return function(){function t(){}return t.prototype.addEvents=function(){var t=this,o=function(element){r(element,e?"touchstart":"mousedown",(function(o){t.onMouseDown(o)}),{passive:!1})};if(o(this.graphic.element),(t.labels||[]).forEach((function(label){label.options.useHTML&&label.graphic.text&&o(label.graphic.text.element)})),l(t.options.events,(function(o,n){var e=function(e){"click"===n&&t.cancelClick||o.call(t,t.chart.pointer.normalize(e),t.target)};-1===(t.nonDOMEvents||[]).indexOf(n)?t.graphic.on(n,e):r(t,n,e,{passive:!1})})),t.options.draggable&&(r(t,"drag",t.onDrag),!t.graphic.renderer.styledMode)){var n={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[t.options.draggable]};t.graphic.css(n),(t.labels||[]).forEach((function(label){label.options.useHTML&&label.graphic.text&&label.graphic.text.css(n)}))}t.isUpdating||h(t,"add")},t.prototype.destroy=function(){this.removeDocEvents(),d(this),this.hcEvents=null},t.prototype.mouseMoveToRadians=function(t,o,n){var e,r=t.prevChartY-n,h=t.prevChartX-o,l=t.chartY-n,c=t.chartX-o;return this.chart.inverted&&(e=h,h=r,r=e,e=c,c=l,l=e),Math.atan2(l,c)-Math.atan2(r,h)},t.prototype.mouseMoveToScale=function(t,o,n){var e=t.prevChartX-o,r=t.prevChartY-n,h=(t.chartX-o||1)/(e||1),l=(t.chartY-n||1)/(r||1);if(this.chart.inverted){var c=l;l=h,h=c}return{x:h,y:l}},t.prototype.mouseMoveToTranslation=function(t){var o,n=t.chartX-t.prevChartX,e=t.chartY-t.prevChartY;return this.chart.inverted&&(o=e,e=n,n=o),{x:n,y:e}},t.prototype.onDrag=function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var o=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(o.y=0),"y"===this.options.draggable&&(o.x=0);var n=this;n.points.length?n.translate(o.x,o.y):(n.shapes.forEach((function(t){return t.translate(o.x,o.y)})),n.labels.forEach((function(label){return label.translate(o.x,o.y)}))),this.redraw(!1)}},t.prototype.onMouseDown=function(t){if(t.preventDefault&&t.preventDefault(),2!==t.button){var o=this,l=o.chart.pointer,d=(t=l.normalize(t)).chartX,f=t.chartY;o.cancelClick=!1,o.chart.hasDraggedAnnotation=!0,o.removeDrag=r(n,e?"touchmove":"mousemove",(function(t){o.hasDragged=!0,(t=l.normalize(t)).prevChartX=d,t.prevChartY=f,h(o,"drag",t),d=t.chartX,f=t.chartY}),e?{passive:!1}:void 0),o.removeMouseUp=r(n,e?"touchend":"mouseup",(function(t){var n=c(o.target&&o.target.annotation,o.target);n&&(n.cancelClick=o.hasDragged),o.cancelClick=o.hasDragged,o.hasDragged=!1,o.chart.hasDraggedAnnotation=!1,h(c(n,o),"afterUpdate"),o.onMouseUp(t)}),e?{passive:!1}:void 0)}},t.prototype.onMouseUp=function(t){var o=this.chart,n=this.target||this,e=o.options.annotations,r=o.annotations.indexOf(n);this.removeDocEvents(),e[r]=n.options},t.prototype.removeDocEvents=function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},t}()})),n(o,"Extensions/Annotations/ControlPoint.js",[o["Extensions/Annotations/EventEmitter.js"],o["Core/Utilities.js"]],(function(t,o){var n,e=this&&this.__extends||(n=function(t,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},n(t,b)},function(t,b){function o(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),r=o.merge,h=o.pick;return function(t){function o(o,n,e,r){var l=t.call(this)||this;return l.graphic=void 0,l.nonDOMEvents=["drag"],l.chart=o,l.target=n,l.options=e,l.index=h(e.index,r),l}return e(o,t),o.prototype.destroy=function(){t.prototype.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null},o.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},o.prototype.render=function(){var t=this.chart,o=this.options;this.graphic=t.renderer.symbol(o.symbol,0,0,o.width,o.height).add(t.controlPointsGroup).css(o.style),this.setVisibility(o.visible),this.addEvents()},o.prototype.setVisibility=function(t){this.graphic[t?"show":"hide"](),this.options.visible=t},o.prototype.update=function(t){var o=this.chart,n=this.target,e=this.index,h=r(!0,this.options,t);this.destroy(),this.constructor(o,n,h,e),this.render(o.controlPointsGroup),this.redraw()},o}(t)})),n(o,"Extensions/Annotations/MockPoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],(function(t,o){var n=t.series.prototype,e=o.defined,r=o.fireEvent;return function(){function t(t,o,e){this.plotX=void 0,this.plotY=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:n.getPlotBox},this.target=o||null,this.options=e,this.applyOptions(this.getOptions())}return t.fromPoint=function(o){return new t(o.series.chart,null,{x:o.x,y:o.y,xAxis:o.series.xAxis,yAxis:o.series.yAxis})},t.pointToPixels=function(t,o){var n,e=t.series,r=e.chart,h=t.plotX||0,l=t.plotY||0;return r.inverted&&(t.mock?(h=t.plotY,l=t.plotX):(h=r.plotWidth-(t.plotY||0),l=r.plotHeight-(t.plotX||0))),e&&!o&&(h+=(n=e.getPlotBox()).translateX,l+=n.translateY),{x:h,y:l}},t.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},t.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},t.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},t.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},t.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},t.prototype.isInsidePlot=function(){var t=this.plotX,o=this.plotY,n=this.series.xAxis,h=this.series.yAxis,l={x:t,y:o,isInsidePlot:!0};return n&&(l.isInsidePlot=e(t)&&t>=0&&t<=n.len),h&&(l.isInsidePlot=l.isInsidePlot&&e(o)&&o>=0&&o<=h.len),r(this.series.chart,"afterIsInsidePlot",l),l.isInsidePlot},t.prototype.refresh=function(){var t=this.series,o=t.xAxis,n=t.yAxis,e=this.getOptions();o?(this.x=e.x,this.plotX=o.toPixels(e.x,!0)):(this.x=void 0,this.plotX=e.x),n?(this.y=e.y,this.plotY=n.toPixels(e.y,!0)):(this.y=null,this.plotY=e.y),this.isInside=this.isInsidePlot()},t.prototype.refreshOptions=function(){var t=this.series,o=t.xAxis,n=t.yAxis;this.x=this.options.x=o?this.options.x=o.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=n?n.toValue(this.plotY,!0):this.plotY},t.prototype.rotate=function(t,o,n){if(!this.hasDynamicOptions()){var e=Math.cos(n),r=Math.sin(n),h=this.plotX-t,l=this.plotY-o,c=h*e-l*r,d=h*r+l*e;this.plotX=c+t,this.plotY=d+o,this.refreshOptions()}},t.prototype.scale=function(t,o,n,e){if(!this.hasDynamicOptions()){var r=this.plotX*n,h=this.plotY*e,l=(1-n)*t,c=(1-e)*o;this.plotX=l+r,this.plotY=c+h,this.refreshOptions()}},t.prototype.setAxis=function(t,o){var n=o+"Axis",r=t[n],h=this.series.chart;this.series[n]="object"==typeof r?r:e(r)?h[n][r]||h.get(r):null},t.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},t.prototype.translate=function(t,o,n,e){this.hasDynamicOptions()||(this.plotX+=n,this.plotY+=e,this.refreshOptions())},t}()})),n(o,"Extensions/Annotations/Controllables/Controllable.js",[o["Extensions/Annotations/ControlPoint.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Tooltip.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r=e.isObject,h=e.isString,l=e.merge,c=e.splat,d=function(){function e(t,o,n,e){this.graphic=void 0,this.annotation=t,this.chart=t.chart,this.collection="label"===e?"labels":"shapes",this.options=o,this.points=[],this.controlPoints=[],this.index=n,this.itemType=e,this.init(t,o,n)}return e.prototype.addControlPoints=function(){var o=this,n=this.controlPoints,e=this.options.controlPoints||[];e.forEach((function(r,i){var h=l(o.options.controlPointOptions,r);h.index||(h.index=i),e[i]=h,n.push(new t(o.chart,o,h))}))},e.prototype.anchor=function(t){var o=t.series.getPlotBox(),e=t.series.chart,r=t.mock?t.toAnchor():n.prototype.getAnchor.call({chart:t.series.chart},t),h={x:r[0]+(this.options.x||0),y:r[1]+(this.options.y||0),height:r[2]||0,width:r[3]||0};return{relativePosition:h,absolutePosition:l(h,{x:h.x+(t.mock?o.translateX:e.plotLeft),y:h.y+(t.mock?o.translateY:e.plotTop)})}},e.prototype.attr=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.graphic.attr.apply(this.graphic,arguments)},e.prototype.attrsFromOptions=function(t){var o,n,map=this.constructor.attrsMap,e={},r=this.chart.styledMode;for(o in t)n=map[o],void 0===map[o]||r&&-1!==["fill","stroke","stroke-width"].indexOf(n)||(e[n]=t[o]);return e},e.prototype.destroy=function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach((function(t){return t.destroy()})),this.chart=null,this.points=null,this.controlPoints=null,this.options=null,this.annotation&&(this.annotation=null)},e.prototype.getPointsOptions=function(){var t=this.options;return t.points||t.point&&c(t.point)},e.prototype.init=function(t,o,n){this.annotation=t,this.chart=t.chart,this.options=o,this.points=[],this.controlPoints=[],this.index=n,this.linkPoints(),this.addControlPoints()},e.prototype.linkPoints=function(){var i,t,o=this.getPointsOptions(),n=this.points,e=o&&o.length||0;for(i=0;i<e;i++){if(!(t=this.point(o[i],n[i])))return void(n.length=0);t.mock&&t.refresh(),n[i]=t}return n},e.prototype.point=function(t,n){if(t&&t.series)return t;if(!n||null===n.series)if(r(t))n=new o(this.chart,this,t);else if(h(t))n=this.chart.get(t)||null;else if("function"==typeof t){var e=t.call(n,this);n=e.series?e:new o(this.chart,this,t)}return n},e.prototype.render=function(t){this.controlPoints.forEach((function(t){return t.render()}))},e.prototype.redraw=function(t){this.controlPoints.forEach((function(o){return o.redraw(t)}))},e.prototype.rotate=function(t,o,n){this.transform("rotate",t,o,n)},e.prototype.scale=function(t,o,n,e){this.transform("scale",t,o,n,e)},e.prototype.setControlPointsVisibility=function(t){this.controlPoints.forEach((function(o){o.setVisibility(t)}))},e.prototype.shouldBeDrawn=function(){return!!this.points.length},e.prototype.transform=function(t,o,n,e,r){var h=this;if(this.chart.inverted){var l=o;o=n,n=l}this.points.forEach((function(l,i){return h.transformPoint(t,o,n,e,r,i)}),this)},e.prototype.transformPoint=function(t,n,e,r,h,i){var l=this.points[i];l.mock||(l=this.points[i]=o.fromPoint(l)),l[t](n,e,r,h)},e.prototype.translate=function(t,o){this.transform("translate",null,null,t,o)},e.prototype.translatePoint=function(t,o,i){this.transformPoint("translate",null,null,t,o,i)},e.prototype.translateShape=function(t,o,n){var e=this.annotation.chart,r=this.annotation.userOptions,h=e.annotations.indexOf(this.annotation),l=e.options.annotations[h];this.translatePoint(t,o,0),n&&this.translatePoint(t,o,1),l[this.collection][this.index].point=this.options.point,r[this.collection][this.index].point=this.options.point},e.prototype.update=function(t){var o=this.annotation,n=l(!0,this.options,t),e=this.graphic.parentGroup;this.destroy(),this.constructor(o,n,this.index,this.itemType),this.render(e),this.redraw()},e}();return d})),n(o,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],(function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}})),n(o,"Extensions/Annotations/Controllables/ControllablePath.js",[o["Extensions/Annotations/Controllables/Controllable.js"],o["Extensions/Annotations/Controllables/ControllableDefaults.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function o(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=o.defaultMarkers,c=e.addEvent,d=e.defined,f=e.extend,y=e.merge,x=e.uniqueKey,v=[],A=O("marker-end"),m=O("marker-start"),P="rgba(192,192,192,"+(n.svg?1e-4:.002)+")";function O(t){return function(o){this.attr(t,"url(#"+o+")")}}function C(){this.options.defs=y(l,this.options.defs||{})}function E(t,o){var n={attributes:{id:t}},e={stroke:o.color||"none",fill:o.color||"rgba(0, 0, 0, 0.75)"};n.children=o.children&&o.children.map((function(t){return y(e,t)}));var r=y(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},o,n),marker=this.definition(r);return marker.id=t,marker}return function(t){function o(o,n,e){var r=t.call(this,o,n,e,"shape")||this;return r.type="path",r}return h(o,t),o.compose=function(t,o){-1===v.indexOf(t)&&(v.push(t),c(t,"afterGetContainer",C)),-1===v.indexOf(o)&&(v.push(o),o.prototype.addMarker=E)},o.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var o,n=this.points,e=n.length,r=[],h=e,l=n[0],c=h&&this.anchor(l).absolutePosition,d=0;if(c)for(r.push(["M",c.x,c.y]);++d<e&&h;)o=(l=n[d]).command||"L",c=this.anchor(l).absolutePosition,"M"===o||"L"===o?r.push([o,c.x,c.y]):"Z"===o&&r.push([o]),h=l.series.visible;return h&&this.graphic?this.chart.renderer.crispLine(r,this.graphic.strokeWidth()):null},o.prototype.shouldBeDrawn=function(){return t.prototype.shouldBeDrawn.call(this)||!!this.options.d},o.prototype.render=function(o){var n=this.options,e=this.attrsFromOptions(n);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(e).add(o),n.className&&this.graphic.addClass(n.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(o),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:P,fill:P,"stroke-width":this.graphic.strokeWidth()+2*n.snap}),t.prototype.render.call(this),f(this.graphic,{markerStartSetter:m,markerEndSetter:A}),this.setMarkers(this)},o.prototype.redraw=function(o){if(this.graphic){var n=this.toD(),e=o?"animate":"attr";n?(this.graphic[e]({d:n}),this.tracker[e]({d:n})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!n}t.prototype.redraw.call(this,o)},o.prototype.setMarkers=function(t){var o=t.options,n=t.chart,defs=n.options.defs,e=o.fill,r=d(e)&&"none"!==e?e:o.stroke;["markerStart","markerEnd"].forEach((function(e){var h,l,c,marker,d=o[e];if(d){for(c in defs)if((d===((h=defs[c]).attributes&&h.attributes.id)||d===h.id)&&"marker"===h.tagName){l=h;break}l&&(marker=t[e]=n.renderer.addMarker((o.id||x())+"-"+d,y(l,{color:r})),t.attr(e,marker.getAttribute("id")))}}))},o.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},o}(t)})),n(o,"Extensions/Annotations/Controllables/ControllableRect.js",[o["Extensions/Annotations/Controllables/Controllable.js"],o["Extensions/Annotations/Controllables/ControllablePath.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.merge;return function(t){function n(o,n,e){var r=t.call(this,o,n,e,"shape")||this;return r.type="rect",r.translate=t.prototype.translateShape,r}return r(n,t),n.prototype.render=function(o){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(n).add(o),t.prototype.render.call(this)},n.prototype.redraw=function(o){if(this.graphic){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[o?"animate":"attr"]({x:n.x,y:n.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(n)}t.prototype.redraw.call(this,o)},n.attrsMap=h(o.attrsMap,{width:"width",height:"height"}),n}(t)})),n(o,"Extensions/Annotations/Controllables/ControllableCircle.js",[o["Extensions/Annotations/Controllables/Controllable.js"],o["Extensions/Annotations/Controllables/ControllablePath.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.merge;return function(t){function n(o,n,e){var r=t.call(this,o,n,e,"shape")||this;return r.type="circle",r.translate=t.prototype.translateShape,r}return r(n,t),n.prototype.redraw=function(o){if(this.graphic){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[o?"animate":"attr"]({x:n.x,y:n.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!n}t.prototype.redraw.call(this,o)},n.prototype.render=function(o){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(n).add(o),t.prototype.render.call(this)},n.prototype.setRadius=function(t){this.options.r=t},n.attrsMap=h(o.attrsMap,{r:"r"}),n}(t)})),n(o,"Extensions/Annotations/Controllables/ControllableEllipse.js",[o["Extensions/Annotations/Controllables/Controllable.js"],o["Extensions/Annotations/Controllables/ControllablePath.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.merge,l=n.defined;return function(t){function n(o,n,e){var r=t.call(this,o,n,e,"shape")||this;return r.type="ellipse",r}return r(n,t),n.prototype.init=function(o,n,e){l(n.yAxis)&&n.points.forEach((function(t){t.yAxis=n.yAxis})),l(n.xAxis)&&n.points.forEach((function(t){t.xAxis=n.xAxis})),t.prototype.init.call(this,o,n,e)},n.prototype.render=function(o){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(o),t.prototype.render.call(this)},n.prototype.translate=function(o,n){t.prototype.translateShape.call(this,o,n,!0)},n.prototype.getDistanceFromLine=function(t,o,n,e){return Math.abs((o.y-t.y)*n-(o.x-t.x)*e+o.x*t.y-o.y*t.x)/Math.sqrt((o.y-t.y)*(o.y-t.y)+(o.x-t.x)*(o.x-t.x))},n.prototype.getAttrs=function(t,o){var n=t.x,e=t.y,r=o.x,h=o.y,l=(n+r)/2,c=(e+h)/2,d=Math.sqrt((n-r)*(n-r)/4+(e-h)*(e-h)/4),f=(h-e)/(r-n),y=180*Math.atan(f)/Math.PI;return l<n&&(y+=180),{cx:l,cy:c,rx:d,ry:this.getRY(),angle:y}},n.prototype.getRY=function(){var t=this.getYAxis();return l(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry},n.prototype.getYAxis=function(){var t=this.options.yAxis;return this.chart.yAxis[t]},n.prototype.getAbsolutePosition=function(t){return this.anchor(t).absolutePosition},n.prototype.redraw=function(o){if(this.graphic){var n=this.getAbsolutePosition(this.points[0]),e=this.getAbsolutePosition(this.points[1]),r=this.getAttrs(n,e);n?this.graphic[o?"animate":"attr"]({cx:r.cx,cy:r.cy,rx:r.rx,ry:r.ry,rotation:r.angle,rotationOriginX:r.cx,rotationOriginY:r.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(n)}t.prototype.redraw.call(this,o)},n.prototype.setYRadius=function(t){var o=this.annotation.userOptions.shapes;this.options.ry=t,o&&o[0]&&(o[0].ry=t,o[0].ry=t)},n.attrsMap=h(o.attrsMap,{ry:"ry"}),n}(t)})),n(o,"Extensions/Annotations/Controllables/ControllableLabel.js",[o["Extensions/Annotations/Controllables/Controllable.js"],o["Core/FormatUtilities.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Tooltip.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r){var h,l=this&&this.__extends||(h=function(t,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},h(t,b)},function(t,b){function o(){this.constructor=t}h(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),c=o.format,d=r.extend,f=r.isNumber,y=r.pick,x=[];function v(t,o,n,e,r){var path,h,l=r&&r.anchorX,c=r&&r.anchorY,d=n/2;return f(l)&&f(c)&&(path=[["M",l,c]],(h=o-c)<0&&(h=-e-h),h<n&&(d=l<t+n/2?h:n-h),c>o+e?path.push(["L",t+d,o+e]):c<o?path.push(["L",t+d,o]):l<t?path.push(["L",t,o+e/2]):l>t+n&&path.push(["L",t+n,o+e/2])),path||[]}var A=function(t){function o(o,n,e){return t.call(this,o,n,e,"label")||this}return l(o,t),o.alignedPosition=function(t,o){var n,e,r=t.align,h=t.verticalAlign,l=(o.x||0)+(t.x||0),c=(o.y||0)+(t.y||0);return"right"===r?n=1:"center"===r&&(n=2),n&&(l+=(o.width-(t.width||0))/n),"bottom"===h?e=1:"middle"===h&&(e=2),e&&(c+=(o.height-(t.height||0))/e),{x:Math.round(l),y:Math.round(c)}},o.compose=function(t){-1===x.indexOf(t)&&(x.push(t),t.prototype.symbols.connector=v)},o.justifiedOptions=function(t,label,o,n){var e,r=o.align,h=o.verticalAlign,l=label.box?0:label.padding||0,c=label.getBBox(),d={align:r,verticalAlign:h,x:o.x,y:o.y,width:label.width,height:label.height},f=(n.x||0)-t.plotLeft,y=(n.y||0)-t.plotTop;return(e=f+l)<0&&("right"===r?d.align="left":d.x=(d.x||0)-e),(e=f+c.width-l)>t.plotWidth&&("left"===r?d.align="right":d.x=(d.x||0)+t.plotWidth-e),(e=y+l)<0&&("bottom"===h?d.verticalAlign="top":d.y=(d.y||0)-e),(e=y+c.height-l)>t.plotHeight&&("top"===h?d.verticalAlign="bottom":d.y=(d.y||0)+t.plotHeight-e),d},o.prototype.translatePoint=function(o,n){t.prototype.translatePoint.call(this,o,n,0)},o.prototype.translate=function(t,o){var n=this.annotation.chart,e=this.annotation.userOptions,r=n.annotations.indexOf(this.annotation),h=n.options.annotations[r];if(n.inverted){var l=t;t=o,o=l}this.options.x+=t,this.options.y+=o,h[this.collection][this.index].x=this.options.x,h[this.collection][this.index].y=this.options.y,e[this.collection][this.index].x=this.options.x,e[this.collection][this.index].y=this.options.y},o.prototype.render=function(n){var e=this.options,r=this.attrsFromOptions(e),style=e.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,e.shape,null,null,e.useHTML,null,"annotation-label").attr(r).add(n),this.annotation.chart.styledMode||("contrast"===style.color&&(style.color=this.annotation.chart.renderer.getContrast(o.shapesWithoutBackground.indexOf(e.shape)>-1?"#FFFFFF":e.backgroundColor)),this.graphic.css(e.style).shadow(e.shadow)),e.className&&this.graphic.addClass(e.className),this.graphic.labelrank=e.labelrank,t.prototype.render.call(this)},o.prototype.redraw=function(o){var n=this.options,text=this.text||n.format||n.text,label=this.graphic,e=this.points[0];if(label){label.attr({text:text?c(String(text),e.getLabelConfig(),this.annotation.chart):n.formatter.call(e,this)});var r=this.anchor(e),h=this.position(r);h?(label.alignAttr=h,h.anchorX=r.absolutePosition.x,h.anchorY=r.absolutePosition.y,label[o?"animate":"attr"](h)):label.attr({x:0,y:-9999}),label.placed=!!h,t.prototype.redraw.call(this,o)}else this.redraw(o)},o.prototype.anchor=function(o){var n=t.prototype.anchor.apply(this,arguments),e=this.options.x||0,r=this.options.y||0;return n.absolutePosition.x-=e,n.absolutePosition.y-=r,n.relativePosition.x-=e,n.relativePosition.y-=r,n},o.prototype.position=function(t){var r,h,l,c,f=this.graphic,x=this.annotation.chart,v=this.points[0],A=this.options,m=t.absolutePosition,P=t.relativePosition,O=v.series.visible&&n.prototype.isInsidePlot.call(v);if(f&&O){var C=f.width,E=void 0===C?0:C,w=f.height,M=void 0===w?0:w;A.distance?r=e.prototype.getPosition.call({chart:x,distance:y(A.distance,16)},E,M,{plotX:P.x,plotY:P.y,negative:v.negative,ttBelow:v.ttBelow,h:P.height||P.width}):A.positioner?r=A.positioner.call(this):(h={x:m.x,y:m.y,width:0,height:0},r=o.alignedPosition(d(A,{width:E,height:M}),h),"justify"===this.options.overflow&&(r=o.alignedPosition(o.justifiedOptions(x,f,A,r),h))),A.crop&&(l=r.x-x.plotLeft,c=r.y-x.plotTop,O=x.isInsidePlot(l,c)&&x.isInsidePlot(l+E,c+M))}return O?r:null},o.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},o.shapesWithoutBackground=["connector"],o}(t);return A})),n(o,"Extensions/Annotations/Controllables/ControllableImage.js",[o["Extensions/Annotations/Controllables/Controllable.js"],o["Extensions/Annotations/Controllables/ControllableLabel.js"]],(function(t,o){var n,e=this&&this.__extends||(n=function(t,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},n(t,b)},function(t,b){function o(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)});return function(t){function n(o,n,e){var r=t.call(this,o,n,e,"shape")||this;return r.type="image",r.translate=t.prototype.translateShape,r}return e(n,t),n.prototype.render=function(o){var n=this.attrsFromOptions(this.options),e=this.options;this.graphic=this.annotation.chart.renderer.image(e.src,0,-9e9,e.width,e.height).attr(n).add(o),this.graphic.width=e.width,this.graphic.height=e.height,t.prototype.render.call(this)},n.prototype.redraw=function(n){if(this.graphic){var e=this.anchor(this.points[0]),r=o.prototype.position.call(this,e);r?this.graphic[n?"animate":"attr"]({x:r.x,y:r.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(r)}t.prototype.redraw.call(this,n)},n.attrsMap={width:"width",height:"height",zIndex:"zIndex"},n}(t)})),n(o,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new o(t)),t};var o=function(){function t(t){this.updates=[],this.chart=t}return t.prototype.addUpdate=function(t){this.chart.navigation.updates.push(t)},t.prototype.update=function(t,o){var n=this;this.updates.forEach((function(e){e.call(n.chart,t,o)}))},t}();t.Additions=o}(t||(t={})),t})),n(o,"Extensions/Annotations/NavigationBindingsUtilities.js",[o["Core/Utilities.js"]],(function(t){var o=t.defined,n=t.isNumber,e=t.pick,r={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:r,getAssignedAxis:function(t){return t.filter((function(t){var o=t.axis.getExtremes(),r=o.min,h=o.max,l=e(t.axis.minPointOffset,0);return n(r)&&n(h)&&t.value>=r-l&&t.value<=h+l&&!t.axis.options.isInternal}))[0]},getFieldType:function(t,n){var e=r[t],h=typeof n;return o(e)&&(h=e),{string:"text",number:"number",boolean:"checkbox"}[h]}}})),n(o,"Extensions/Annotations/NavigationBindingsDefaults.js",[o["Extensions/Annotations/NavigationBindingsUtilities.js"],o["Core/Utilities.js"]],(function(t,o){var n=t.getAssignedAxis,e=o.isNumber,r=o.merge;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t),e=n(o.xAxis),h=n(o.yAxis),l=this.chart.options.navigation;if(e&&h)return this.chart.addAnnotation(r({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:e.value,y:h.value,xAxis:e.axis.options.index,yAxis:h.axis.options.index},r:5}]},l.annotationsOptions,l.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,o){var n,r=o.options.shapes,h=r&&r[0]&&r[0].point||{};if(e(h.xAxis)&&e(h.yAxis)){var l=this.chart.inverted,c=this.chart.xAxis[h.xAxis].toPixels(h.x),d=this.chart.yAxis[h.yAxis].toPixels(h.y);n=Math.max(Math.sqrt(Math.pow(l?d-t.chartX:c-t.chartX,2)+Math.pow(l?c-t.chartY:d-t.chartY,2)),5)}o.update({shapes:[{r:n}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t),e=n(o.xAxis),h=n(o.yAxis),l=this.chart.options.navigation;if(e&&h)return this.chart.addAnnotation(r({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:e.axis.options.index,yAxis:h.axis.options.index,points:[{x:e.value,y:h.value},{x:e.value,y:h.value}],ry:1}]},l.annotationsOptions,l.bindings.ellipseAnnotation.annotationOptions))},steps:[function(t,o){var n=o.shapes[0],e=n.getAbsolutePosition(n.points[1]);n.translatePoint(t.chartX-e.x,t.chartY-e.y,1),n.redraw(!1)},function(t,o){var n=o.shapes[0],e=n.getAbsolutePosition(n.points[0]),r=n.getAbsolutePosition(n.points[1]),h=n.getDistanceFromLine(e,r,t.chartX,t.chartY),l=n.getYAxis(),c=Math.abs(l.toValue(0)-l.toValue(h));n.setYRadius(c),n.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t),e=n(o.xAxis),h=n(o.yAxis);if(e&&h){var l=e.value,c=h.value,d=e.axis.options.index,f=h.axis.options.index,y=this.chart.options.navigation;return this.chart.addAnnotation(r({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:d,yAxis:f,x:l,y:c},{xAxis:d,yAxis:f,x:l,y:c},{xAxis:d,yAxis:f,x:l,y:c},{xAxis:d,yAxis:f,x:l,y:c},{command:"Z"}]}]},y.annotationsOptions,y.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(t,o){var e=o.options.shapes,r=e&&e[0]&&e[0].points||[],h=this.chart.pointer.getCoordinates(t),l=n(h.xAxis),c=n(h.yAxis);if(l&&c){var d=l.value,f=c.value;r[1].x=d,r[2].x=d,r[2].y=f,r[3].y=f,o.update({shapes:[{points:r}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var o=this.chart.pointer.getCoordinates(t),e=n(o.xAxis),h=n(o.yAxis),l=this.chart.options.navigation;if(e&&h)return this.chart.addAnnotation(r({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:e.axis.options.index,yAxis:h.axis.options.index,x:e.value,y:h.value},overflow:"none",crop:!0}]},l.annotationsOptions,l.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}})),n(o,"Extensions/Annotations/NavigationBindings.js",[o["Core/Chart/ChartNavigationComposition.js"],o["Core/DefaultOptions.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Extensions/Annotations/NavigationBindingsDefaults.js"],o["Extensions/Annotations/NavigationBindingsUtilities.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r,h,l){var c=o.setOptions,d=n.format,f=e.doc,y=e.win,x=h.getFieldType,v=l.addEvent,A=l.attr,m=(l.defined,l.fireEvent),P=l.isArray,O=l.isFunction,C=l.isNumber,E=l.isObject,w=l.merge,M=l.objectEach,k=l.pick,j=[];function _(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function T(){this.navigationBindings&&this.navigationBindings.destroy()}function L(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new S(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function B(){var t=this.navigationBindings,o="highcharts-disabled-btn";if(this&&t){var n=!1;if(this.series.forEach((function(t){!t.options.isInternal&&t.visible&&(n=!0)})),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){var e=this.navigationBindings.container[0];M(t.boundClassNames,(function(t,r){var h=e.querySelectorAll("."+r);if(h)for(var i=0;i<h.length;i++){var button=h[i],l=button.className;"normal"===t.noDataState||n?-1!==l.indexOf(o)&&button.classList.remove(o):-1===l.indexOf(o)&&(button.className+=" "+o)}}))}}}function N(){this.deselectAnnotation()}function Y(){this.selectedButtonElement=null}function X(t){var o=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;w(!0,t.prototype.defaultOptions.events,{click:function(t){var n=this,e=n.chart.navigationBindings,r=e.activeAnnotation;o&&o.call(n,t),r!==n?(e.deselectAnnotation(),e.activeAnnotation=n,n.setControlPointsVisibility(!0),m(e,"showPopup",{annotation:n,formType:"annotation-toolbar",options:e.annotationToFields(n),onSubmit:function(data){if("remove"===data.actionType)e.activeAnnotation=!1,e.chart.removeAnnotation(n);else{var t={};e.fieldsToOptions(data.fields,t),e.deselectAnnotation();var o=t.typeOptions;"measure"===n.options.type&&(o.crosshairY.enabled=0!==o.crosshairY.strokeWidth,o.crosshairX.enabled=0!==o.crosshairX.strokeWidth),n.update(t)}}})):m(e,"closePopup"),t.activeAnnotation=!0}})}var S=function(){function o(t,o){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=t,this.options=o,this.eventsToUnbind=[],this.container=this.chart.container.querySelectorAll("."+this.options.bindingsClassName),this.container.length||(this.container=f.querySelectorAll("."+this.options.bindingsClassName))}return o.compose=function(t,n){-1===j.indexOf(t)&&(j.push(t),v(t,"remove",_),X(t),M(t.types,(function(t){X(t)}))),-1===j.indexOf(n)&&(j.push(n),v(n,"destroy",T),v(n,"load",L),v(n,"render",B)),-1===j.indexOf(o)&&(j.push(o),v(o,"closePopup",N),v(o,"deselectButton",Y)),-1===j.indexOf(c)&&(j.push(c),c(r))},o.prototype.initEvents=function(){var t=this,o=t.chart,n=t.container,r=t.options;t.boundClassNames={},M(r.bindings||{},(function(o){t.boundClassNames[o.className]=o})),[].forEach.call(n,(function(o){t.eventsToUnbind.push(v(o,"click",(function(n){var e=t.getButtonEvents(o,n);e&&-1===e.button.className.indexOf("highcharts-disabled-btn")&&t.bindingsButtonClick(e.button,e.events,n)})))})),M(r.events||{},(function(o,n){O(o)&&t.eventsToUnbind.push(v(t,n,o,{passive:!1}))})),t.eventsToUnbind.push(v(o.container,"click",(function(n){!o.cancelClick&&o.isInsidePlot(n.chartX-o.plotLeft,n.chartY-o.plotTop,{visiblePlotOnly:!0})&&t.bindingsChartClick(this,n)}))),t.eventsToUnbind.push(v(o.container,e.isTouchDevice?"touchmove":"mousemove",(function(o){t.bindingsContainerMouseMove(this,o)}),e.isTouchDevice?{passive:!1}:void 0))},o.prototype.initUpdate=function(){var o=this;t.compose(this.chart).navigation.addUpdate((function(t){o.update(t)}))},o.prototype.bindingsButtonClick=function(button,t,o){var n=this,e=n.chart,r=e.renderer.boxWrapper,h=!0;n.selectedButtonElement&&(n.selectedButtonElement.classList===button.classList&&(h=!1),m(n,"deselectButton",{button:n.selectedButtonElement}),n.nextEvent&&(n.currentUserDetails&&"annotations"===n.currentUserDetails.coll&&e.removeAnnotation(n.currentUserDetails),n.mouseMoveEvent=n.nextEvent=!1)),h?(n.selectedButton=t,n.selectedButtonElement=button,m(n,"selectButton",{button:button}),t.init&&t.init.call(n,button,o),(t.start||t.steps)&&e.renderer.boxWrapper.addClass("highcharts-draw-mode")):(e.stockTools&&e.stockTools.toggleButtonActiveClass(button),r.removeClass("highcharts-draw-mode"),n.nextEvent=!1,n.mouseMoveEvent=!1,n.selectedButton=null)},o.prototype.bindingsChartClick=function(t,o){t=this.chart;var n=this,e=n.activeAnnotation,r=n.selectedButton,h=t.renderer.boxWrapper;e&&(e.cancelClick||o.activeAnnotation||!o.target.parentNode||function(t,s){var o=y.Element.prototype,n=o.matches||o.msMatchesSelector||o.webkitMatchesSelector,e=null;if(o.closest)e=o.closest.call(t,s);else do{if(n.call(t,s))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return e}(o.target,".highcharts-popup")?e.cancelClick&&setTimeout((function(){e.cancelClick=!1}),0):m(n,"closePopup")),r&&r.start&&(n.nextEvent?(n.nextEvent(o,n.currentUserDetails),n.steps&&(n.stepIndex++,r.steps[n.stepIndex]?n.mouseMoveEvent=n.nextEvent=r.steps[n.stepIndex]:(m(n,"deselectButton",{button:n.selectedButtonElement}),h.removeClass("highcharts-draw-mode"),r.end&&r.end.call(n,o,n.currentUserDetails),n.nextEvent=!1,n.mouseMoveEvent=!1,n.selectedButton=null))):(n.currentUserDetails=r.start.call(n,o),n.currentUserDetails&&r.steps?(n.stepIndex=0,n.steps=!0,n.mouseMoveEvent=n.nextEvent=r.steps[n.stepIndex]):(m(n,"deselectButton",{button:n.selectedButtonElement}),h.removeClass("highcharts-draw-mode"),n.steps=!1,n.selectedButton=null,r.end&&r.end.call(n,o,n.currentUserDetails))))},o.prototype.bindingsContainerMouseMove=function(t,o){this.mouseMoveEvent&&this.mouseMoveEvent(o,this.currentUserDetails)},o.prototype.fieldsToOptions=function(t,o){return M(t,(function(t,n){var e=parseFloat(t),path=n.split("."),r=path.length-1;if(!C(e)||t.match(/px/g)||n.match(/format/g)||(t=e),"undefined"!==t){var h=o;path.forEach((function(o,n){var e=k(path[n+1],"");r===n?h[o]=t:(h[o]||(h[o]=e.match(/\d/g)?[]:{}),h=h[o])}))}})),o},o.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},o.prototype.annotationToFields=function(t){var n=t.options,e=o.annotationsEditable,r=e.nestedOptions,h=k(n.type,n.shapes&&n.shapes[0]&&n.shapes[0].type,n.labels&&n.labels[0]&&n.labels[0].type,"label"),l=o.annotationsNonEditable[n.langKey]||[],c={langKey:n.langKey,type:h};function f(option,o,n,e,h){var c;n&&option&&-1===l.indexOf(o)&&((n.indexOf&&n.indexOf(o))>=0||n[o]||!0===n)&&(P(option)?(e[o]=[],option.forEach((function(t,i){E(t)?(e[o][i]={},M(t,(function(t,n){f(t,n,r[o],e[o][i],o)}))):f(t,0,r[o],e[o],o)}))):E(option)?(c={},P(e)?(e.push(c),c[o]={},c=c[o]):e[o]=c,M(option,(function(t,e){f(t,e,0===o?n:r[o],c,o)}))):"format"===o?e[o]=[d(option,t.labels[0].points[0]).toString(),"text"]:P(e)?e.push([option,x(h,option)]):e[o]=[option,x(o,option)])}return M(n,(function(option,t){"typeOptions"===t?(c[t]={},M(n[t],(function(o,n){f(o,n,r,c[t],n)}))):f(option,t,e[h],c,t)})),c},o.prototype.getClickedClassNames=function(t,o){for(var n,element=o.target,e=[];element;)if((n=A(element,"class"))&&(e=e.concat(n.split(" ").map((function(t){return[t,element]})))),(element=element.parentNode)===t)return e;return e},o.prototype.getButtonEvents=function(t,o){var n,e=this;return this.getClickedClassNames(t,o).forEach((function(t){e.boundClassNames[t[0]]&&!n&&(n={events:e.boundClassNames[t[0]],button:t[1]})})),n},o.prototype.update=function(t){this.options=w(!0,this.options,t),this.removeEvents(),this.initEvents()},o.prototype.removeEvents=function(){this.eventsToUnbind.forEach((function(t){return t()}))},o.prototype.destroy=function(){this.removeEvents()},o.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},o.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},o}();return S})),n(o,"Extensions/Annotations/Popup/PopupAnnotations.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],(function(t,o){var n=t.doc,e=t.isFirefox,r=o.createElement,h=o.isArray,l=o.isObject,c=o.objectEach,d=o.pick,f=o.stableSort;function y(t,o,d,x,v,A){var m=this;if(o){var P,O,C=this.addInput,E=this.lang;c(x,(function(n,option){P=""!==d?d+"."+option:option,l(n)&&(!h(n)||h(n)&&l(n[0])?((O=E[option]||option).match(/\d/g)||v.push([!0,O,t]),y.call(m,t,o,P,n,v,!1)):v.push([m,P,"annotation",t,n]))})),A&&(f(v,(function(a){return a[1].match(/format/g)?-1:1})),e&&v.reverse(),v.forEach((function(t){!0===t[0]?r("span",{className:"highcharts-annotation-title"},void 0,t[2]).appendChild(n.createTextNode(t[1])):(t[4]={value:t[4][0],type:t[4][1]},C.apply(t[0],t.splice(1)))})))}}return{addForm:function(t,o,e,h){if(t){var l=this.container,c=this.lang,d=r("h2",{className:"highcharts-popup-main-title"},void 0,l);d.appendChild(n.createTextNode(c[o.langKey]||o.langKey||"")),d=r("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,l);var f=r("div",{className:"highcharts-popup-bottom-row"},void 0,l);y.call(this,d,t,"",o,[],!0),this.addButton(f,h?c.addButton||"add":c.saveButton||"save",h?"add":"save",l,e)}},addToolbar:function(t,o,e){var h=this,l=this.lang,c=this.container,f=this.showForm,y="highcharts-annotation-toolbar";-1===c.className.indexOf(y)&&(c.className+=" "+y),t&&(c.style.top=t.plotTop+10+"px"),r("span",void 0,void 0,c).appendChild(n.createTextNode(d(l[o.langKey]||o.langKey,o.shapes&&o.shapes[0].type,"")));var button=this.addButton(c,l.removeButton||"remove","remove",c,e);button.className+=" highcharts-annotation-remove-button",button.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(button=this.addButton(c,l.editButton||"edit","edit",c,(function(){f.call(h,"annotation-edit",t,o,e)}))).className+=" highcharts-annotation-edit-button",button.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}})),n(o,"Extensions/Annotations/Popup/PopupIndicators.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Globals.js"],o["Extensions/Annotations/NavigationBindingsUtilities.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r){var h,l=o.doc,c=n.annotationsFieldsTypes,d=e.seriesTypes,f=r.addEvent,y=r.createElement,x=r.defined,v=r.isArray,A=r.isObject,m=r.objectEach,P=r.stableSort;!function(t){t[t["params.algorithm"]=0]="params.algorithm",t[t["params.average"]=1]="params.average"}(h||(h={}));var O={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};function C(t){var o=y("div",{className:"highcharts-popup-lhs-col"},void 0,t),n=y("div",{className:"highcharts-popup-rhs-col"},void 0,t);return y("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,n),{lhsCol:o,rhsCol:n}}function E(o,n,e,r){var h=n.params||n.options.params;r.innerHTML=t.emptyHTML,y("h3",{className:"highcharts-indicator-title"},void 0,r).appendChild(l.createTextNode(B(n,e).indicatorFullName)),y("input",{type:"hidden",name:"highcharts-type-"+e,value:e},void 0,r),N.call(this,e,"series",o,r,n,n.linkedParent&&n.linkedParent.options.id),h.volumeSeriesID&&N.call(this,e,"volume",o,r,n,n.linkedParent&&h.volumeSeriesID),M.call(this,o,"params",h,e,r)}function w(o,n,e,filter){var r=this,h=r.lang,c=n.querySelectorAll(".highcharts-popup-lhs-col")[0],d=n.querySelectorAll(".highcharts-popup-rhs-col")[0],x="edit"===e,A=x?o.series:o.options.plotOptions||{};if(o||!A){var m,O=[];x||v(A)?v(A)&&(O=L.call(this,A)):O=T.call(this,A,filter),P(O,(function(a,b){var t=a.indicatorFullName.toLowerCase(),o=b.indicatorFullName.toLowerCase();return t<o?-1:t>o?1:0})),c.children[1]&&c.children[1].remove();var C=y("ul",{className:"highcharts-indicator-list"},void 0,c),w=d.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];O.forEach((function(t){var n=t.indicatorFullName,e=t.indicatorType,h=t.series;(m=y("li",{className:"highcharts-indicator-list"},void 0,C)).appendChild(l.createTextNode(n)),["click","touchstart"].forEach((function(t){f(m,t,(function(){var button=w.parentNode.children[1];E.call(r,o,h,e,w),button&&(button.style.display="block"),x&&h.options&&y("input",{type:"hidden",name:"highcharts-id-"+e,value:h.options.id},void 0,w).setAttribute("highcharts-data-series-id",h.options.id)}))}))})),C.childNodes.length>0?C.childNodes[0].click():x||(t.setElementHTML(w.parentNode.children[0],h.noFilterMatch||""),w.parentNode.children[1].style.display="none")}}function M(t,o,n,e,r){var l=this;if(t){var d=this.addInput;m(n,(function(n,f){c[f];var y=o+"."+f;if(x(n)&&y)if(A(n)&&(d.call(l,y,e,r,{}),M.call(l,t,y,n,e,r)),y in h){var m=j.call(l,e,y,r);_.call(l,t,o,m,e,f,n)}else"params.volumeSeriesID"===y||v(n)||d.call(l,y,e,r,{value:n,type:"number"})}))}}function k(t,o){var n=this,e=o.querySelectorAll(".highcharts-popup-lhs-col")[0],r=this.lang.clearFilter,h=y("div",{className:"highcharts-input-wrapper"},void 0,e),l=function(o){w.call(n,t,n.container,"add",o)},input=this.addInput("searchIndicators","input",h,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),button=y("a",{textContent:r},void 0,h);input.classList.add("highcharts-input-search-indicators"),button.classList.add("clear-filter-button"),f(input,"input",(function(t){l(this.value),this.value.length?button.style.display="inline-block":button.style.display="none"})),["click","touchstart"].forEach((function(t){f(button,t,(function(){input.value="",l(""),button.style.display="none"}))}))}function j(t,o,n){var e=o.split("."),r=e[e.length-1],h="highcharts-"+o+"-type-"+t,c=this.lang;y("label",{htmlFor:h},null,n).appendChild(l.createTextNode(c[r]||o));var d=y("select",{name:h,className:"highcharts-popup-field",id:"highcharts-select-"+o},null,n);return d.setAttribute("id","highcharts-select-"+o),d}function _(t,o,n,e,r,h,c){"series"===o||"volume"===o?t.series.forEach((function(t){var e=t.options,r=e.name||e.params?t.name:e.id||"";"highcharts-navigator-series"!==e.id&&e.id!==(c&&c.options&&c.options.id)&&(x(h)||"volume"!==o||"column"!==t.type||(h=e.id),y("option",{value:e.id},void 0,n).appendChild(l.createTextNode(r)))})):e&&r&&O[r+"-"+e].forEach((function(element){y("option",{value:element},void 0,n).appendChild(l.createTextNode(element))})),x(h)&&(n.value=h)}function T(t,filter){var o,n=this,e=(n.indicators,n.chart&&n.chart.options.lang),r=e&&e.navigation&&e.navigation.popup&&e.navigation.popup.indicatorAliases,h=[];return m(t,(function(t,n){var e=t&&t.options;if(t.params||e&&e.params){var l=B(t,n),c=l.indicatorFullName,d=l.indicatorType;if(filter){var f=filter.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),y=new RegExp(f,"i"),x=r&&r[d]&&r[d].join(" ")||"";(c.match(y)||x.match(y))&&(o={indicatorFullName:c,indicatorType:d,series:t},h.push(o))}else o={indicatorFullName:c,indicatorType:d,series:t},h.push(o)}})),h}function L(t){var o=[];return t.forEach((function(t){t.is("sma")&&o.push({indicatorFullName:t.name,indicatorType:t.type,series:t})})),o}function B(t,o){var n=t.options,e=d[o]&&d[o].prototype.nameBase||o.toUpperCase(),r=o;return n&&n.type&&(r=t.options.type,e=t.name),{indicatorFullName:e,indicatorType:r}}function N(t,o,n,e,r,h){var l=this;if(l.indicators,n){var c=j.call(l,t,o,e);_.call(l,n,o,c,void 0,void 0,void 0,r),x(h)&&(c.value=h)}}return{addForm:function(t,o,n){var e,r=this.lang;if(t){this.tabs.init.call(this,t);var h=this.container.querySelectorAll(".highcharts-tab-item-content");C(h[0]),k.call(this,t,h[0]),w.call(this,t,h[0],"add"),e=h[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(e,r.addButton||"add","add",e,n),C(h[1]),w.call(this,t,h[1],"edit"),e=h[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(e,r.saveButton||"save","edit",e,n),this.addButton(e,r.removeButton||"remove","remove",e,n)}},getAmount:function(){var t=0;return this.series.forEach((function(o){(o.params||o.options.params)&&t++})),t}}})),n(o,"Extensions/Annotations/Popup/PopupTabs.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],(function(t,o){var n=t.doc,e=o.addEvent,r=o.createElement;function h(){var t=this.container;return r("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,t)}function l(t,o){var e=this.container,h=this.lang,l="highcharts-tab-item";0===o&&(l+=" highcharts-tab-disabled");var c=r("span",{className:l},void 0,e);return c.appendChild(n.createTextNode(h[t+"Button"]||t)),c.setAttribute("highcharts-data-tab-type",t),c}function c(){for(var t=this.container,o=t.querySelectorAll(".highcharts-tab-item"),n=t.querySelectorAll(".highcharts-tab-item-content"),i=0;i<o.length;i++)o[i].classList.remove("highcharts-tab-item-active"),n[i].classList.remove("highcharts-tab-item-show")}function d(t,o){var n=this.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",n[o].className+=" highcharts-tab-item-show"}function f(t){var o=this;this.container.querySelectorAll(".highcharts-tab-item").forEach((function(n,i){0===t&&"edit"===n.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach((function(t){e(n,t,(function(){c.call(o),d.call(o,this,i)}))}))}))}return{init:function(t){if(t){var o=this.indicators.getAmount.call(t),n=l.call(this,"add");l.call(this,"edit",o),h.call(this),h.call(this),f.call(this,o),d.call(this,n,0)}}}})),n(o,"Extensions/Annotations/Popup/Popup.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Extensions/Annotations/Popup/PopupAnnotations.js"],o["Extensions/Annotations/Popup/PopupIndicators.js"],o["Extensions/Annotations/Popup/PopupTabs.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r,h,l){var c=o.doc,d=n.getOptions,f=l.addEvent,y=l.createElement,x=l.extend,v=l.fireEvent,A=l.pick,m=function(){function n(t,n,e){this.chart=e,this.iconsURL=n,this.lang=d().lang.navigation.popup,this.container=y("div",{className:"highcharts-popup highcharts-no-tooltip"},void 0,t),f(this.container,"mousedown",(function(){var t=e&&e.navigationBindings&&e.navigationBindings.activeAnnotation;if(t){t.cancelClick=!0;var n=f(o.doc,"click",(function(){setTimeout((function(){t.cancelClick=!1}),0),n()}))}})),this.addCloseBtn()}return n.prototype.init=function(t,o,e){n.call(this,t,o,e)},n.prototype.addCloseBtn=function(){var t=this,o=this.iconsURL,n=y("div",{className:"highcharts-popup-close"},void 0,this.container);n.style["background-image"]="url("+(o.match(/png|svg|jpeg|jpg|gif/gi)?o:o+"close.svg")+")",["click","touchstart"].forEach((function(o){f(n,o,(function(){t.chart?v(t.chart.navigationBindings,"closePopup"):t.closePopup()}))}))},n.prototype.addInput=function(option,t,o,n){var e=option.split("."),r=e[e.length-1],h=this.lang,l="highcharts-"+t+"-"+A(n.htmlFor,r);l.match(/\d/g)||y("label",{htmlFor:l,className:n.labelClassName},void 0,o).appendChild(c.createTextNode(h[r]||r));var input=y("input",{name:l,value:n.value,type:n.type,className:"highcharts-popup-field"},void 0,o);return input.setAttribute("highcharts-data-name",option),input},n.prototype.addButton=function(t,label,o,n,e){var r=this,button=y("button",void 0,void 0,t);return button.appendChild(c.createTextNode(label)),e&&["click","touchstart"].forEach((function(t){f(button,t,(function(){return r.closePopup(),e(function(t,o){var n=Array.prototype.slice.call(t.querySelectorAll("input")),e=Array.prototype.slice.call(t.querySelectorAll("select")),r=t.querySelectorAll("#highcharts-select-series > option:checked")[0],h=t.querySelectorAll("#highcharts-select-volume > option:checked")[0],l={actionType:o,linkedTo:r&&r.getAttribute("value")||"",fields:{}};return n.forEach((function(input){var param=input.getAttribute("highcharts-data-name");input.getAttribute("highcharts-data-series-id")?l.seriesId=input.value:param?l.fields[param]=input.value:l.type=input.value})),e.forEach((function(select){var t=select.id;if("highcharts-select-series"!==t&&"highcharts-select-volume"!==t){var o=t.split("highcharts-select-")[1];l.fields[o]=select.value}})),h&&(l.fields["params.volumeSeriesID"]=h.getAttribute("value")||""),l}(n,o))}))})),button},n.prototype.showPopup=function(){var o=this.container,n="highcharts-annotation-toolbar",e=o.querySelectorAll(".highcharts-popup-close")[0];this.formType=void 0,o.innerHTML=t.emptyHTML,o.className.indexOf(n)>=0&&(o.classList.remove(n),o.removeAttribute("style")),o.appendChild(e),o.style.display="block",o.style.height=""},n.prototype.closePopup=function(){this.container.style.display="none"},n.prototype.showForm=function(t,o,n,e){o&&(this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,o,n,e),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,o,n,e),"annotation-edit"===t&&this.annotations.addForm.call(this,o,n,e),"flag"===t&&this.annotations.addForm.call(this,o,n,e,!0),this.formType=t,this.container.style.height=this.container.offsetHeight+"px")},n}();return x(m.prototype,{annotations:e,indicators:r,tabs:h}),m})),n(o,"Extensions/Annotations/Popup/PopupComposition.js",[o["Extensions/Annotations/Popup/Popup.js"],o["Core/Utilities.js"]],(function(t,o){var n=o.addEvent,e=o.wrap,r=[];function h(){this.popup&&this.popup.closePopup()}function l(o){this.popup||(this.popup=new t(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/10.2.1/gfx/stock-icons/",this.chart)),this.popup.showForm(o.formType,this.chart,o.options,o.onSubmit)}function c(t,o){this.inClass(o.target,"highcharts-popup")||t.apply(this,Array.prototype.slice.call(arguments,1))}return{compose:function(t,o){-1===r.indexOf(t)&&(r.push(t),n(t,"closePopup",h),n(t,"showPopup",l)),-1===r.indexOf(o)&&(r.push(o),e(o.prototype,"onContainerMouseDown",c))}}})),n(o,"Extensions/Annotations/Annotation.js",[o["Core/Animation/AnimationUtilities.js"],o["Extensions/Annotations/AnnotationChart.js"],o["Extensions/Annotations/AnnotationDefaults.js"],o["Extensions/Annotations/Controllables/Controllable.js"],o["Extensions/Annotations/Controllables/ControllableRect.js"],o["Extensions/Annotations/Controllables/ControllableCircle.js"],o["Extensions/Annotations/Controllables/ControllableEllipse.js"],o["Extensions/Annotations/Controllables/ControllablePath.js"],o["Extensions/Annotations/Controllables/ControllableImage.js"],o["Extensions/Annotations/Controllables/ControllableLabel.js"],o["Extensions/Annotations/ControlPoint.js"],o["Extensions/Annotations/EventEmitter.js"],o["Extensions/Annotations/MockPoint.js"],o["Extensions/Annotations/NavigationBindings.js"],o["Extensions/Annotations/Popup/PopupComposition.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r,h,l,c,d,f,y,x,v,A,m,P){var O,C=this&&this.__extends||(O=function(t,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},O(t,b)},function(t,b){function o(){this.constructor=t}O(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),E=t.getDeferredAnimation,w=e.prototype,M=(P.addEvent,P.destroyObjectProperties),k=P.erase,j=(P.extend,P.find,P.fireEvent),_=P.merge,T=P.pick,L=P.splat;function B(t,o){var n={};return["labels","shapes"].forEach((function(e){var r=t[e];r&&(o[e]?n[e]=L(o[e]).map((function(t,i){return _(r[i],t)})):n[e]=t[e])})),n}P.wrap;var N=function(t){function n(o,n){var e=t.call(this)||this;e.annotation=void 0,e.coll="annotations",e.collection=void 0,e.animationConfig=void 0,e.graphic=void 0,e.group=void 0,e.labelCollector=void 0,e.labelsGroup=void 0,e.shapesGroup=void 0,e.chart=o,e.points=[],e.controlPoints=[],e.coll="annotations",e.labels=[],e.shapes=[],e.options=_(e.defaultOptions,n),e.userOptions=n;var r=B(e.options,n);return e.options.labels=r.labels,e.options.shapes=r.shapes,e.init(o,e.options),e}return C(n,t),n.compose=function(t,e,r){o.compose(n,t,e),f.compose(r),c.compose(t,r),A.compose(n,t),m.compose(A,e)},n.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},n.prototype.addLabels=function(){var t=this,o=this.options.labels||[];o.forEach((function(n,i){var label=t.initLabel(n,i);_(!0,o[i],label.options)}))},n.prototype.addShapes=function(){var t=this,o=this.options.shapes||[];o.forEach((function(n,i){var e=t.initShape(n,i);_(!0,o[i],e.options)}))},n.prototype.destroy=function(){var o=this.chart,n=function(t){t.destroy()};this.labels.forEach(n),this.shapes.forEach(n),this.clipXAxis=null,this.clipYAxis=null,k(o.labelCollectors,this.labelCollector),t.prototype.destroy.call(this),w.destroy.call(this),M(this,o)},n.prototype.destroyItem=function(t){k(this[t.itemType+"s"],t),t.destroy()},n.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},n.prototype.init=function(t,o,n){var e=this.chart,r=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=E(e,r)},n.prototype.initLabel=function(t,o){var n=_(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),label=new f(this,n,o);return label.itemType="label",this.labels.push(label),label},n.prototype.initShape=function(t,o){var e=_(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},t),r=new n.shapesMap[e.type](this,e,o);return r.itemType="shape",this.shapes.push(r),r},n.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),w.redraw.call(this,t)},n.prototype.redrawItem=function(t,o){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(T(o,!0)&&t.graphic.placed),t.points.length&&function(t){var label=t.graphic,o=t.points.some((function(t){return!1!==t.series.visible&&!1!==t.visible}));label&&(o?"hidden"===label.visibility&&label.show():label.hide())}(t)):this.destroyItem(t)},n.prototype.redrawItems=function(t,o){for(var i=t.length;i--;)this.redrawItem(t[i],o)},n.prototype.remove=function(){return this.chart.removeAnnotation(this)},n.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),w.render.call(this)},n.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},n.prototype.renderItems=function(t){for(var i=t.length;i--;)this.renderItem(t[i])},n.prototype.setClipAxes=function(){var t=this.chart.xAxis,o=this.chart.yAxis,n=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((function(n,e){var r=e&&(e.point||e.points&&e.points[0]);return[t[r&&r.xAxis]||n[0],o[r&&r.yAxis]||n[1]]}),[]);this.clipXAxis=n[0],this.clipYAxis=n[1]},n.prototype.setControlPointsVisibility=function(t){var o=function(o){o.setControlPointsVisibility(t)};w.setControlPointsVisibility.call(this,t),this.shapes.forEach(o),this.labels.forEach(o)},n.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce((function(t,label){return label.options.allowOverlap||t.push(label.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)},n.prototype.setOptions=function(t){this.options=_(this.defaultOptions,t)},n.prototype.setVisibility=function(t){var o=this.options,n=this.chart.navigationBindings,e=T(t,!o.visible);this.graphic.attr("visibility",e?"inherit":"hidden"),e||(this.setControlPointsVisibility(!1),n.activeAnnotation===this&&n.popup&&"annotation-toolbar"===n.popup.formType&&j(n,"closePopup")),o.visible=e},n.prototype.update=function(t,o){var n=this.chart,e=B(this.userOptions,t),r=n.annotations.indexOf(this),h=_(!0,this.userOptions,t);h.labels=e.labels,h.shapes=e.shapes,this.destroy(),this.constructor(n,h),n.options.annotations[r]=h,this.isUpdating=!0,T(o,!0)&&n.redraw(),j(this,"afterUpdate"),this.isUpdating=!1},n.ControlPoint=y,n.MockPoint=v,n.shapesMap={rect:r,circle:h,ellipse:l,path:c,image:d},n.types={},n}(x);return _(!0,N.prototype,e.prototype,_(N.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:n})),N})),n(o,"Extensions/Annotations/Types/BasicAnnotation.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.merge,l=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.addControlPoints=function(){var t=this.options,o=e.basicControlPoints,n=this.basicType;(t.labels||t.shapes||[]).forEach((function(t){t.controlPoints=o[n]}))},e.prototype.init=function(){var o=this.options;if(o.shapes){delete o.labelOptions;var n=o.shapes[0].type;this.basicType=n&&"path"!==n?n:"rectangle"}else delete o.shapes,this.basicType="label";t.prototype.init.apply(this,arguments)},e.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(t){if(!t.graphic.placed)return{x:0,y:-9e7};var n=o.pointToPixels(t.points[0]);return{x:n.x-this.graphic.width/2,y:n.y-this.graphic.height/2}},events:{drag:function(t,o){var n=this.mouseMoveToTranslation(t);o.translatePoint(n.x,n.y),o.annotation.userOptions.labels[0].point=o.options.point,o.redraw(!1)}}},{symbol:"square",positioner:function(t){return t.graphic.placed?{x:t.graphic.alignAttr.x-this.graphic.width/2,y:t.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,o){var n=this.mouseMoveToTranslation(t);o.translate(n.x,n.y),o.annotation.userOptions.labels[0].point=o.options.point,o.redraw(!1)}}}],rectangle:[{positioner:function(t){var n=o.pointToPixels(t.points[2]);return{x:n.x-4,y:n.y-4}},events:{drag:function(t,o){var n=o.annotation,e=this.chart.pointer.getCoordinates(t),r=e.xAxis[0].value,h=e.yAxis[0].value,l=o.options.points,c=n.userOptions.shapes;l[1].x=r,l[2].x=r,l[2].y=h,l[3].y=h,c&&c[0]&&(c[0].points=o.options.points),n.redraw(!1)}}}],circle:[{positioner:function(t){var n=o.pointToPixels(t.points[0]),e=t.options.r;return{x:n.x+e*Math.cos(Math.PI/4)-this.graphic.width/2,y:n.y+e*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(t,o){var n=o.annotation,e=this.mouseMoveToTranslation(t),r=n.userOptions.shapes;o.setRadius(Math.max(o.options.r+e.y/Math.sin(Math.PI/4),5)),r&&r[0]&&(r[0].r=o.options.r,r[0].point=o.options.point),o.redraw(!1)}}}],ellipse:[{positioner:function(t){var o=t.getAbsolutePosition(t.points[0]);return{x:o.x-this.graphic.width/2,y:o.y-this.graphic.height/2}},events:{drag:function(t,o){var n=o.getAbsolutePosition(o.points[0]);o.translatePoint(t.chartX-n.x,t.chartY-n.y,0),o.redraw(!1)}}},{positioner:function(t){var o=t.getAbsolutePosition(t.points[1]);return{x:o.x-this.graphic.width/2,y:o.y-this.graphic.height/2}},events:{drag:function(t,o){var n=o.getAbsolutePosition(o.points[1]);o.translatePoint(t.chartX-n.x,t.chartY-n.y,1),o.redraw(!1)}}},{positioner:function(t){var o=t.getAbsolutePosition(t.points[0]),n=t.getAbsolutePosition(t.points[1]),e=t.getAttrs(o,n);return{x:e.cx-this.graphic.width/2+e.ry*Math.sin(e.angle*Math.PI/180),y:e.cy-this.graphic.height/2-e.ry*Math.cos(e.angle*Math.PI/180)}},events:{drag:function(t,o){var n=o.getAbsolutePosition(o.points[0]),e=o.getAbsolutePosition(o.points[1]),r=o.getDistanceFromLine(n,e,t.chartX,t.chartY),h=o.getYAxis(),l=Math.abs(h.toValue(0)-h.toValue(r));o.setYRadius(l),o.redraw(!1)}}}]},e}(t);return l.prototype.defaultOptions=h(t.prototype.defaultOptions,{}),t.types.basicAnnotation=l,l})),n(o,"Extensions/Annotations/Types/CrookedLine.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/ControlPoint.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function o(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=e.merge,c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},n.prototype.getPointsOptions=function(){var t=this.options.typeOptions;return(t.points||[]).map((function(o){return o.xAxis=t.xAxis,o.yAxis=t.yAxis,o}))},n.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},n.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach((function(t,i){var n=new o(this.chart,this,l(this.options.controlPointOptions,t.controlPoint),i);this.controlPoints.push(n),t.controlPoint=n.options}),this)},n.prototype.addShapes=function(){var t=this.options.typeOptions,o=this.initShape(l(t.line,{type:"path",points:this.points.map((function(t,i){return function(t){return t.annotation.points[i]}}))}),0);t.line=o.options},n}(t);return c.prototype.defaultOptions=l(t.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(t){var o=this.graphic,e=n.pointToPixels(t.points[this.index]);return{x:e.x-o.width/2,y:e.y-o.height/2}},events:{drag:function(t,o){if(o.chart.isInsidePlot(t.chartX-o.chart.plotLeft,t.chartY-o.chart.plotTop,{visiblePlotOnly:!0})){var n=this.mouseMoveToTranslation(t);o.translatePoint(n.x,n.y,this.index),o.options.typeOptions.points[this.index].x=o.points[this.index].x,o.options.typeOptions.points[this.index].y=o.points[this.index].y,o.redraw(!1)}}}}}),t.types.crookedLine=c,c})),n(o,"Extensions/Annotations/Types/ElliottWave.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/Types/CrookedLine.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.merge,l=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return r(o,t),o.prototype.addLabels=function(){var t=this;this.getPointsOptions().forEach((function(o,i){var n=t.options.typeOptions,label=t.initLabel(h(o.label,{text:n.labels[i],point:function(t){return t.annotation.points[i]}}),!1);o.label=label.options}))},o}(o);return l.prototype.defaultOptions=h(o.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),t.types.elliottWave=l,l})),n(o,"Extensions/Annotations/Types/Tunnel.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/ControlPoint.js"],o["Extensions/Annotations/Types/CrookedLine.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r){var h,l=this&&this.__extends||(h=function(t,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},h(t,b)},function(t,b){function o(){this.constructor=t}h(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),c=r.merge;function d(t,o,n){return(o.y-t.y)/(o.x-t.x)*(n-t.x)+t.y}var f=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.prototype.getPointsOptions=function(){var t=n.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},r.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},r.prototype.heightPointOptions=function(t){var o=c(t),n=this.options.typeOptions;return o.y+=n.height,o},r.prototype.addControlPoints=function(){n.prototype.addControlPoints.call(this);var t=this.options,e=t.typeOptions,r=new o(this.chart,this,c(t.controlPointOptions,e.heightControlPoint),2);this.controlPoints.push(r),e.heightControlPoint=r.options},r.prototype.addShapes=function(){this.addLine(),this.addBackground()},r.prototype.addLine=function(){var line=this.initShape(c(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(t){var o=e.pointToOptions(t.annotation.points[2]);return o.command="M",o},this.points[3]]}),0);this.options.typeOptions.line=line.options},r.prototype.addBackground=function(){var t=this.initShape(c(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=t.options},r.prototype.translateSide=function(t,o,n){var e=Number(n),r=0===e?3:2;this.translatePoint(t,o,e),this.translatePoint(t,o,r)},r.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height},r}(n);return f.prototype.defaultOptions=c(n.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(t){var o=e.pointToPixels(t.points[2]),n=e.pointToPixels(t.points[3]),r=(o.x+n.x)/2;return{x:r-this.graphic.width/2,y:d(o,n,r)-this.graphic.height/2}},events:{drag:function(t,o){o.chart.isInsidePlot(t.chartX-o.chart.plotLeft,t.chartY-o.chart.plotTop,{visiblePlotOnly:!0})&&(o.translateHeight(this.mouseMoveToTranslation(t).y),o.redraw(!1))}}}},controlPointOptions:{events:{drag:function(t,o){if(o.chart.isInsidePlot(t.chartX-o.chart.plotLeft,t.chartY-o.chart.plotTop,{visiblePlotOnly:!0})){var n=this.mouseMoveToTranslation(t);o.translateSide(n.x,n.y,!!this.index),o.redraw(!1)}}}}}),t.types.tunnel=f,f})),n(o,"Extensions/Annotations/Types/InfinityLine.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/Types/CrookedLine.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function o(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=e.merge,c=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return h(o,t),o.edgePoint=function(t,e){return function(r){var h=r.annotation,l=h.options.typeOptions.type,c=h.points;return"horizontalLine"!==l&&"verticalLine"!==l||(c=[c[0],new n(h.chart,c[0].target,{x:c[0].x+ +("horizontalLine"===l),y:c[0].y+ +("verticalLine"===l),xAxis:c[0].options.xAxis,yAxis:c[0].options.yAxis})]),o.findEdgePoint(c[t],c[e])}},o.findEdgeCoordinate=function(t,o,n,e){var r="x"===n?"y":"x";return(o[n]-t[n])*(e-t[r])/(o[r]-t[r])+t[n]},o.findEdgePoint=function(t,e){var r,h,l,c=t.series.chart,d=t.series.xAxis,f=e.series.yAxis,y=n.pointToPixels(t),x=n.pointToPixels(e),v=x.x-y.x,A=x.y-y.y,m=d.left,P=m+d.width,O=f.top,C=O+f.height,E=v<0?m:P,w=A<0?O:C,M={x:0===v?y.x:E,y:0===A?y.y:w};return 0!==v&&0!==A&&(h=o.findEdgeCoordinate(y,x,"y",E),r=o.findEdgeCoordinate(y,x,"x",w),h>=O&&h<=C?(M.x=E,M.y=h):(M.x=r,M.y=w)),M.x-=c.plotLeft,M.y-=c.plotTop,t.series.chart.inverted&&(l=M.x,M.x=M.y,M.y=l),M},o.prototype.addShapes=function(){var t=this.options.typeOptions,n=[this.points[0],o.endEdgePoint];t.type.match(/line/gi)&&(n[0]=o.startEdgePoint);var line=this.initShape(l(t.line,{type:"path",points:n}),0);t.line=line.options},o.endEdgePoint=o.edgePoint(0,1),o.startEdgePoint=o.edgePoint(1,0),o}(o);return c.prototype.defaultOptions=l(o.prototype.defaultOptions,{}),t.types.infinityLine=c,c})),n(o,"Extensions/Annotations/Types/TimeCycles.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/Types/CrookedLine.js"],o["Extensions/Annotations/ControlPoint.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function o(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=e.merge,c=e.isNumber,d=e.defined,f=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return h(o,t),o.prototype.init=function(o,n,e){d(n.yAxis)&&n.points.forEach((function(t){t.yAxis=n.yAxis})),d(n.xAxis)&&n.points.forEach((function(t){t.xAxis=n.xAxis})),t.prototype.init.call(this,o,n,e)},o.prototype.setPath=function(){this.shapes[0].options.d=this.getPath()},o.prototype.getPath=function(){return[(t=this.startX,o=this.y,["M",t,o])].concat(function(t,o,n,e){for(var path=[],i=1;i<=o;i++)path.push(["A",t/2,t/2,0,1,1,n+i*t,e]);return path}(this.pixelInterval,this.numberOfCircles,this.startX,this.y));var t,o},o.prototype.addShapes=function(){var t=this.options.typeOptions;this.setPathProperties();var o=this.initShape(l(t.line,{type:"path",d:this.getPath(),points:this.options.points}),0);t.line=o.options},o.prototype.addControlPoints=function(){var t=this,o=this.options,e=o.typeOptions;o.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",e.controlPointOptions.forEach((function(option){var e=l(o.controlPointOptions,option),r=new n(t.chart,t,e,0);t.controlPoints.push(r)}))},o.prototype.setPathProperties=function(){var t=this.options.typeOptions,o=t.points;if(o){var n=o[0],e=o[1],r=t.xAxis||0,h=t.yAxis||0,l=this.chart.xAxis[r],d=this.chart.yAxis[h],f=n.x,y=n.y,x=e.x;if(f&&x){var v=c(y)?d.toPixels(y):d.top+d.height,A=c(f)?l.toPixels(f):l.left,m=c(x)?l.toPixels(x):l.left+30,P=l.len,O=Math.round(Math.max(Math.abs(m-A),2)),C=Math.floor(P/O)+2,E=(Math.floor((A-l.left)/O)+1)*O;this.startX=A-E,this.y=v,this.pixelInterval=O,this.numberOfCircles=C}}},o.prototype.redraw=function(o){this.setPathProperties(),this.setPath(),t.prototype.redraw.call(this,o)},o}(o);return f.prototype.defaultOptions=l(o.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(t){var o=t.points[0];return{x:t.anchor(o).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,o){var n=o.anchor(o.points[0]).absolutePosition;o.translatePoint(t.chartX-n.x,0,0),o.redraw(!1)}}},{positioner:function(t){var o=t.points[1];return{x:t.anchor(o).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,o){var n=o.anchor(o.points[1]).absolutePosition;o.translatePoint(t.chartX-n.x,0,1),o.redraw(!1)}}}]}}),t.types.timeCycles=f,f})),n(o,"Extensions/Annotations/Types/Fibonacci.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/MockPoint.js"],o["Extensions/Annotations/Types/Tunnel.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function o(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=e.merge;function c(t,o){return function(){var n=this.annotation;if(!n.startRetracements||!n.endRetracements)return[];var e=this.anchor(n.startRetracements[t]).absolutePosition,r=this.anchor(n.endRetracements[t]).absolutePosition,h=[["M",Math.round(e.x),Math.round(e.y)],["L",Math.round(r.x),Math.round(r.y)]];if(o){var l=this.anchor(n.endRetracements[t-1]).absolutePosition,c=this.anchor(n.startRetracements[t-1]).absolutePosition;h.push(["L",Math.round(l.x),Math.round(l.y)],["L",Math.round(c.x),Math.round(c.y)])}return h}}var d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.linkPoints=function(){t.prototype.linkPoints.call(this),this.linkRetracementsPoints()},n.prototype.linkRetracementsPoints=function(){var t=this,o=this.points,e=o[0].y-o[3].y,r=o[1].y-o[2].y,h=o[0].x,l=o[1].x;n.levels.forEach((function(n,i){var c=o[0].y-e*n,d=o[1].y-r*n;t.startRetracements=t.startRetracements||[],t.endRetracements=t.endRetracements||[],t.linkRetracementPoint(i,h,c,t.startRetracements),t.linkRetracementPoint(i,l,d,t.endRetracements)}))},n.prototype.linkRetracementPoint=function(t,n,e,r){var h=r[t],l=this.options.typeOptions;h?(h.options.x=n,h.options.y=e,h.refresh()):r[t]=new o(this.chart,this,{x:n,y:e,xAxis:l.xAxis,yAxis:l.yAxis})},n.prototype.addShapes=function(){n.levels.forEach((function(t,i){var o=this.options.typeOptions,n=o.backgroundColors,e=o.lineColor,r=o.lineColors;this.initShape({type:"path",d:c(i),stroke:r[i]||e},i),i>0&&this.initShape({type:"path",fill:n[i-1],strokeWidth:0,d:c(i,!0)})}),this)},n.prototype.addLabels=function(){n.levels.forEach((function(t,i){var n=this.options.typeOptions,label=this.initLabel(l(n.labels[i],{point:function(t){return o.pointToOptions(t.annotation.startRetracements[i])},text:t.toString()}));n.labels[i]=label.options}),this)},n.levels=[0,.236,.382,.5,.618,.786,1],n}(n);return d.prototype.defaultOptions=l(n.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),t.types.fibonacci=d,d})),n(o,"Extensions/Annotations/Types/FibonacciTimeZones.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/ControlPoint.js"],o["Extensions/Annotations/Types/CrookedLine.js"],o["Extensions/Annotations/Types/InfinityLine.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n,e,r,h){var l,c=this&&this.__extends||(l=function(t,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},l(t,b)},function(t,b){function o(){this.constructor=t}l(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),d=h.merge;function f(t,o,n){return function(h){var l=h.annotation.chart,c=l.inverted?l.plotTop:l.plotLeft,d=h.annotation.points,f=d[0].series.xAxis,y=d.length>1?d[1].plotX-d[0].plotX:0,x=f.toValue(d[0].plotX+c+n*y);return d=[new r(l,d[0].target,{x:x,y:0,xAxis:d[0].options.xAxis,yAxis:d[0].options.yAxis}),new r(l,d[0].target,{x:x,y:1,xAxis:d[0].options.xAxis,yAxis:d[0].options.yAxis})],e.findEdgePoint(d[t],d[o])}}var y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.addShapes=function(){for(var t=1,o=1,i=0;i<11;i++){var n=i?t:0,e=[f(1,0,n),f(0,1,n)];t=(o=t+o)-t,1===i&&(this.secondLineEdgePoints=[e[0],e[1]]),this.initShape(d(this.options.typeOptions.line,{type:"path",points:e}),i)}},n.prototype.addControlPoints=function(){var t=this.options,n=t.typeOptions,e=new o(this.chart,this,d(t.controlPointOptions,n.controlPointOptions),0);this.controlPoints.push(e),n.controlPointOptions=e.options},n}(n);return y.prototype.defaultOptions=d(n.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){var t,o=this.target,n=this.graphic,e=o.secondLineEdgePoints,r={annotation:o},h=e[0](r).y,l=e[1](r).y,c=this.chart.plotLeft,d=this.chart.plotTop,f=e[0](r).x,y=(h+l)/2;return this.chart.inverted&&(f=(t=[y,f])[0],y=t[1]),{x:c+f-n.width/2,y:d+y-n.height/2}},events:{drag:function(t,o){if(o.chart.isInsidePlot(t.chartX-o.chart.plotLeft,t.chartY-o.chart.plotTop,{visiblePlotOnly:!0})){var n=this.mouseMoveToTranslation(t);o.translatePoint(n.x,0,1),o.redraw(!1)}}}}}}),t.types.fibonacciTimeZones=y,y})),n(o,"Extensions/Annotations/Types/Pitchfork.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/Types/InfinityLine.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n,e){var r,h=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function o(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),l=e.merge,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.outerLineEdgePoint=function(t){return function(o){var r=o.annotation,h=r.points;return e.findEdgePoint(h[t],h[0],new n(r.chart,o,r.midPointOptions()))}},e.findEdgePoint=function(t,o,n){var e=Math.atan2(n.plotY-o.plotY,n.plotX-o.plotX),r=1e7;return{x:t.plotX+r*Math.cos(e),y:t.plotY+r*Math.sin(e)}},e.middleLineEdgePoint=function(t){var e=t.annotation,r=e.points;return o.findEdgePoint(r[0],new n(e.chart,t,e.midPointOptions()))},e.prototype.midPointOptions=function(){var t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}},e.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},e.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],e.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],e.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],e.bottomLineEdgePoint]},2)},e.prototype.addBackgrounds=function(){var t=this.shapes,o=this.options.typeOptions,n=this.initShape(l(o.innerBackground,{type:"path",points:[function(t){var o=t.annotation,n=o.points,e=o.midPointOptions();return{x:(n[1].x+e.x)/2,y:(n[1].y+e.y)/2,xAxis:e.xAxis,yAxis:e.yAxis}},t[1].points[1],t[2].points[1],function(t){var o=t.annotation,n=o.points,e=o.midPointOptions();return{x:(e.x+n[2].x)/2,y:(e.y+n[2].y)/2,xAxis:e.xAxis,yAxis:e.yAxis}}]}),3),e=this.initShape(l(o.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]]}),4);o.innerBackground=n.options,o.outerBackground=e.options},e.topLineEdgePoint=e.outerLineEdgePoint(1),e.bottomLineEdgePoint=e.outerLineEdgePoint(0),e}(o);return c.prototype.defaultOptions=l(o.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),t.types.pitchfork=c,c})),n(o,"Extensions/Annotations/Types/VerticalLine.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/MockPoint.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.merge,l=n.pick,c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.connectorFirstPoint=function(t){var n=t.annotation,e=n.chart,r=e.inverted,h=n.points[0],c=l(h.series.yAxis&&h.series.yAxis.left,0),d=l(h.series.yAxis&&h.series.yAxis.top,0),f=n.options.typeOptions.label.offset,y=o.pointToPixels(h,!0)[r?"x":"y"];return{x:h.x,xAxis:h.series.xAxis,y:y+f+(r?c-e.plotLeft:d-e.plotTop)}},n.connectorSecondPoint=function(t){var n=t.annotation,e=n.chart,r=e.inverted,h=n.options.typeOptions,c=n.points[0],d=l(c.series.yAxis&&c.series.yAxis.left,0),f=l(c.series.yAxis&&c.series.yAxis.top,0),y=o.pointToPixels(c,!0)[r?"x":"y"],x=h.yOffset;return h.label.offset<0&&(x*=-1),{x:c.x,xAxis:c.series.xAxis,y:y+x+(r?d-e.plotLeft:f-e.plotTop)}},n.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},n.prototype.addShapes=function(){var t=this.options.typeOptions,o=this.initShape(h(t.connector,{type:"path",points:[n.connectorFirstPoint,n.connectorSecondPoint]}),0);t.connector=o.options},n.prototype.addLabels=function(){var t=this.options.typeOptions,o=t.label,n=0,e=o.offset,r=o.offset<0?"bottom":"top",l="center";this.chart.inverted&&(n=o.offset,e=0,r="middle",l=o.offset<0?"right":"left");var label=this.initLabel(h(o,{verticalAlign:r,align:l,x:n,y:e}));t.label=label.options},n}(t);return c.prototype.defaultOptions=h(t.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),t.types.verticalLine=c,c})),n(o,"Extensions/Annotations/Types/Measure.js",[o["Extensions/Annotations/Annotation.js"],o["Extensions/Annotations/ControlPoint.js"],o["Core/Utilities.js"]],(function(t,o,n){var e,r=this&&this.__extends||(e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},e(t,b)},function(t,b){function o(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(o.prototype=b.prototype,new o)}),h=n.defined,l=n.extend,c=n.isNumber,d=n.merge,f=n.pick;function y(){var t="";return""!==this.max&&""!==this.min&&(t=(this.max+this.min)/2),t}function x(){var t=this.chart.series,o=A(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),n=0,e=!1;return t.forEach((function(t){t.visible&&"highcharts-navigator-series"!==t.options.id&&t.points.forEach((function(t){!t.isNull&&t.x>o.xAxisMin&&t.x<=o.xAxisMax&&t.y>o.yAxisMin&&t.y<=o.yAxisMax&&(n++,e=!0)}))})),e||(n=""),n}function v(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function A(t,o,n,e){return{xAxisMin:Math.min(o,t),xAxisMax:Math.max(o,t),yAxisMin:Math.min(e,n),yAxisMax:Math.max(e,n)}}function m(t,o,n){return t.toValue(t.toPixels(o)+n)}function P(){var t=this.options.typeOptions,o=this.chart,n=o.inverted,e=o.xAxis[t.xAxis],r=o.yAxis[t.yAxis],h=t.background,l=n?h.height:h.width,d=n?h.width:h.height,f=t.selectType,y=n?e.left:r.top,x=n?r.top:e.left;this.startXMin=t.point.x,this.startYMin=t.point.y,c(l)?this.startXMax=this.startXMin+l:this.startXMax=m(e,this.startXMin,parseFloat(l)),c(d)?this.startYMax=this.startYMin-d:this.startYMax=m(r,this.startYMin,parseFloat(d)),"x"===f?(this.startYMin=r.toValue(y),this.startYMax=r.toValue(y+r.len)):"y"===f&&(this.startXMin=e.toValue(x),this.startXMax=e.toValue(x+e.len))}function O(){var t=this.chart.series,o=A(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),n=-1/0,e=!1;return t.forEach((function(t){t.visible&&"highcharts-navigator-series"!==t.options.id&&t.points.forEach((function(t){!t.isNull&&t.y>n&&t.x>o.xAxisMin&&t.x<=o.xAxisMax&&t.y>o.yAxisMin&&t.y<=o.yAxisMax&&(n=t.y,e=!0)}))})),e||(n=""),n}function C(){var t=this.chart.series,o=A(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),n=1/0,e=!1;return t.forEach((function(t){t.visible&&"highcharts-navigator-series"!==t.options.id&&t.points.forEach((function(t){!t.isNull&&t.y<n&&t.x>o.xAxisMin&&t.x<=o.xAxisMax&&t.y>o.yAxisMin&&t.y<=o.yAxisMax&&(n=t.y,e=!0)}))})),e||(n=""),n}function E(t){var o=this.options.typeOptions,n=this.chart.xAxis[o.xAxis],e=this.chart.yAxis[o.yAxis],r=this.offsetX,h=this.offsetY;this.xAxisMin=m(n,this.startXMin,r),this.xAxisMax=m(n,this.startXMax,r),this.yAxisMin=m(e,this.startYMin,h),this.yAxisMax=m(e,this.startYMax,h),this.min=C.call(this),this.max=O.call(this),this.average=y.call(this),this.bins=x.call(this),t&&this.resize(0,0)}function w(t,o,n,e,r){var h=this.options.typeOptions,l=h.selectType,c=this.chart.xAxis[h.xAxis],d=this.chart.yAxis[h.yAxis],f=this.startXMin,y=this.startXMax,x=this.startYMin,v=this.startYMax,A=this.offsetX,P=this.offsetY;o&&("x"===l?0===n?this.startXMin=m(c,f,e):this.startXMax=m(c,y,e):"y"===l?0===n?this.startYMin=m(d,x,r):this.startYMax=m(d,v,r):(this.startXMax=m(c,y,e),this.startYMax=m(d,v,r))),t&&(this.startXMin=m(c,f,A),this.startXMax=m(c,y,A),this.startYMin=m(d,x,P),this.startYMax=m(d,v,P),this.offsetX=0,this.offsetY=0)}var M=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return r(e,n),e.prototype.init=function(o,n,e){t.prototype.init.call(this,o,n,e),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,P.call(this),this.addValues(),this.addShapes()},e.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},e.prototype.pointsOptions=function(){return this.options.points},e.prototype.shapePointsOptions=function(){var t=this.options.typeOptions,o=t.xAxis,n=t.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:o,yAxis:n},{x:this.xAxisMax,y:this.yAxisMin,xAxis:o,yAxis:n},{x:this.xAxisMax,y:this.yAxisMax,xAxis:o,yAxis:n},{x:this.xAxisMin,y:this.yAxisMax,xAxis:o,yAxis:n}]},e.prototype.addControlPoints=function(){var t=this.chart.inverted,n=this.options.controlPointOptions,e=this.options.typeOptions.selectType;h(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||("x"===e?n.style.cursor=t?"ns-resize":"ew-resize":"y"===e&&(n.style.cursor=t?"ew-resize":"ns-resize"));var r=new o(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(r),"xy"!==e&&(r=new o(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(r))},e.prototype.addValues=function(t){var o=this.options.typeOptions,n=o.label.formatter;E.call(this,t),o.label.enabled&&(this.labels.length>0?this.labels[0].text=n&&n.call(this)||v.call(this):this.initLabel(l({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(t){var n=t.annotation,e=t.options;return{x:n.xAxisMin,y:n.yAxisMin,xAxis:f(o.xAxis,e.xAxis),yAxis:f(o.yAxis,e.yAxis)}},text:n&&n.call(this)||v.call(this)},o.label),void 0))},e.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},e.prototype.addBackground=function(){void 0!==this.shapePointsOptions()[0].x&&this.initShape(l({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)},e.prototype.addCrosshairs=function(){var t,o,n,e=this.chart,r=this.options.typeOptions,h=this.options.typeOptions.point,c=e.xAxis[r.xAxis],f=e.yAxis[r.yAxis],y=e.inverted,x={point:h,type:"path"},v=c.toPixels(this.xAxisMin),A=c.toPixels(this.xAxisMax),m=f.toPixels(this.yAxisMin),P=f.toPixels(this.yAxisMax),O=[],C=[];y&&(n=v,v=m,m=n,n=A,A=P,P=n),r.crosshairX.enabled&&(O=[["M",v,m+(P-m)/2],["L",A,m+(P-m)/2]]),r.crosshairY.enabled&&(C=[["M",v+(A-v)/2,m],["L",v+(A-v)/2,P]]),this.shapes.length>0?(this.shapes[0].options.d=O,this.shapes[1].options.d=C):(t=d(x,r.crosshairX),o=d(x,r.crosshairY),this.initShape(l({d:O},t),0),this.initShape(l({d:C},o),1))},e.prototype.onDrag=function(t){var o=this.mouseMoveToTranslation(t),n=this.options.typeOptions.selectType,e="y"===n?0:o.x,r="x"===n?0:o.y;this.translate(e,r),this.offsetX+=e,this.offsetY+=r,this.redraw(!1,!1,!0)},e.prototype.resize=function(t,o,n,e){var r=this.shapes[2];"x"===e?0===n?(r.translatePoint(t,0,0),r.translatePoint(t,o,3)):(r.translatePoint(t,0,1),r.translatePoint(t,o,2)):"y"===e?0===n?(r.translatePoint(0,o,0),r.translatePoint(0,o,1)):(r.translatePoint(0,o,2),r.translatePoint(0,o,3)):(r.translatePoint(t,0,1),r.translatePoint(t,o,2),r.translatePoint(0,o,3)),w.call(this,!1,!0,n,t,o),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},e.prototype.redraw=function(t,o,n){this.linkPoints(),this.graphic||this.render(),n&&w.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(o),this.addCrosshairs(),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.controlPoints.forEach((function(t){return t.redraw()}))},e.prototype.translate=function(t,o){this.shapes.forEach((function(n){return n.translate(t,o)})),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},e}(t);return M.prototype.defaultOptions=d(t.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(t){var o,n,e=this.index,r=t.chart,h=t.options,l=h.typeOptions,c=l.selectType,d=h.controlPointOptions,f=r.inverted,y=r.xAxis[l.xAxis],x=r.yAxis[l.yAxis],v=A(t.xAxisMin,t.xAxisMax,t.yAxisMin,t.yAxisMax),m=t.xAxisMax,P=t.yAxisMax;return"x"===c&&(P=(v.yAxisMax-v.yAxisMin)/2,0===e&&(m=t.xAxisMin)),"y"===c&&(m=v.xAxisMin+(v.xAxisMax-v.xAxisMin)/2,0===e&&(P=t.yAxisMin)),f?(o=x.toPixels(P),n=y.toPixels(m)):(o=y.toPixels(m),n=x.toPixels(P)),{x:o-d.width/2,y:n-d.height/2}},events:{drag:function(t,o){var n=this.mouseMoveToTranslation(t),e=o.options.typeOptions.selectType,r=this.index,h="y"===e?0:n.x,l="x"===e?0:n.y;o.resize(h,l,r,e),o.resizeX+=h,o.resizeY+=l,o.redraw(!1,!0)}}}}),t.types.measure=M,M})),n(o,"masters/modules/annotations-advanced.src.js",[o["Core/Globals.js"],o["Extensions/Annotations/Annotation.js"]],(function(t,o){var n=t;n.Annotation=o,o.compose(n.Chart,n.Pointer,n.SVGRenderer)}))},t.exports?(h.default=h,t.exports=h):(e=[n(222)],void 0===(r=function(t){return h(t),h.Highcharts=t,h}.apply(o,e))||(t.exports=r))}}]);