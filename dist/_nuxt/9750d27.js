(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{476:function(t,e,o){var r,n,l;l=function(t){function e(t,e,q,g){t.hasOwnProperty(e)||(t[e]=g.apply(null,q),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){var o,q=t.parse,g=e.addEvent,r=e.extend,n=e.merge,l=e.pick,h=e.splat;return function(t){function e(){var b=this,t=this.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=h(t.colorAxis),t.colorAxis.forEach((function(t,a){t.index=a,new v(b,t)})))}function b(t){var e,o,b=this,a=function(a){-1!==(a=t.allItems.indexOf(a))&&(b.destroyItem(t.allItems[a]),t.allItems.splice(a,1))},r=[];for((this.chart.colorAxis||[]).forEach((function(t){(e=t.options)&&e.showInLegend&&(e.dataClasses&&e.visible?r=r.concat(t.getDataClassLegendSymbols()):e.visible&&r.push(t),t.series.forEach((function(t){t.options.showInLegend&&!e.dataClasses||("point"===t.options.legendType?t.points.forEach((function(t){a(t)})):a(t))})))})),o=r.length;o--;)t.allItems.unshift(r[o])}function a(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}function o(){var t=this.chart.colorAxis;t&&t.forEach((function(t,a,b){t.update({},b)}))}function u(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function p(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function c(t){var a=this,b=t?"show":"hide";a.visible=a.options.visible=!!t,["graphic","dataLabel"].forEach((function(t){a[t]&&a[t][b]()})),this.series.buildKDTree()}function d(){var t=this,a=this.options.nullColor,b=this.colorAxis,e=this.colorKey;(this.data.length?this.data:this.points).forEach((function(o){var r=o.getNestedProperty(e);(r=o.options.color||(o.isNull||null===o.value?a:b&&void 0!==r?b.toColor(r,o):o.color||t.color))&&o.color!==r&&(o.color=r,"point"===t.options.legendType&&o.legendItem&&t.chart.legend.colorizeItem(o,o.visible))}))}function f(t){var a=t.prototype.createAxis;t.prototype.createAxis=function(t,b){if("colorAxis"!==t)return a.apply(this,arguments);var e=new v(this,n(b.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0})),l(b.redraw,!0)&&this.redraw(b.animation),e}}function y(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function m(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var v,x=[];t.compose=function(t,n,l,h,M){v||(v=t),-1===x.indexOf(n)&&(x.push(n),(t=n.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],g(n,"afterGetAxes",e),f(n)),-1===x.indexOf(l)&&(x.push(l),(n=l.prototype).fillSetter=y,n.strokeSetter=m),-1===x.indexOf(h)&&(x.push(h),g(h,"afterGetAllItems",b),g(h,"afterColorizeItem",a),g(h,"afterUpdate",o)),-1===x.indexOf(M)&&(x.push(M),r(M.prototype,{optionalAxis:"colorAxis",translateColors:d}),r(M.prototype.pointClass.prototype,{setVisible:c}),g(M,"afterTranslate",u),g(M,"bindAxes",p))},t.pointSetVisible=c}(o||(o={})),o})),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],(function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}})),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Color/Color.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,g,o,r,n,l){var h=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),c=e.parse,d=o.noop,b=n.series,a=l.extend,f=l.isNumber,u=l.merge,p=l.pick;return e=function(t){function e(b,a){var e=t.call(this,b,a)||this;return e.beforePadding=!1,e.chart=void 0,e.coll="colorAxis",e.dataClasses=void 0,e.legendItem=void 0,e.legendItems=void 0,e.name="",e.options=void 0,e.stops=void 0,e.visible=!0,e.init(b,a),e}return h(e,t),e.compose=function(b,a,t,o){q.compose(e,b,a,t,o)},e.prototype.init=function(b,a){var o=b.options.legend||{},r=a.layout?"vertical"!==a.layout:"vertical"!==o.layout,n=a.visible;o=u(e.defaultColorAxisOptions,a,{showEmpty:!1,title:null,visible:o.enabled&&!1!==n}),this.coll="colorAxis",this.side=a.side||r?2:1,this.reversed=a.reversed||!r,this.opposite=!r,t.prototype.init.call(this,b,o),this.userOptions.visible=n,a.dataClasses&&this.initDataClasses(a),this.initStops(),this.horiz=r,this.zoomEnabled=!1},e.prototype.initDataClasses=function(a){var t,b=this.chart,e=this.options,o=a.dataClasses.length,r=0,p=b.options.chart.colorCount;this.dataClasses=t=[],this.legendItems=[],(a.dataClasses||[]).forEach((function(a,n){a=u(a),t.push(a),!b.styledMode&&a.color||("category"===e.dataClassColor?(b.styledMode||(n=b.options.colors,p=n.length,a.color=n[r]),a.colorIndex=r,++r===p&&(r=0)):a.color=c(e.minColor).tweenTo(c(e.maxColor),2>o?.5:n/(o-1)))}))},e.prototype.hasData=function(){return!!(this.tickPositions||[]).length},e.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},e.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach((function(a){a.color=c(a[1])}))},e.prototype.setOptions=function(a){t.prototype.setOptions.call(this,a),this.options.crosshair=this.options.marker},e.prototype.setAxisSize=function(){var t,o,a=this.legendSymbol,b=this.chart,r=b.options.legend||{};a?(this.left=r=a.attr("x"),this.top=t=a.attr("y"),this.width=o=a.attr("width"),this.height=a=a.attr("height"),this.right=b.chartWidth-r-o,this.bottom=b.chartHeight-t-a,this.len=this.horiz?o:a,this.pos=this.horiz?r:t):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||e.defaultLegendLength},e.prototype.normalizedValue=function(a){return this.logarithmic&&(a=this.logarithmic.log2lin(a)),1-(this.max-a)/(this.max-this.min||1)},e.prototype.toColor=function(a,b){var t,e=this.dataClasses,o=this.stops;if(e)for(t=e.length;t--;){var r=e[t],p=r.from;if(o=r.to,(void 0===p||a>=p)&&(void 0===o||a<=o)){var u=r.color;b&&(b.dataClass=t,b.colorIndex=r.colorIndex);break}}else{for(a=this.normalizedValue(a),t=o.length;t--&&!(a>o[t][0]););p=o[t]||o[t+1],a=1-((o=o[t+1]||p)[0]-a)/(o[0]-p[0]||1),u=p.color.tweenTo(o.color,a)}return u},e.prototype.getOffset=function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];if(a){this.axisParent=a,t.prototype.getOffset.call(this);var o=this.chart.legend;o.allItems.forEach((function(a){a instanceof e&&a.drawLegendSymbol(o,a)})),o.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=b}},e.prototype.setLegendColor=function(){var a=this.reversed,b=a?1:0;a=a?0:1,b=this.horiz?[b,0,a,0]:[0,a,0,b],this.legendColor={linearGradient:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]},stops:this.stops}},e.prototype.drawLegendSymbol=function(a,b){var t=a.padding,o=a.options,r=this.horiz,u=p(o.symbolWidth,r?e.defaultLegendLength:12),n=p(o.symbolHeight,r?12:e.defaultLegendLength),l=p(o.labelPadding,r?16:30);o=p(o.itemDistance,10),this.setLegendColor(),b.legendSymbol||(b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,u,n).attr({zIndex:1}).add(b.legendGroup)),this.legendItemWidth=u+t+(r?o:this.options.labels.x+this.maxLabelLength),this.legendItemHeight=n+t+(r?l:0)},e.prototype.setState=function(a){this.series.forEach((function(b){b.setState(a)}))},e.prototype.setVisible=function(){},e.prototype.getSeriesExtremes=function(){var t,a=this.series,e=a.length;for(this.dataMin=1/0,this.dataMax=-1/0;e--;){var o=a[e],u=o.colorKey=p(o.options.colorKey,o.colorKey,o.pointValKey,o.zoneAxis,"y"),r=o.pointArrayMap,n=o[u+"Min"]&&o[u+"Max"];if(o[u+"Data"])var l=o[u+"Data"];else if(r){l=[],r=r.indexOf(u);var h=o.yData;if(0<=r&&h)for(t=0;t<h.length;t++)l.push(p(h[t][r],h[t]))}else l=o.yData;n?(o.minColorValue=o[u+"Min"],o.maxColorValue=o[u+"Max"]):(l=b.prototype.getExtremes.call(o,l),o.minColorValue=l.dataMin,o.maxColorValue=l.dataMax),void 0!==o.minColorValue&&(this.dataMin=Math.min(this.dataMin,o.minColorValue),this.dataMax=Math.max(this.dataMax,o.maxColorValue)),n||b.prototype.applyExtremes.call(o)}},e.prototype.drawCrosshair=function(a,b){var e=b&&b.plotX,o=b&&b.plotY,u=this.pos,p=this.len;if(b){var r=this.toPixels(b.getNestedProperty(b.series.colorKey));r<u?r=u-2:r>u+p&&(r=u+p+2),b.plotX=r,b.plotY=this.len-r,t.prototype.drawCrosshair.call(this,a,b),b.plotX=e,b.plotY=o,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},e.prototype.getPlotLinePath=function(a){var b=this.left,e=a.translatedValue,o=this.top;return f(e)?this.horiz?[["M",e-4,o-6],["L",e+4,o-6],["L",e,o],["Z"]]:[["M",b,e],["L",b-6,e+6],["L",b-6,e-6],["Z"]]:t.prototype.getPlotLinePath.call(this,a)},e.prototype.update=function(a,b){var e=this.chart.legend;this.series.forEach((function(a){a.isDirtyData=!0})),(a.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems(),t.prototype.update.call(this,a,b),this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))},e.prototype.destroyItems=function(){var a=this.chart;this.legendItem?a.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach((function(b){a.legend.destroyItem(b)})),a.isDirtyLegend=!0},e.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),t.prototype.destroy.apply(this,[].slice.call(arguments))},e.prototype.remove=function(a){this.destroyItems(),t.prototype.remove.call(this,a)},e.prototype.getDataClassLegendSymbols=function(){var t,b=this,e=b.chart,o=b.legendItems,n=e.options.legend,u=n.valueDecimals,p=n.valueSuffix||"";return o.length||b.dataClasses.forEach((function(n,l){var h=n.from,c=n.to,f=e.numberFormatter,y=!0;t="",void 0===h?t="< ":void 0===c&&(t="> "),void 0!==h&&(t+=f(h,u)+p),void 0!==h&&void 0!==c&&(t+=" - "),void 0!==c&&(t+=f(c,u)+p),o.push(a({chart:e,name:t,options:{},drawLegendSymbol:r.drawRectangle,visible:!0,setState:d,isDataClass:!0,setVisible:function(){this.visible=y=b.visible=!y,b.series.forEach((function(a){a.points.forEach((function(a){a.dataClass===l&&a.setVisible(y)}))})),e.legend.colorizeItem(this,y)}},n))})),o},e.defaultColorAxisOptions=g,e.defaultLegendLength=200,e.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],e}(t),Array.prototype.push.apply(t.keepProps,e.keepProps),e})),e(t,"Maps/MapNavigationOptionsDefault.js",[t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],(function(t,e){return(e=e.extend)(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}})),e(t,"Maps/MapNavigation.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,q){function g(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function o(a){this.navButtons=[],this.init(a)}var r=e.doc,n=q.addEvent,l=q.extend,h=q.isNumber,c=q.merge,d=q.objectEach,b=q.pick;o.prototype.init=function(a){this.chart=a},o.prototype.update=function(a){var t,e=this,u=this.chart,p=u.options.mapNavigation,o=function(a){this.handler.call(u,a),g(a)},r=e.navButtons;for(a&&(p=u.options.mapNavigation=c(u.options.mapNavigation,a));r.length;)r.pop().destroy();b(p.enableButtons,p.enabled)&&!u.renderer.forExport&&(e.navButtonsGroup||(e.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),d(p.buttons,(function(a,b){a=c(p.buttonOptions,a),!u.styledMode&&a.theme&&((t=a.theme).style=c(a.theme.style,a.style));var h=u.renderer.button(a.text||"",0,0,o,t,void 0,void 0,void 0,"zoomIn"===b?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[b]).attr({width:a.width,height:a.height,title:u.options.lang[b],padding:a.padding,zIndex:5}).add(e.navButtonsGroup);if(h.handler=a.onclick,n(h.element,"dblclick",g),r.push(h),l(a,{width:h.width,height:2*h.height}),u.hasLoaded)h.align(a,!1,a.alignTo);else var d=n(u,"load",(function(){h.element&&h.align(a,!1,a.alignTo),d()}))})),a=function(){var a=u.exportingGroup&&u.exportingGroup.getBBox();if(a){var b=e.navButtonsGroup.getBBox();if(!(b.x>=a.x+a.width||b.x+b.width<=a.x||b.y>=a.y+a.height||b.y+b.height<=a.y)){var t=-b.y-b.height+a.y-5;a=a.y+a.height-b.y+5,e.navButtonsGroup.attr({translateY:"bottom"===(p.buttonOptions&&p.buttonOptions.verticalAlign)?t:a})}}},u.hasLoaded||n(u,"render",a)),this.updateEvents(p)},o.prototype.updateEvents=function(a){var t=this.chart;b(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||n(t.container,"dblclick",(function(a){t.pointer.onContainerDblClick(a)})):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),b(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||n(t.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",(function(a){return t.pointer.inClass(a.target,"highcharts-no-mousewheel")||(t.pointer.onContainerMouseWheel(a),g(a)),!1})):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},l(t.prototype,{fitToBox:function(a,b){return[["x","width"],["y","height"]].forEach((function(t){var p=t[0];t=t[1],a[p]+a[t]>b[p]+b[t]&&(a[t]>b[t]?(a[t]=b[t],a[p]=b[p]):a[p]=b[p]+b[t]-a[t]),a[t]>b[t]&&(a[t]=b[t]),a[p]<b[p]&&(a[p]=b[p])})),a},mapZoom:function(a,b,t,p,e){this.mapView&&(h(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,h(b)&&h(t)?this.mapView.projection.inverse([b,t]):void 0,h(p)&&h(e)?[p,e]:void 0))}}),n(t,"beforeRender",(function(){this.mapNavigation=new o(this),this.mapNavigation.update()})),e.MapNavigation=o})),e(t,"Maps/MapPointer.js",[t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,e){var q=e.defined,g=e.extend,o=e.pick;e=e.wrap;var r,n=t.prototype.normalize,l=0;g(t.prototype,{normalize:function(t,e){var o=this.chart;return t=n.call(this,t,e),o&&o.mapView&&(e=o.mapView.pixelsToLonLat({x:t.chartX-o.plotLeft,y:t.chartY-o.plotTop}))&&g(t,e),t},onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart;t=this.normalize(t);var o=q(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(o)&&(l+=Math.abs(o),r&&clearTimeout(r),r=setTimeout((function(){l=0}),50)),10>l&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-o,void 0,[t.chartX,t.chartY],!(1>Math.abs(o))&&void 0)}}),e(t.prototype,"zoomOption",(function(t){var e=this.chart.options.mapNavigation;o(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))})),e(t.prototype,"pinchTranslate",(function(t,e,o,b,a,r,u){t.call(this,e,o,b,a,r,u),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=b.scaleX>b.scaleY,this.pinchTranslateDirection(!t,e,o,b,a,r,u,t?b.scaleX:b.scaleY))}))})),e(t,"Series/ColorMapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){var o,q=t.seriesTypes.column.prototype,g=e.addEvent,r=e.defined;return function(t){function e(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}var o=[];t.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){var e={};return!r(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e},pointAttribs:q.pointAttribs},t.compose=function(t){var r=t.prototype.pointClass;return-1===o.indexOf(r)&&(o.push(r),g(r,"afterSetState",e)),t}}(o||(o={})),o})),e(t,"Maps/MapSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],(function(t){function e(t,g,e,o,r,n,l,h){return[["M",t+r,g],["L",t+e-n,g],["C",t+e-n/2,g,t+e,g+n/2,t+e,g+n],["L",t+e,g+o-l],["C",t+e,g+o-l/2,t+e-l/2,g+o,t+e-l,g+o],["L",t+h,g+o],["C",t+h/2,g+o,t,g+o-h/2,t,g+o-h],["L",t,g+r],["C",t,g+r/2,t+r/2,g,t+r,g],["Z"]]}return(t=t.prototype.symbols).bottombutton=function(t,g,o,r,n){return e(t-1,g-1,o,r,0,0,n=n&&n.r||0,n)},t.topbutton=function(t,g,o,r,n){return e(t-1,g-1,o,r,n=n&&n.r||0,n,0,0)},t})),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/DefaultOptions.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,g){var o=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var t in a)a.hasOwnProperty(t)&&(b[t]=a[t])})(e,o)};return function(e,o){function b(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(b.prototype=o.prototype,new b)}}(),r=e.getOptions,n=g.merge,l=g.pick;return t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e,b){var a=r().credits;e=n({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:l(a.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:l(a.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},e),t.prototype.init.call(this,e,b)},e}(t),function(t){t.maps={},t.mapChart=function(e,o,b){return new t(e,o,b)},t.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map((function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)}))),q.prototype.pathToSegments(t)}}(t||(t={})),t})),e(t,"Maps/MapUtilities.js",[],(function(){return{boundsFromPath:function(t){var e,o=-Number.MAX_VALUE,q=Number.MAX_VALUE,g=-Number.MAX_VALUE,r=Number.MAX_VALUE;if(t.forEach((function(t){var n=t[t.length-2];t=t[t.length-1],"number"==typeof n&&"number"==typeof t&&(q=Math.min(q,n),o=Math.max(o,n),r=Math.min(r,t),g=Math.max(g,t),e=!0)})),e)return{x1:q,y1:r,x2:o,y2:g}},pointInPolygon:function(t,e){var q,g=!1,o=t.x,r=t.y;for(t=0,q=e.length-1;t<e.length;q=t++)e[t][1]>r!=e[q][1]>r&&o<(e[q][0]-e[t][0])*(r-e[t][1])/(e[q][1]-e[t][1])+e[t][0]&&(g=!g);return g}}})),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapComposition.js"],t["Maps/MapUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,g){var o=this&&this.__extends||function(){var t=function(e,b){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(e,b)};return function(e,b){function a(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),r=e.boundsFromPath,n=g.extend,l=g.isNumber,h=g.pick;return e=function(t){function e(){var b=null!==t&&t.apply(this,arguments)||this;return b.options=void 0,b.path=void 0,b.series=void 0,b}return o(e,t),e.getProjectedPath=function(b,a){return b.projectedPath||(a&&b.geometry?(a.hasCoordinates=!0,b.projectedPath=a.path(b.geometry)):b.projectedPath=b.path),b.projectedPath||[]},e.prototype.applyOptions=function(b,a){var e=this.series;return b=t.prototype.applyOptions.call(this,b,a),a=e.joinBy,e.mapData&&e.mapMap&&((e=void 0!==(a=t.prototype.getNestedProperty.call(b,a[1]))&&e.mapMap[a])?n(b,e):b.value=b.value||null),b},e.prototype.getProjectedBounds=function(b){b=e.getProjectedPath(this,b),b=r(b);var a=this.properties;if(b){var t=a&&a["hc-middle-x"];return a=a&&a["hc-middle-y"],b.midX=b.x1+(b.x2-b.x1)*h(this.middleX,l(t)?t:.5),t=h(this.middleY,l(a)?a:.5),this.geometry||(t=1-t),b.midY=b.y2-(b.y2-b.y1)*t,b}},e.prototype.onMouseOver=function(b){g.clearTimeout(this.colorInterval),!this.isNull||this.series.options.nullInteraction?t.prototype.onMouseOver.call(this,b):this.series.onMouseOut(b)},e.prototype.zoomTo=function(){var b=this.series.chart;b.mapView&&this.bounds&&(b.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,b.redraw())},e}(q.seriesTypes.scatter.prototype.pointClass),n(e.prototype,{dataLabelOnNull:t.pointMembers.dataLabelOnNull,moveToTopOnHover:t.pointMembers.moveToTopOnHover,isValid:t.pointMembers.isValid}),e})),e(t,"Maps/MapViewOptionsDefault.js",[],(function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}})),e(t,"Maps/MapViewInsetsOptionsDefault.js",[],(function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}})),e(t,"Extensions/GeoJSON.js",[t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,q,g){function o(b,a){if(a||(a=Object.keys(b.objects)[0]),(a=b.objects[a])["hc-decoded-geojson"])return a["hc-decoded-geojson"];var t=b.arcs;if(b.transform){var e=b.transform,o=e.scale,r=e.translate;t=b.arcs.map((function(a){var b=0,t=0;return a.map((function(a){return(a=a.slice())[0]=(b+=a[0])*o[0]+r[0],a[1]=(t+=a[1])*o[1]+r[1],a}))}))}var n=function(a){return"number"==typeof a[0]?a.reduce((function(a,b,e){var o=0>b?t[~b]:t[b];return 0>b?(o=o.slice(0,0===e?o.length:o.length-1)).reverse():e&&(o=o.slice(1)),a.concat(o)}),[]):a.map(n)};return e=a.geometries.map((function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||n(a.arcs)}}})),b={type:"FeatureCollection",copyright:b.copyright,copyrightShort:b.copyrightShort,copyrightUrl:b.copyrightUrl,features:e,"hc-recommended-mapview":a["hc-recommended-mapview"],bbox:b.bbox,title:b.title},a["hc-decoded-geojson"]=b}function r(b,a,t){void 0===a&&(a="map");var e=[];return(b="Topology"===b.type?o(b):b).features.forEach((function(b){var p,t=b.geometry||{},o=t.type;t=t.coordinates,b=b.properties,("map"!==a&&"mapbubble"!==a||"Polygon"!==o&&"MultiPolygon"!==o)&&("mapline"!==a||"LineString"!==o&&"MultiLineString"!==o)?"mappoint"===a&&"Point"===o&&t.length&&(p={geometry:{coordinates:t,type:o}}):t.length&&(p={geometry:{coordinates:t,type:o}}),p&&(o=b&&(b.name||b.NAME),e.push(c(p,{name:"string"==typeof o?o:void 0,properties:b})))})),t&&b.copyrightShort&&(t.chart.mapCredits=n(t.chart.options.credits.mapText,{geojson:b}),t.chart.mapCreditsFull=n(t.chart.options.credits.mapTextFull,{geojson:b})),e}var n=e.format,l=q.win,h=g.error,c=g.extend,d=g.merge;return e=g.wrap,t.prototype.transformFromLatLon=function(b,a){var t=this.options.chart.proj4||l.proj4;if(t){var e=a.jsonmarginX;e=void 0===e?0:e;var o=a.jsonmarginY;o=void 0===o?0:o;var r=a.jsonres;r=void 0===r?1:r;var n=a.scale;n=void 0===n?1:n;var c=a.xoffset;c=void 0===c?0:c;var g=a.xpan;g=void 0===g?0:g;var d=a.yoffset;d=void 0===d?0:d;var f=a.ypan;f=void 0===f?0:f,b=t(a.crs,[b.lon,b.lat]),t=a.cosAngle||a.rotation&&Math.cos(a.rotation);var y=a.sinAngle||a.rotation&&Math.sin(a.rotation);return{x:(((a=a.rotation?[b[0]*t+b[1]*y,-b[0]*y+b[1]*t]:b)[0]-c)*n+g)*r+e,y:-(((d-a[1])*n+f)*r-o)}}h(21,!1,this)},t.prototype.transformToLatLon=function(b,a){var t=this.options.chart.proj4||l.proj4;if(t){if(null!==b.y){var e=a.jsonmarginX,o=a.jsonmarginY,r=a.jsonres;r=void 0===r?1:r;var g=a.scale;g=void 0===g?1:g;var n=a.xoffset,c=a.xpan,d=a.yoffset,f=a.ypan;return b={x:((b.x-(void 0===e?0:e))/r-(void 0===c?0:c))/g+(void 0===n?0:n),y:((b.y-(void 0===o?0:o))/r+(void 0===f?0:f))/g+(void 0===d?0:d)},e=a.cosAngle||a.rotation&&Math.cos(a.rotation),o=a.sinAngle||a.rotation&&Math.sin(a.rotation),{lat:(a=t(a.crs,"WGS84",a.rotation?{x:b.x*e+b.y*-o,y:b.x*o+b.y*e}:b)).y,lon:a.x}}}else h(21,!1,this)},t.prototype.fromPointToLatLon=function(b){return this.mapView&&this.mapView.projectedUnitsToLonLat(b)},t.prototype.fromLatLonToPoint=function(b){return this.mapView&&this.mapView.lonLatToProjectedUnits(b)},e(t.prototype,"addCredits",(function(b,a){a=d(!0,this.options.credits,a),this.mapCredits&&(a.href=null),b.call(this,a),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})),q.geojson=r,{geojson:r,topo2geo:o}})),e(t,"Core/Geometry/PolygonClip.js",[],(function(){var q,g,t=function(t,e,o){return(e[0]-t[0])*(o[1]-t[1])>(e[1]-t[1])*(o[0]-t[0])},e=function(t,e,o,r){var g=[t[0]-e[0],t[1]-e[1]],n=[o[0]-r[0],o[1]-r[1]];return t=t[0]*e[1]-t[1]*e[0],o=o[0]*r[1]-o[1]*r[0],r=1/(g[0]*n[1]-g[1]*n[0]),(g=[(t*n[0]-o*g[0])*r,(t*n[1]-o*g[1])*r]).isIntersection=!0,g};return(g=q||(q={})).clipLineString=function(t,e){var o=[];for(t=g.clipPolygon(t,e,!1),e=1;e<t.length;e++)t[e].isIntersection&&t[e-1].isIntersection&&(o.push(t.splice(0,e)),e=0),e===t.length-1&&o.push(t);return o},g.clipPolygon=function(g,o,r){void 0===r&&(r=!0);for(var n,l,h=o[o.length-1],c=g,b=0;b<o.length;b++){var a=c;g=o[b],c=[],n=r?a[a.length-1]:a[0];for(var d=0;d<a.length;d++)l=a[d],t(h,g,l)?(t(h,g,n)||c.push(e(h,g,n,l)),c.push(l)):t(h,g,n)&&c.push(e(h,g,n,l)),n=l;h=g}return c},q})),e(t,"Maps/Projections/LambertConformalConic.js",[],(function(){var t=Math.sign||function(t){return 0===t?0:0<t?1:-1},e=Math.PI/180,q=Math.PI/2;return function(){function g(g){var o,r=(g.parallels||[]).map((function(t){return t*e})),n=r[0]||0;r=null!==(o=r[1])&&void 0!==o?o:n,o=Math.cos(n),"object"==typeof g.projectedBounds&&(this.projectedBounds=g.projectedBounds),g=n===r?Math.sin(n):Math.log(o/Math.cos(r))/Math.log(Math.tan((q+r)/2)/Math.tan((q+n)/2)),1e-10>Math.abs(g)&&(g=1e-10*(t(g)||1)),this.n=g,this.c=o*Math.pow(Math.tan((q+n)/2),g)/g}return g.prototype.forward=function(t){var o=t[0]*e,g=this.c,r=this.n,n=this.projectedBounds;t=t[1]*e,0<g?t<1e-6-q&&(t=1e-6-q):t>q-1e-6&&(t=q-1e-6);var l=g/Math.pow(Math.tan((q+t)/2),r);return g=[t=l*Math.sin(r*o)*63.78137,o=63.78137*(g-l*Math.cos(r*o))],n&&(t<n.x1||t>n.x2||o<n.y1||o>n.y2)&&(g.outside=!0),g},g.prototype.inverse=function(g){var o=g[0]/63.78137,r=this.c,n=this.n;g=r-g[1]/63.78137;var l=t(n)*Math.sqrt(o*o+g*g),h=Math.atan2(o,Math.abs(g))*t(g);return 0>g*n&&(h-=Math.PI*t(o)*t(g)),[h/n/e,(2*Math.atan(Math.pow(r/l,1/n))-q)/e]},g}()})),e(t,"Maps/Projections/EqualEarth.js",[],(function(){var t=Math.sqrt(3)/2;return function(){function e(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return e.prototype.forward=function(e){var g=Math.PI/180,o=Math.asin(t*Math.sin(e[1]*g)),r=o*o,n=r*r*r;return[e[0]*g*Math.cos(o)*74.03120656864502/(t*(1.340264+3*-.081106*r+n*(7*893e-6+.034164*r))),74.03120656864502*o*(1.340264+-.081106*r+n*(893e-6+.003796*r))]},e.prototype.inverse=function(e){var g=e[0]/74.03120656864502;e=e[1]/74.03120656864502;var o,r=180/Math.PI,n=e;for(o=0;12>o;++o){var q=n*n,l=q*q*q,h=n*(1.340264+-.081106*q+l*(893e-6+.003796*q))-e;if(n-=h/=q=1.340264+3*-.081106*q+l*(7*893e-6+.034164*q),1e-9>Math.abs(h))break}return[r*t*g*(1.340264+3*-.081106*(q=n*n)+q*q*q*(7*893e-6+.034164*q))/Math.cos(n),r*Math.asin(Math.sin(n)/t)]},e}()})),e(t,"Maps/Projections/Miller.js",[],(function(){var t=Math.PI/4,e=Math.PI/180;return function(){function q(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return q.prototype.forward=function(g){return[g[0]*e*63.78137,79.7267125*Math.log(Math.tan(t+.4*g[1]*e))]},q.prototype.inverse=function(g){return[g[0]/63.78137/e,2.5*(Math.atan(Math.exp(g[1]/63.78137*.8))-t)/e]},q}()})),e(t,"Maps/Projections/Orthographic.js",[],(function(){var t=Math.PI/180;return function(){function e(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return e.prototype.forward=function(e){var g=e[0];return e=e[1]*t,e=[Math.cos(e)*Math.sin(g*t)*63.78460826781007,63.78460826781007*Math.sin(e)],(-90>g||90<g)&&(e.outside=!0),e},e.prototype.inverse=function(e){var g=e[0]/63.78460826781007;e=e[1]/63.78460826781007;var o=Math.sqrt(g*g+e*e),r=Math.asin(o),n=Math.sin(r);return[Math.atan2(g*n,o*Math.cos(r))/t,Math.asin(o&&e*n/o)/t]},e}()})),e(t,"Maps/Projections/WebMercator.js",[],(function(){var t=Math.PI/180;return function(){function e(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return e.prototype.forward=function(e){var g=Math.sin(e[1]*t);return g=[63.78137*e[0]*t,63.78137*Math.log((1+g)/(1-g))/2],85.0511287798<Math.abs(e[1])&&(g.outside=!0),g},e.prototype.inverse=function(e){return[e[0]/(63.78137*t),(2*Math.atan(Math.exp(e[1]/63.78137))-Math.PI/2)/t]},e}()})),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],(function(t,e,q,g,o){return{EqualEarth:e,LambertConformalConic:t,Miller:q,Orthographic:g,WebMercator:o}})),e(t,"Maps/Projection.js",[t["Core/Geometry/PolygonClip.js"],t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var g=this&&this.__spreadArray||function(t,b,a){if(a||2===arguments.length)for(var p,e=0,o=b.length;e<o;e++)!p&&e in b||(p||(p=Array.prototype.slice.call(b,0,e)),p[e]=b[e]);return t.concat(p||Array.prototype.slice.call(b))},o=t.clipLineString,r=t.clipPolygon,n=q.clamp,l=q.erase,h=2*Math.PI/360,c=function(t){return-180>t&&(t+=360),180<t&&(t-=360),t};return function(){function t(b){void 0===b&&(b={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=b;var a=b.name,e=b.projectedBounds,o=b.rotation;this.rotator=o?this.getRotator(o):void 0,(a=a?t.registry[a]:void 0)&&(this.def=new a(b));var p=this.def,g=this.rotator;p&&(this.maxLatitude=p.maxLatitude||90,this.hasGeoProjection=!0),g&&p?(this.forward=function(a){return p.forward(g.forward(a))},this.inverse=function(a){return g.inverse(p.inverse(a))}):p?(this.forward=function(a){return p.forward(a)},this.inverse=function(a){return p.inverse(a)}):g&&(this.forward=g.forward,this.inverse=g.inverse),this.bounds="world"===e?p&&p.bounds:e}return t.add=function(b,a){t.registry[b]=a},t.greatCircle=function(b,a,t){var e=Math.atan2,o=Math.cos,r=Math.sin,g=Math.sqrt,n=b[1]*h,l=b[0]*h,c=a[1]*h,d=a[0]*h,f=c-n,y=d-l;f=2*e(g(f=r(f/2)*r(f/2)+o(n)*o(c)*r(y/2)*r(y/2)),g(1-f));var q=Math.round(6371e3*f/5e5);if(y=[],t&&y.push(b),1<q)for(q=b=1/q;.999>q;q+=b){var m=r((1-q)*f)/r(f),v=r(q*f)/r(f),x=m*o(n)*o(l)+v*o(c)*o(d),M=m*o(n)*r(l)+v*o(c)*r(d);m=e(m=m*r(n)+v*r(c),g(x*x+M*M)),x=e(M,x),y.push([x/h,m/h])}return t&&y.push(a),y},t.insertGreatCircles=function(b){for(var a=b.length-1;a--;)if(10<Math.max(Math.abs(b[a][0]-b[a+1][0]),Math.abs(b[a][1]-b[a+1][1]))){var e=t.greatCircle(b[a],b[a+1]);e.length&&b.splice.apply(b,g([a+1,0],e,!1))}},t.toString=function(b){var a=(b=b||{}).rotation;return[b.name,a&&a.join(",")].join(";")},t.prototype.lineIntersectsBounds=function(b){var a=this.bounds||{},t=a.x2,e=a.y1,o=a.y2,g=function(a,b,t){var e=a[0];a=a[1];var o=b?0:1;if("number"==typeof t&&e[b]>=t!=a[b]>=t)return e=e[o]+(t-e[b])/(a[b]-e[b])*(a[o]-e[o]),b?[e,t]:[t,e]},r=b[0];return((a=g(b,0,a.x1))||(a=g(b,0,t)))&&(r=a,b[1]=a),((a=g(b,1,e))||(a=g(b,1,o)))&&(r=a),r},t.prototype.getRotator=function(b){var a=b[0]*h,t=(b[1]||0)*h;b=(b[2]||0)*h;var e=Math.cos(t),o=Math.sin(t),g=Math.cos(b),r=Math.sin(b);if(0!==a||0!==t||0!==b)return{forward:function(b){var t=b[0]*h+a,n=b[1]*h,l=Math.cos(n);return b=Math.cos(t)*l,t=Math.sin(t)*l,l=(n=Math.sin(n))*e+b*o,[Math.atan2(t*g-l*r,b*e-n*o)/h,Math.asin(l*g+t*r)/h]},inverse:function(b){var t=b[0]*h,n=b[1]*h,l=Math.cos(n);return b=Math.cos(t)*l,t=Math.sin(t)*l,l=(n=Math.sin(n))*g-t*r,[(Math.atan2(t*g+n*r,b*e+l*o)-a)/h,Math.asin(l*e-b*o)/h]}}},t.prototype.forward=function(b){return b},t.prototype.inverse=function(b){return b},t.prototype.cutOnAntimeridian=function(b,a){var e=[],o=[b];if(b.forEach((function(t,o){var r=b[o-1];if(!o){if(!a)return;r=b[b.length-1]}var l=r[0],h=t[0];(-90>l||90<l)&&(-90>h||90<h)&&0<l!=0<h&&(h=n((180-(l+360)%360)/((h+360)%360-(l+360)%360),0,1),e.push({i:o,lat:r[1]+h*(t[1]-r[1]),direction:0>l?1:-1,previousLonLat:r,lonLat:t}))})),e.length)if(a){if(1==e.length%2){var p=e.slice().sort((function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)}))[0];l(e,p)}for(var r=e.length-2;0<=r;){var h=e[r].i,d=c(180+1e-6*e[r].direction),f=c(180-1e-6*e[r].direction);(h=b.splice.apply(b,g([h,e[r+1].i-h],t.greatCircle([d,e[r].lat],[d,e[r+1].lat],!0),!1))).push.apply(h,t.greatCircle([f,e[r+1].lat],[f,e[r].lat],!0)),o.push(h),r-=2}if(p)for(d=0;d<o.length;d++){r=p.direction;var y=p.lat;if(-1<(h=(f=o[d]).indexOf(p.lonLat))){d=(0>y?-1:1)*this.maxLatitude;var m=c(180+1e-6*r),v=c(180-1e-6*r);for(y=t.greatCircle([m,y],[m,d],!0),m+=120*r;-180<m&&180>m;m+=120*r)y.push([m,d]);y.push.apply(y,t.greatCircle([v,d],[v,p.lat],!0)),f.splice.apply(f,g([h,0],y,!1));break}}}else for(r=e.length;r--;)h=e[r].i,(h=b.splice(h,b.length,[c(180+1e-6*e[r].direction),e[r].lat])).unshift([c(180-1e-6*e[r].direction),e[r].lat]),o.push(h);return o},t.prototype.path=function(b){var q,a=this,e=this.bounds,n=this.def,g=this.rotator,l=[],h="Polygon"===b.type||"MultiPolygon"===b.type,c=this.hasGeoProjection,d=!n||!1!==n.antimeridianCutting,f=d?g:void 0,y=d&&n||this;e&&(q=[[e.x1,e.y1],[e.x2,e.y1],[e.x2,e.y2],[e.x1,e.y2]]);var m=function(b){b=b.map((function(a){if(d){f&&(a=f.forward(a));var b=a[0];1e-6>Math.abs(b-180)&&(b=180>b?179.999999:180.000001),a=[b,a[1]]}return a}));var n=[b];c&&(t.insertGreatCircles(b),d&&(n=a.cutOnAntimeridian(b,h))),n.forEach((function(a){if(!(2>a.length)){var b=!1,n=!1,f=function(a){b?l.push(["L",a[0],a[1]]):(l.push(["M",a[0],a[1]]),b=!0)},g=!1,p=!1,u=a.map((function(a){return(a=y.forward(a)).outside?g=!0:p=!0,1/0===a[1]?a[1]=1e10:-1/0===a[1]&&(a[1]=-1e10),a}));if(d){if(h&&u.push(u[0]),g){if(!p)return;if(q)if(h)u=r(u,q);else if(e)return void o(u,q).forEach((function(a){b=!1,a.forEach(f)}))}u.forEach(f)}else for(var m=0;m<u.length;m++){var v=a[m],x=u[m];if(x.outside)n=!0;else{if(h&&!M){var M=v;a.push(v),u.push(x)}n&&j&&(h&&c?t.greatCircle(j,v).forEach((function(a){return f(y.forward(a))})):b=!1),f(x);var j=v;n=!1}}}}))};return"LineString"===b.type?m(b.coordinates):"MultiLineString"===b.type?b.coordinates.forEach((function(a){return m(a)})):"Polygon"===b.type?(b.coordinates.forEach((function(a){return m(a)})),l.length&&l.push(["Z"])):"MultiPolygon"===b.type&&(b.coordinates.forEach((function(a){a.forEach((function(a){return m(a)}))})),l.length&&l.push(["Z"])),l},t.registry=e,t}()})),e(t,"Maps/MapView.js",[t["Maps/MapViewOptionsDefault.js"],t["Maps/MapViewInsetsOptionsDefault.js"],t["Extensions/GeoJSON.js"],t["Core/Chart/MapChart.js"],t["Maps/MapUtilities.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],(function(t,e,q,g,o,r,n){var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=this&&this.__spreadArray||function(a,b,t){if(t||2===arguments.length)for(var e,o=0,r=b.length;o<r;o++)!e&&o in b||(e||(e=Array.prototype.slice.call(b,0,o)),e[o]=b[o]);return a.concat(e||Array.prototype.slice.call(b))},c=q.topo2geo,d=g.maps,b=o.boundsFromPath,a=o.pointInPolygon,f=n.addEvent,u=n.clamp,p=n.fireEvent,y=n.isArray,m=n.isNumber,v=n.isObject,x=n.isString,M=n.merge,j=n.pick,C=n.relativeLength,w=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},P=function(){function b(a,e){var g,o=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof S)){var n=h([a.options.chart.map],(a.options.series||[]).map((function(a){return a.mapData})),!0).map((function(a){return o.getGeoMap(a)})),l=[];n.forEach((function(a){a&&(g||(g=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,l.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))}));var p=l.length&&b.compositeBounds(l);if(p){var c=p.x1,d=p.y1,u=p.x2;p=p.y2,c=180<u-c&&90<p-d?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[d,p],rotation:[-(c+u)/2]}}this.geoMap=n[0]}this.userOptions=e||{},n=M(t,{projection:c},g,e),p=g&&g.insets,e=e&&e.insets,p&&e&&(n.insets=b.mergeInsets(p,e)),this.chart=a,this.center=n.center,this.options=n,this.projection=new r(n.projection),this.playingField=a.plotBox,this.zoom=n.zoom||0,this.createInsets(),this.eventsToUnbind.push(f(a,"afterSetChartSize",(function(){o.playingField=o.getField(),void 0!==o.minZoom&&o.minZoom!==o.zoom||(o.fitToBounds(void 0,void 0,!1),!o.chart.hasRendered&&m(o.userOptions.zoom)&&(o.zoom=o.userOptions.zoom),o.userOptions.center&&M(!0,o.center,o.userOptions.center))}))),this.setUpEvents()}return b.mergeInsets=function(a,b){var t=function(a){var b={};return a.forEach((function(a,t){b[a&&a.id||"i".concat(t)]=a})),b},e=M(t(a),t(b));return Object.keys(e).map((function(a){return e[a]}))},b.prototype.createInsets=function(){var a=this,b=this.options,t=b.insets;t&&t.forEach((function(t){t=new S(a,M(b.insetOptions,t)),a.insets.push(t)}))},b.prototype.fitToBounds=function(a,b,t,e){void 0===t&&(t=!0);var o=a||this.getProjectedBounds();if(o){var r=j(b,a?0:this.options.padding);b=this.getField(!1),r=y(r)?r:[r,r,r,r],this.padding=[C(r[0],b.height),C(r[1],b.width),C(r[2],b.height),C(r[3],b.width)],this.playingField=this.getField(),b=w(o,this.playingField),a||(this.minZoom=b),a=this.projection.inverse([(o.x2+o.x1)/2,(o.y2+o.y1)/2]),this.setView(a,b,t,e)}},b.prototype.getField=function(a){return void 0===a&&(a=!0),{x:(a=a?this.padding:[0,0,0,0])[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}},b.prototype.getGeoMap=function(a){if(x(a))return d[a];if(v(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return c(a)}},b.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var t=this.padding,e=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+t[1]+t[3],height:(a.y2-a.y1)*b+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}}},b.prototype.getProjectedBounds=function(){var a=this.chart.series.reduce((function(a,b){var t=b.getProjectedBounds&&b.getProjectedBounds();return t&&!1!==b.options.affectsMapView&&a.push(t),a}),[]);return this.projection.bounds||b.compositeBounds(a)},b.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},b.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,t=a.y,e=a.width;a=a.height;var o=this.projection.forward(this.center),r=this.projection.hasCoordinates?-1:1,n=this.getScale();return{scaleX:n,scaleY:r*=n,translateX:b+e/2-o[0]*n,translateY:t+a/2-o[1]*r}},b.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)},b.prototype.lonLatToProjectedUnits=function(b){var t=this.chart,e=t.mapTransforms;if(e){for(var o in e)if(Object.hasOwnProperty.call(e,o)&&e[o].hitZone){var r=t.transformFromLatLon(b,e[o]);if(r&&a(r,e[o].hitZone.coordinates[0]))return r}return t.transformFromLatLon(b,e.default)}for(e=0,o=this.insets;e<o.length;e++)if((t=o[e]).options.geoBounds&&a({x:b.lon,y:b.lat},t.options.geoBounds.coordinates[0]))return b=t.projection.forward([b.lon,b.lat]),b=t.projectedUnitsToPixels({x:b[0],y:b[1]}),this.pixelsToProjectedUnits(b);if(!(b=this.projection.forward([b.lon,b.lat])).outside)return{x:b[0],y:b[1]}},b.prototype.projectedUnitsToLonLat=function(b){var t=this.chart,e=t.mapTransforms;if(e){for(var o in e)if(Object.hasOwnProperty.call(e,o)&&e[o].hitZone&&a(b,e[o].hitZone.coordinates[0]))return t.transformToLatLon(b,e[o]);return t.transformToLatLon(b,e.default)}e=this.projectedUnitsToPixels(b),o=0;for(var r=this.insets;o<r.length;o++)if((t=r[o]).hitZone&&a(e,t.hitZone.coordinates[0]))return b=t.pixelsToProjectedUnits(e),{lon:(b=t.projection.inverse([b.x,b.y]))[0],lat:b[1]};return{lon:(b=this.projection.inverse([b.x,b.y]))[0],lat:b[1]}},b.prototype.redraw=function(a){this.chart.series.forEach((function(a){a.useMapGeometry&&(a.isDirty=!0)})),this.chart.redraw(a)},b.prototype.setView=function(a,b,t,e){void 0===t&&(t=!0),a&&(this.center=a),"number"==typeof b&&("number"==typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"==typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),m(b)&&(this.zoom=b));var o=this.getProjectedBounds();if(o){a=this.projection.forward(this.center);var r=this.playingField;b=r.x;var n=r.y,g=r.width;r=r.height;var l=this.getScale(),h=this.projectedUnitsToPixels({x:o.x1,y:o.y1}),c=this.projectedUnitsToPixels({x:o.x2,y:o.y2});o=[(o.x1+o.x2)/2,(o.y1+o.y2)/2];var u=h.x,d=c.y;c=c.x,h=h.y,c-u<g?a[0]=o[0]:u<b&&c<b+g?a[0]+=Math.max(u-b,c-g-b)/l:c>b+g&&u>b&&(a[0]+=Math.min(c-g-b,u-b)/l),h-d<r?a[1]=o[1]:d<n&&h<n+r?a[1]-=Math.max(d-n,h-r-n)/l:h>n+r&&d>n&&(a[1]-=Math.min(h-r-n,d-n)/l),this.center=this.projection.inverse(a),this.insets.forEach((function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())})),this.render()}p(this,"afterSetView"),t&&this.redraw(e)},b.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),t=this.projection.forward(this.center),e=this.playingField;return{x:e.x+e.width/2-b*(t[0]-a.x),y:e.y+e.height/2+b*(t[1]-a.y)}},b.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))},b.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var t=this.getScale(),e=this.projection.forward(this.center),o=this.playingField;return{x:e[0]+(b-(o.x+o.width/2))/t,y:e[1]-(a-(o.y+o.height/2))/t}},b.prototype.setUpEvents=function(){var t,e,o,a=this,b=this.chart,r=function(r){var n=b.pointer.pinchDown,g=a.projection,l=b.mouseDownX,h=b.mouseDownY;if(1===n.length&&(l=n[0].chartX,h=n[0].chartY),"number"==typeof l&&"number"==typeof h){var p=""+l+",".concat(h),c=r.originalEvent;n=c.chartX,c=c.chartY,p!==e&&(e=p,t=a.projection.forward(a.center),o=(a.projection.options.rotation||[0,0]).slice()),p=(p=g.def&&g.def.bounds)&&w(p,a.playingField)||-1/0,"Orthographic"===g.options.name&&(a.minZoom||1/0)<1.1*p?(g=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),o&&(l=(l-n)*g-o[0],h=u(-o[1]-(h-c)*g,-80,80),n=a.zoom,a.update({projection:{rotation:[-l,-h]}},!1),a.zoom=n,b.redraw(!1))):(g=a.getScale(),h=a.projection.inverse([t[0]+(l-n)/g,t[1]-(h-c)/g]),a.setView(h,void 0,!0,!1)),r.preventDefault()}};f(b,"pan",r),f(b,"touchpan",r),f(b,"selection",(function(t){if(t.resetSelection)a.zoomBy();else{var e=t.x-b.plotLeft,o=t.y-b.plotTop,r=a.pixelsToProjectedUnits({x:e,y:o}),n=r.y;r=r.x,e=a.pixelsToProjectedUnits({x:e+t.width,y:o+t.height}),a.fitToBounds({x1:r,y1:n,x2:e.x,y2:e.y},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||b.showResetZoom(),t.preventDefault()}}))},b.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},b.prototype.update=function(a,b,t){void 0===b&&(b=!0);var e=a.projection;e=e&&r.toString(e)!==r.toString(this.options.projection);var o=!1;M(!0,this.userOptions,a),M(!0,this.options,a),"insets"in a&&(this.insets.forEach((function(a){return a.destroy()})),this.insets.length=0,o=!0),(e||o)&&(this.chart.series.forEach((function(a){var b=a.transformGroups;if(a.clearBounds&&a.clearBounds(),a.isDirty=!0,a.isDirtyData=!0,o&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()})),e&&(this.projection=new r(this.options.projection)),o&&this.createInsets(),a.center||m(a.zoom)||this.fitToBounds(void 0,void 0,!1)),(a.center||m(a.zoom))&&this.setView(this.options.center,a.zoom,!1),b&&this.chart.redraw(t)},b.prototype.zoomBy=function(a,b,t,e){var o=this.chart,r=this.projection.forward(this.center),n=(b=b?this.projection.forward(b):[])[0],g=b[1];"number"==typeof a?(a=this.zoom+a,b=void 0,t&&(n=t[0],g=t[1],t=this.getScale(),n=n-o.plotLeft-o.plotWidth/2,o=g-o.plotTop-o.plotHeight/2,n=r[0]+n/t,g=r[1]+o/t),"number"==typeof n&&"number"==typeof g&&(t=1-Math.pow(2,this.zoom)/Math.pow(2,a),n=r[0]-n,o=r[1]-g,r[0]-=n*t,r[1]+=o*t,b=this.projection.inverse(r)),this.setView(b,a,void 0,e)):this.fitToBounds(void 0,void 0,void 0,e)},b.compositeBounds=function(a){if(a.length)return a.slice(1).reduce((function(a,b){return a.x1=Math.min(a.x1,b.x1),a.y1=Math.min(a.y1,b.y1),a.x2=Math.max(a.x2,b.x2),a.y2=Math.max(a.y2,b.y2),a}),M(a[0]))},b}(),S=function(t){function o(a,o){var r=t.call(this,a.chart,o)||this;return r.id=o.id,r.mapView=a,r.options=M(e,o),r.allBounds=[],r.options.geoBounds&&(a=a.projection.path(r.options.geoBounds),r.geoBoundsProjectedBox=b(a),r.geoBoundsProjectedPolygon=a.map((function(a){return[a[1]||0,a[2]||0]}))),r}return l(o,t),o.prototype.getField=function(a){void 0===a&&(a=!0);var b=this.hitZone;if(b){var e=a?this.padding:[0,0,0,0],o=(b=b.coordinates[0]).map((function(a){return a[0]})),r=b.map((function(a){return a[1]}));b=Math.min.apply(0,o)+e[3],o=Math.max.apply(0,o)-e[1];var n=Math.min.apply(0,r)+e[0];if(e=Math.max.apply(0,r)-e[2],m(b)&&m(n))return{x:b,y:n,width:o-b,height:e-n}}return t.prototype.getField.call(this,a)},o.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,t=this.options,e=(t.field||{}).coordinates;if(e){if(e=e[0],"percent"===t.units){var o="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||M(a.plotBox,{x:0,y:0});e=e.map((function(a){return[C(a[0]+"%",o.width,o.x),C(a[1]+"%",o.height,o.y)]}))}return{type:"Polygon",coordinates:[e]}}},o.prototype.getProjectedBounds=function(){return P.compositeBounds(this.allBounds)},o.prototype.isInside=function(b){var t=this.geoBoundsProjectedBox,e=this.geoBoundsProjectedPolygon;return!!(t&&b.x>=t.x1&&b.x<=t.x2&&b.y>=t.y1&&b.y<=t.y2&&e&&a(b,e))},o.prototype.render=function(){var a=this.chart,b=this.mapView,t=this.options,e=t.borderPath||t.field;if(e&&b.group){var o=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),o=!1),a.styledMode||this.border.attr({stroke:t.borderColor,"stroke-width":t.borderWidth});var r=Math.round(this.border.strokeWidth())%2/2,n="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||[]).reduce((function(b,e){return e.reduce((function(b,e,o){var g=e[0];return e=e[1],"percent"===t.units&&(g=a.plotLeft+C(g+"%",n.width,n.x),e=a.plotTop+C(e+"%",n.height,n.y)),g=Math.floor(g)+r,e=Math.floor(e)+r,b.push(0===o?["M",g,e]:["L",g,e]),b}),b)}),[]),this.border[o?"animate":"attr"]({d:b})}},o.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach((function(a){return a()}))},o.prototype.setUpEvents=function(){},o}(P);return f(g,"afterInit",(function(){this.mapView=new P(this,this.options.mapView)})),P})),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapComposition.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Maps/MapView.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,g,o,r,n,l,h,c,d,b){var a=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),f=t.animObject;t=g.noop;var u=r.splitPath,p=(r=c.seriesTypes).column,y=r.scatter;r=b.extend;var m=b.find,v=b.fireEvent,x=b.getNestedProperty,M=b.isArray,j=b.isNumber,C=b.isObject,w=b.merge,P=b.objectEach,S=b.pick,L=b.splat;return b=function(b){function t(){var a=null!==b&&b.apply(this,arguments)||this;return a.chart=void 0,a.data=void 0,a.group=void 0,a.joinBy=void 0,a.options=void 0,a.points=void 0,a.processedData=[],a}return a(t,b),t.prototype.animate=function(a){var b=this.chart,t=this.group,e=f(this.options.animation);b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},e))},t.prototype.animateDrilldown=function(a){var b=this.chart,t=this.group;b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))},t.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},t.prototype.animateDrillupTo=function(a){p.prototype.animateDrillupTo.call(this,a)},t.prototype.clearBounds=function(){this.points.forEach((function(a){delete a.bounds,delete a.insetIndex,delete a.projectedPath})),delete this.bounds},t.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},t.prototype.drawMapDataLabels=function(){h.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},t.prototype.drawPoints=function(){var a=this,b=this,t=this.chart,e=this.group,o=this.transformGroups,r=void 0===o?[]:o,n=t.mapView,g=t.renderer;n&&(this.transformGroups=r,r[0]||(r[0]=g.g().add(e)),n.insets.forEach((function(a,b){r[b+1]||r.push(g.g().add(e))})),this.doFullTranslate()&&(this.points.forEach((function(b){var e=b.graphic,o=b.shapeArgs;b.group=r["number"==typeof b.insetIndex?b.insetIndex+1:0],e&&e.parentGroup!==b.group&&e.add(b.group),o&&t.hasRendered&&!t.styledMode&&(o.fill=a.pointAttribs(b,b.state).fill)})),p.prototype.drawPoints.apply(this),this.points.forEach((function(e){var o=e.graphic;if(o){var r=o.animate,n="";e.name&&(n+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase()),e.properties&&e.properties["hc-key"]&&(n+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase()),n&&o.addClass(n),t.styledMode&&o.css(a.pointAttribs(e,e.selected?"select":void 0)),o.animate=function(a,e,n){var g=!1;if(a["stroke-width"]){var l=S(b.getStrokeWidth(b.options),1)/(t.mapView&&t.mapView.getScale()||1);"inherit"===o["stroke-width"]&&(o["stroke-width"]=l),"inherit"===a["stroke-width"]&&(a["stroke-width"]=l,g=!0)}return r.call(o,a,e,g?function(){o.attr({"stroke-width":"inherit"}),n&&n.apply(this,arguments)}:n)}}}))),r.forEach((function(b,e){var o=(0===e?n:n.insets[e-1]).getSVGTransform(),r=S(a.getStrokeWidth(a.options),1),l=o.scaleX,h=0<o.scaleY?1:-1;if(g.globalAnimation&&t.hasRendered){var p=Number(b.attr("translateX")),c=Number(b.attr("translateY")),u=Number(b.attr("scaleX"));b.attr({animator:0}).animate({animator:1},{step:function(a,t){a=u+(l-u)*t.pos,b.attr({translateX:p+(o.translateX-p)*t.pos,translateY:c+(o.translateY-c)*t.pos,scaleX:a,scaleY:a*h}),b.element.setAttribute("stroke-width",r/a)}})}else b.attr(o),b.element.setAttribute("stroke-width",r/l)})),this.drawMapDataLabels())},t.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,t=a.projection,e=[];(this.points||[]).forEach((function(a){if(a.path||a.geometry){if("string"==typeof a.path?a.path=u(a.path):M(a.path)&&"M"===a.path[0]&&(a.path=d.prototype.pathToSegments(a.path)),!a.bounds){var o=a.getProjectedBounds(t);if(o){a.labelrank=S(a.labelrank,(o.x2-o.x1)*(o.y2-o.y1));var r=o.midX,g=o.midY;if(b&&j(r)&&j(g)){var n=m(b,(function(a){return a.isInside({x:r,y:g})}));n&&(delete a.projectedPath,(o=a.getProjectedBounds(n.projection))&&n.allBounds.push(o),a.insetIndex=b.indexOf(n))}a.bounds=o}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}})),this.bounds=l.compositeBounds(e)}return this.bounds},t.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]},t.prototype.hasData=function(){return!!this.processedXData.length},t.prototype.pointAttribs=function(a,b){var t=a.series.chart,e=t.mapView;t=t.styledMode?this.colorAttribs(a):p.prototype.pointAttribs.call(this,a,b);var o=this.getStrokeWidth(a.options);return b&&(a=w(this.options.states[b],a.options.states&&a.options.states[b]||{}),o=this.getStrokeWidth(a)),o&&e&&(o/=e.getScale()),a=this.getStrokeWidth(this.options),t.dashstyle&&e&&j(a)&&(o=a/e.getScale()),t["stroke-width"]=S(o,"inherit"),t},t.prototype.updateData=function(){return!this.processedData&&b.prototype.updateData.apply(this,arguments)},t.prototype.setData=function(a,t,e,o){void 0===t&&(t=!0),delete this.bounds,b.prototype.setData.call(this,a,!1,void 0,o),this.processData(),this.generatePoints(),t&&this.chart.redraw(e)},t.prototype.processData=function(){var a=this.options,b=a.data,t=this.chart.options.chart,e=this.joinBy,o=a.keys||this.pointArrayMap,r=[],l={},p=this.chart.mapView;p=p&&(C(a.mapData,!0)?p.getGeoMap(a.mapData):p.geoMap);var u=this.chart.mapTransforms;if((this.chart.mapTransforms=u=t.mapTransforms||p&&p["hc-transform"]||u)&&P(u,(function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))})),M(a.mapData))var h=a.mapData;else p&&"FeatureCollection"===p.type&&(this.mapTitle=p.title,h=g.geojson(p,this.type,this));var c=this.processedData=[];if(b&&b.forEach((function(t,r){var g=0;if(j(t))c[r]={value:t};else if(M(t)){c[r]={},!a.keys&&t.length>o.length&&"string"==typeof t[0]&&(c[r]["hc-key"]=t[0],++g);for(var l=0;l<o.length;++l,++g)o[l]&&void 0!==t[g]&&(0<o[l].indexOf(".")?n.prototype.setNestedProperty(c[r],t[g],o[l]):c[r][o[l]]=t[g])}else c[r]=b[r];e&&"_i"===e[0]&&(c[r]._i=r)})),h){for(this.mapData=h,this.mapMap={},u=0;u<h.length;u++)p=(t=h[u]).properties,t._i=u,e[0]&&p&&p[e[0]]&&(t[e[0]]=p[e[0]]),l[t[e[0]]]=t;if(this.mapMap=l,e[1]){var d=e[1];c.forEach((function(a){a=x(d,a),l[a]&&r.push(l[a])}))}if(a.allAreas){if(e[1]){var f=e[1];c.forEach((function(a){r.push(x(f,a))}))}var y="|"+r.map((function(a){return a&&a[e[0]]})).join("|")+"|";h.forEach((function(a){e[0]&&-1!==y.indexOf("|"+a[e[0]]+"|")||c.push(w(a,{value:null}))}))}}this.processedXData=Array(c.length)},t.prototype.setOptions=function(a){var b=(a=h.prototype.setOptions.call(this,a)).joinBy;return null===b&&(b="_i"),(b=this.joinBy=L(b))[1]||(b[1]=b[0]),a},t.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,t=b&&b.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||j(b.userOptions.zoom)?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1)),b){var e=b.getSVGTransform();this.points.forEach((function(o){var r=j(o.insetIndex)&&b.insets[o.insetIndex].getSVGTransform()||e;r&&o.bounds&&j(o.bounds.midX)&&j(o.bounds.midY)&&(o.plotX=o.bounds.midX*r.scaleX+r.translateX,o.plotY=o.bounds.midY*r.scaleY+r.translateY),a&&(o.shapeType="path",o.shapeArgs={d:n.getProjectedPath(o,t)})}))}v(this,"afterTranslate")},t.defaultOptions=w(y.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return j(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),t}(y),r(b.prototype,{type:"map",axisTypes:e.seriesMembers.axisTypes,colorAttribs:e.seriesMembers.colorAttribs,colorKey:e.seriesMembers.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,drawLegendSymbol:o.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:t,isCartesian:!1,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:e.seriesMembers.pointArrayMap,pointClass:n,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.seriesMembers.trackerGroups,useMapGeometry:!0}),e.compose(b),c.registerSeriesType("map",b),b})),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var g=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var a in b)b.hasOwnProperty(a)&&(t[a]=b[a])})(e,o)};return function(e,o){function g(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(g.prototype=o.prototype,new g)}}(),o=e.series,r=q.extend,n=q.merge;return q=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return g(o,e),o.prototype.pointAttribs=function(e,g){return(e=t.prototype.pointAttribs.call(this,e,g)).fill=this.options.fillColor,e},o.defaultOptions=n(t.defaultOptions,{lineWidth:1,fillColor:"none"}),o}(t),r(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:o.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),e.registerSeriesType("mapline",q),q})),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){var q=this&&this.__extends||function(){var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}(),g=e.isNumber;return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e}return q(e,t),e.prototype.isValid=function(){return!!(this.options.geometry||g(this.x)&&g(this.y)||g(this.options.lon)&&g(this.options.lat))},e}(t.seriesTypes.scatter.prototype.pointClass)})),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,g){var o=this&&this.__extends||function(){var t=function(b,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(b,a)};return function(b,a){function e(){this.constructor=b}t(b,a),b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();t=t.noop;var r=q.seriesTypes.scatter,n=g.extend,l=g.fireEvent,h=g.isNumber,c=g.merge;return g=function(t){function b(){var a=null!==t&&t.apply(this,arguments)||this;return a.chart=void 0,a.data=void 0,a.options=void 0,a.points=void 0,a}return o(b,t),b.prototype.drawDataLabels=function(){t.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},b.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var t=a.geometry,e=a.lon;if(a=a.lat,t=t&&"Point"===t.type&&t.coordinates,h(e)&&h(a)&&(t=[e,a]),t)return b.lonLatToProjectedUnits({lon:t[0],lat:t[1]})}},b.prototype.translate=function(){var a=this,b=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),b){var t=b.projection.hasCoordinates;this.points.forEach((function(e){var o=e.x;o=void 0===o?void 0:o;var r=e.y;r=void 0===r?void 0:r;var g=a.projectPoint(e.options);g?(o=g.x,r=g.y):e.bounds&&(o=e.bounds.midX,r=e.bounds.midY),h(o)&&h(r)?(o=b.projectedUnitsToPixels({x:o,y:r}),e.plotX=o.x,e.plotY=t?o.y:a.chart.plotHeight-o.y):e.y=e.plotX=e.plotY=void 0,e.isInside=a.isPointInside(e),e.zone=a.zones.length?e.getZone():void 0}))}l(this,"afterTranslate")},b.defaultOptions=c(r.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),b}(r),n(g.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),q.registerSeriesType("mappoint",g),g})),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,q,g){var o=t.parse,r=q.noop,n=g.arrayMax,l=g.arrayMin,h=g.isNumber,c=g.merge,d=g.pick,b=g.stableSort;return t=function(){function a(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=r,this.init(a,b)}return a.prototype.init=function(a,b){this.options=a,this.visible=!0,this.chart=b.chart,this.legend=b},a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)},a.prototype.drawLegendSymbol=function(a){var t=this.chart,e=this.options,o=d(a.options.itemDistance,20),r=e.ranges,g=e.connectorDistance;this.fontMetrics=t.renderer.fontMetrics(e.labels.style.fontSize),r&&r.length&&h(r[0].value)?(b(r,(function(a,b){return b.value-a.value})),this.ranges=r,this.setOptions(),this.render(),a=this.getMaxLabelSize(),t=2*(r=this.ranges[0].radius),g=0<(g=g-r+a.width)?g:0,this.maxLabel=a,this.movementX="left"===e.labels.align?g:0,this.legendItemWidth=t+g+o,this.legendItemHeight=t+this.fontMetrics.h/2):a.options.bubbleLegend.autoRanges=!0},a.prototype.setOptions=function(){var a=this.ranges,b=this.options,t=this.chart.series[b.seriesIndex],e=this.legend.baseline,g={zIndex:b.zIndex,"stroke-width":b.borderWidth},r={zIndex:b.zIndex,"stroke-width":b.connectorWidth},n={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},l=t.options.marker.fillOpacity,h=this.chart.styledMode;a.forEach((function(f,p){h||(g.stroke=d(f.borderColor,b.borderColor,t.color),g.fill=d(f.color,b.color,1!==l?o(t.color).setOpacity(l).get("rgba"):t.color),r.stroke=d(f.connectorColor,b.connectorColor,t.color)),a[p].radius=this.getRangeRadius(f.value),a[p]=c(a[p],{center:a[0].radius-a[p].radius+e}),h||c(!0,a[p],{bubbleAttribs:c(g),connectorAttribs:c(r),labelAttribs:n})}),this)},a.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)},a.prototype.render=function(){var a=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=a.g("bubble-legend"),this.legendItem=a.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach((function(a){a.value>=b&&this.renderRange(a)}),this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},a.prototype.renderRange=function(a){var b=this.options,t=b.labels,e=this.chart,o=e.series[b.seriesIndex],r=e.renderer,g=this.symbols;e=g.labels;var n=a.center,l=Math.abs(a.radius),h=b.connectorDistance||0,c=t.align,q=b.connectorWidth,d=this.ranges[0].radius||0,f=n-l-b.borderWidth/2+q/2,y=this.fontMetrics;y=y.f/2-(y.h-y.f)/2;var m=r.styledMode;h=this.legend.options.rtl||"left"===c?-h:h,"center"===c&&(h=0,b.connectorDistance=0,a.labelAttribs.align="center"),c=f+b.labels.y;var v=d+h+b.labels.x;g.bubbleItems.push(r.circle(d,n+((f%1?1:.5)-(q%2?0:.5)),l).attr(m?{}:a.bubbleAttribs).addClass((m?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendSymbol)),g.connectors.push(r.path(r.crispLine([["M",d,f],["L",d+h,f]],b.connectorWidth)).attr(m?{}:a.connectorAttribs).addClass((m?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendSymbol)),a=r.text(this.formatLabel(a),v,c+y).attr(m?{}:a.labelAttribs).css(m?{}:t.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendSymbol),e.push(a),a.placed=!0,a.alignAttr={x:v,y:c+y}},a.prototype.getMaxLabelSize=function(){var a,b;return this.symbols.labels.forEach((function(t){b=t.getBBox(!0),a=a?b.width>a.width?b:a:b})),a||{}},a.prototype.formatLabel=function(a){var b=this.options,t=b.labels.formatter;b=b.labels.format;var o=this.chart.numberFormatter;return b?e.format(b,a):t?t.call(a):o(a.value,1)},a.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach((function(a,t){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[t].show():b.connectors[t].hide()})))},a.prototype.getRanges=function(){var t,a=this.legend.bubbleLegend,b=a.options.ranges,e=Number.MAX_VALUE,g=-Number.MAX_VALUE;a.chart.series.forEach((function(a){a.isBubble&&!a.ignoreSeries&&(t=a.zData.filter(h)).length&&(e=d(a.options.zMin,Math.min(e,Math.max(l(t),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),g=d(a.options.zMax,Math.max(g,n(t))))}));var o=e===g?[{value:g}]:[{value:e},{value:(e+g)/2},{value:g,autoRanges:!0}];return b.length&&b[0].radius&&o.reverse(),o.forEach((function(a,t){b&&b[t]&&(o[t]=c(b[t],a))})),o},a.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,t=a.legend.options,e=t.floating,o=(t="horizontal"===t.layout)?a.legend.lastLineHeight:0,g=a.plotSizeX,r=a.plotSizeY,n=a.series[this.options.seriesIndex],l=n.getPxExtremes();a=Math.ceil(l.minPxSize),l=Math.ceil(l.maxPxSize);var h=Math.min(r,g);return n=n.options.maxSize,e||!/%$/.test(n)?b=l:(n=parseFloat(n),b=(h+o-b.h/2)*n/100/(n/100+1),(t&&r-b>=g||!t&&g-b>=r)&&(b=l)),[a,Math.ceil(b)]},a.prototype.updateRanges=function(a,b){var t=this.legend.options.bubbleLegend;t.minSize=a,t.maxSize=b,t.ranges=this.getRanges()},a.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())},a}(),t})),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],(function(t,e,q,g){function o(b,t,g){var e=this.legend,o=0<=r(this);if(e&&e.options.enabled&&e.bubbleLegend&&e.options.bubbleLegend.autoRanges&&o){var l=e.bubbleLegend.options;o=e.bubbleLegend.predictBubbleSizes(),e.bubbleLegend.updateRanges(o[0],o[1]),l.placed||(e.group.placed=!1,e.allItems.forEach((function(a){a.legendGroup.translateY=null}))),e.render(),this.getMargins(),this.axes.forEach((function(b){b.visible&&b.render(),l.placed||(b.setScale(),b.updateNames(),a(b.ticks,(function(a){a.isNew=!0,a.isNewLabel=!0})))})),l.placed=!0,this.getMargins(),b.call(this,t,g),e.bubbleLegend.correctSizes(),c(e,n(e))}else b.call(this,t,g),e&&e.options.enabled&&e.bubbleLegend&&(e.render(),c(e,n(e)))}function r(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function n(a){var t,b=[],e=(a=a.allItems).length,o=0;for(t=0;t<e;t++)if(a[t].legendItemHeight&&(a[t].itemHeight=a[t].legendItemHeight),a[t]===a[e-1]||a[t+1]&&a[t]._legendItemPos[1]!==a[t+1]._legendItemPos[1]){b.push({height:0});for(var r=b[b.length-1];o<=t;o++)a[o].itemHeight>r.height&&(r.height=a[o].itemHeight);r.step=t}return b}function l(a){var b=this.bubbleLegend,t=this.options,o=t.bubbleLegend,g=r(this.chart);b&&b.ranges&&b.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(b)),0<=g&&t.enabled&&o.enabled&&(o.seriesIndex=g,this.bubbleLegend=new e(o,this),this.bubbleLegend.addToLegend(a.allItems))}function h(){var a=this.chart,b=this.visible,t=this.chart.legend;t&&t.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=r(a),t.bubbleLegend.visible!==a&&(t.update({bubbleLegend:{enabled:a}}),t.bubbleLegend.visible=a),this.visible=b)}function c(a,b){var t,e,o,r=a.options.rtl,g=0;a.allItems.forEach((function(a,n){t=a.legendGroup.translateX,e=a._legendItemPos[1],((o=a.movementX)||r&&a.ranges)&&(o=r?t-a.options.maxSize/2:t+o,a.legendGroup.attr({translateX:o})),n>b[g].step&&g++,a.legendGroup.attr({translateY:Math.round(e+b[g].height/2)}),a._legendItemPos[1]=e+b[g].height/2}))}var d=q.setOptions,b=g.addEvent,a=g.objectEach,f=g.wrap,u=[];return{compose:function(a,e,r){-1===u.indexOf(a)&&(u.push(a),d({legend:{bubbleLegend:t}}),f(a.prototype,"drawChartBox",o)),-1===u.indexOf(e)&&(u.push(e),b(e,"afterGetAllItems",l)),-1===u.indexOf(r)&&(u.push(r),b(r,"legendItemClick",h))}}})),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var g=this&&this.__extends||function(){var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}();return q=q.extend,e=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return g(o,e),o.prototype.haloPath=function(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)},o}(e.seriesTypes.scatter.prototype.pointClass),q(e.prototype,{ttBelow:!1}),e})),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,g,o,r){function n(){var p,a=this,b=this.len,t=this.chart,e=this.isXAxis,o=e?"xData":"yData",g=this.min,r=this.max-g,n=0,l=b,h=b/r;this.series.forEach((function(b){if(b.bubblePadding&&(b.visible||!t.options.chart.ignoreHiddenSeries)){p=a.allowZoomOutside=!0;var c=b[o];if(e&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii)),0<r)for(var d=c.length;d--;)if(y(c[d])&&a.dataMin<=c[d]&&c[d]<=a.max){var q=b.radii&&b.radii[d]||0;n=Math.min((c[d]-g)*h-q,n),l=Math.max((c[d]-g)*h+q,l)}}})),p&&0<r&&!this.logarithmic&&(l-=b,h*=(b+Math.max(0,n)-Math.min(l,b))/b,[["min","userMin",n],["max","userMax",l]].forEach((function(b){void 0===v(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/h)})))}var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=q.parse;q=g.noop;var c=o.series,d=o.seriesTypes;g=d.column.prototype;var b=d.scatter;d=r.addEvent;var a=r.arrayMax,f=r.arrayMin,u=r.clamp,p=r.extend,y=r.isNumber,m=r.merge,v=r.pick,x=[];return r=function(e){function o(){var a=null!==e&&e.apply(this,arguments)||this;return a.data=void 0,a.maxPxSize=void 0,a.minPxSize=void 0,a.options=void 0,a.points=void 0,a.radii=void 0,a.yData=void 0,a.zData=void 0,a}return l(o,e),o.compose=function(a,b,e,o){t.compose(b,e,o),-1===x.indexOf(a)&&(x.push(a),a.prototype.beforePadding=n)},o.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach((function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))}),this)},o.prototype.getRadii=function(){var a=this,b=this.zData,t=this.yData,e=[],o=this.chart.bubbleZExtremes,r=this.getPxExtremes(),g=r.minPxSize,n=r.maxPxSize;if(!o){var l,h=Number.MAX_VALUE,c=-Number.MAX_VALUE;this.chart.series.forEach((function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(h=Math.min(h||b.zMin,b.zMin),c=Math.max(c||b.zMax,b.zMax),l=!0)})),l?(o={zMin:h,zMax:c},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}var d=0;for(r=b.length;d<r;d++){var p=b[d];e.push(this.getRadius(o.zMin,o.zMax,g,n,p,t&&t[d]))}this.radii=e},o.prototype.getRadius=function(a,b,t,e,o,r){var g=this.options,n="width"!==g.sizeBy,l=g.zThreshold,h=b-a,c=.5;if(null===r||null===o)return null;if(y(o)){if(g.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(b-l,Math.abs(a-l)),a=0),o<a)return t/2-1;0<h&&(c=(o-a)/h)}return n&&0<=c&&(c=Math.sqrt(c)),Math.ceil(t+c*(e-t))/2},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.pointAttribs=function(a,b){var t=this.options.marker.fillOpacity;return a=c.prototype.pointAttribs.call(this,a,b),1!==t&&(a.fill=h(a.fill).setOpacity(t).get("rgba")),a},o.prototype.translate=function(){e.prototype.translate.call(this),this.getRadii(),this.translateBubble()},o.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,t=this.getPxExtremes().minPxSize,e=a.length;e--;){var o=a[e],r=b?b[e]:0;y(r)&&r>=t/2?(o.marker=p(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):(o.shapeArgs=o.dlBox=void 0,o.plotY=0,o.marker={width:0,height:0})}},o.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"==typeof b){var t=/%$/.test(b);b=parseInt(b,10)}return t?a*b/100:b},t=b(v(this.options.minSize,8));return{minPxSize:t,maxPxSize:b=Math.max(b(v(this.options.maxSize,"20%")),t)}},o.prototype.getZExtremes=function(){var b=this.options,t=(this.zData||[]).filter(y);if(t.length){var e=v(b.zMin,u(f(t),!1===b.displayNegative?b.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(b=v(b.zMax,a(t)),y(e)&&y(b))return{zMin:e,zMax:b}}},o.defaultOptions=m(b.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return y(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),o}(b),p(r.prototype,{alignDataLabel:g.alignDataLabel,applyZones:q,bubblePadding:!0,buildKDTree:q,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),d(r,"updatedData",(function(a){delete a.target.chart.bubbleZExtremes})),d(r,"remove",(function(a){delete a.target.chart.bubbleZExtremes})),o.registerSeriesType("bubble",r),r})),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Series/Bubble/BubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q){var g=this&&this.__extends||function(){var t=function(e,g){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(e,g)};return function(e,g){function o(){this.constructor=e}t(e,g),e.prototype=null===g?Object.create(g):(o.prototype=g.prototype,new o)}}();return e=e.seriesTypes.map.prototype.pointClass.prototype,q=q.extend,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.isValid=function(){return"number"==typeof this.z},e}(t),q(t.prototype,{applyOptions:e.applyOptions,getProjectedBounds:e.getProjectedBounds}),t})),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,q,g){var o=this&&this.__extends||function(){var t=function(e,b){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},t(e,b)};return function(e,b){function a(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),r=q.seriesTypes,n=r.map.prototype,l=r.mappoint.prototype;r=g.extend;var h=g.merge;return g=function(e){function r(){var b=null!==e&&e.apply(this,arguments)||this;return b.data=void 0,b.options=void 0,b.points=void 0,b}return o(r,e),r.prototype.searchPoint=function(b,a){return this.searchKDTree({clientX:b.chartX-this.chart.plotLeft,plotY:b.chartY-this.chart.plotTop},a,b)},r.prototype.translate=function(){l.translate.call(this),this.getRadii(),this.translateBubble()},r.defaultOptions=h(t.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),r}(t),r(g.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:n.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:n.processData,projectPoint:l.projectPoint,setData:n.setData,setOptions:n.setOptions,updateData:n.updateData,useMapGeometry:!0,xyFromShape:!0}),q.registerSeriesType("mapbubble",g),g})),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){var q=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var a in b)b.hasOwnProperty(a)&&(t[a]=b[a])})(e,o)};return function(e,o){function g(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(g.prototype=o.prototype,new g)}}(),g=e.clamp,o=e.defined,r=e.extend,n=e.pick;return t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e.value=void 0,e.x=void 0,e.y=void 0,e}return q(e,t),e.prototype.applyOptions=function(e,g){return(e=t.prototype.applyOptions.call(this,e,g)).formatPrefix=e.isNull||null===e.value?"null":"point",e},e.prototype.getCellAttributes=function(){var t=this.series,e=t.options,b=(e.colsize||1)/2,a=(e.rowsize||1)/2,r=t.xAxis,l=t.yAxis,p=this.options.marker||t.options.marker;t=t.pointPlacementToXValue();var q=n(this.pointPadding,e.pointPadding,0),h={x1:g(Math.round(r.len-r.translate(this.x-b,!1,!0,!1,!0,-t)),-r.len,2*r.len),x2:g(Math.round(r.len-r.translate(this.x+b,!1,!0,!1,!0,-t)),-r.len,2*r.len),y1:g(Math.round(l.translate(this.y-a,!1,!0,!1,!0)),-l.len,2*l.len),y2:g(Math.round(l.translate(this.y+a,!1,!0,!1,!0)),-l.len,2*l.len)};return[["width","x"],["height","y"]].forEach((function(a){var b=a[0],t=(a=a[1])+"1",e=a+"2",r=Math.abs(h[t]-h[e]),g=p&&p.lineWidth||0,n=Math.abs(h[t]+h[e])/2;b=p&&p[b],o(b)&&b<r&&(b=b/2+g/2,h[t]=n-b,h[e]=n+b),q&&("y"===a&&(t=e,e=a+"1"),h[t]+=q,h[e]-=q)})),h},e.prototype.haloPath=function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]},e.prototype.isValid=function(){return 1/0!==this.value&&-1/0!==this.value},e}(t.seriesTypes.scatter.prototype.pointClass),r(t.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),t})),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapComposition.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,q,g,o,r,n){var l=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=o.series,c=o.seriesTypes,d=c.column,b=c.scatter,a=r.prototype.symbols,f=n.extend,u=n.fireEvent,p=n.isNumber,y=n.merge,m=n.pick;return r=function(e){function o(){var a=null!==e&&e.apply(this,arguments)||this;return a.colorAxis=void 0,a.data=void 0,a.options=void 0,a.points=void 0,a.valueMax=NaN,a.valueMin=NaN,a}return l(o,e),o.prototype.drawPoints=function(){var a=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(h.prototype.drawPoints.call(this),this.points.forEach((function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})))},o.prototype.getExtremes=function(){var a=h.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;return a=a.dataMax,p(b)&&(this.valueMin=b),p(a)&&(this.valueMax=a),h.prototype.getExtremes.call(this)},o.prototype.getValidPoints=function(a,b){return h.prototype.getValidPoints.call(this,a,b,!0)},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.init=function(){h.prototype.init.apply(this,arguments);var b=this.options;b.pointRange=m(b.pointRange,b.colsize||1),this.yAxis.axisPointRange=b.rowsize||1,a.ellipse=a.circle,b.marker&&(b.marker.r=b.borderRadius)},o.prototype.markerAttribs=function(a,b){var t=a.marker||{},e=this.options.marker||{},o=a.shapeArgs||{},r={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=e.states[b]||{},n=t.states&&t.states[b]||{};[["width","x"],["height","y"]].forEach((function(a){r[a[0]]=(n[a[0]]||g[a[0]]||o[a[0]])+(n[a[0]+"Plus"]||g[a[0]+"Plus"]||0),r[a[1]]=o[a[1]]+(o[a[0]]-r[a[0]])/2}))}return b?r:o},o.prototype.pointAttribs=function(a,b){var e=h.prototype.pointAttribs.call(this,a,b),o=this.options||{},r=this.chart.options.plotOptions||{},g=r.series||{},n=r.heatmap||{};return r=a&&a.options.borderColor||o.borderColor||n.borderColor||g.borderColor,g=a&&a.options.borderWidth||o.borderWidth||n.borderWidth||g.borderWidth||e["stroke-width"],e.stroke=a&&a.marker&&a.marker.lineColor||o.marker&&o.marker.lineColor||r||this.color,e["stroke-width"]=g,b&&(b=(a=y(o.states[b],o.marker&&o.marker.states[b],a&&a.options.states&&a.options.states[b]||{})).brightness,e.fill=a.color||t.parse(e.fill).brighten(b||0).get(),e.stroke=a.lineColor),e},o.prototype.setClip=function(a){var b=this.chart;h.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)},o.prototype.translate=function(){var b=this.options,t=b.marker&&b.marker.symbol||"rect",e=a[t]?t:"rect",o=-1!==["circle","square"].indexOf(e);this.generatePoints(),this.points.forEach((function(r){var g=r.getCellAttributes(),n={};n.x=Math.min(g.x1,g.x2),n.y=Math.min(g.y1,g.y2),n.width=Math.max(Math.abs(g.x2-g.x1),0),n.height=Math.max(Math.abs(g.y2-g.y1),0);var l=r.hasImage=0===(r.marker&&r.marker.symbol||t||"").indexOf("url");if(o){var h=Math.abs(n.width-n.height);n.x=Math.min(g.x1,g.x2)+(n.width<n.height?0:h/2),n.y=Math.min(g.y1,g.y2)+(n.width<n.height?h/2:0),n.width=n.height=Math.min(n.width,n.height)}h={plotX:(g.x1+g.x2)/2,plotY:(g.y1+g.y2)/2,clientX:(g.x1+g.x2)/2,shapeType:"path",shapeArgs:y(!0,n,{d:a[e](n.x,n.y,n.width,n.height,{r:b.borderRadius})})},l&&(r.marker={width:n.width,height:n.height}),f(r,h)})),u(this,"afterTranslate")},o.defaultOptions=y(b.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return p(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),o}(b),f(r.prototype,{axisTypes:e.seriesMembers.axisTypes,colorKey:e.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:e.seriesMembers.trackerGroups,alignDataLabel:d.prototype.alignDataLabel,colorAttribs:e.seriesMembers.colorAttribs,drawLegendSymbol:g.drawRectangle,getSymbol:h.prototype.getSymbol}),e.compose(r),o.registerSeriesType("heatmap",r),r})),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Core/Chart/MapChart.js"],t["Maps/MapView.js"],t["Maps/Projection.js"]],(function(t,e,q,g,o,r){t.ColorAxis=e,t.MapChart=g,t.mapChart=t.Map=g.mapChart,t.MapView=o,t.maps=g.maps,t.Projection=r,e.compose(t.Chart,t.Fx,t.Legend,t.Series),q.compose(t.Axis,t.Chart,t.Legend,t.Series)}))},t.exports?(l.default=l,t.exports=l):(r=[o(222)],void 0===(n=function(t){return l(t),l.Highcharts=t,l}.apply(e,r))||(t.exports=n))}}]);